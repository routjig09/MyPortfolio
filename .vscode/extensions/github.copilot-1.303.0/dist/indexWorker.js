"use strict";var up=Object.create;var dr=Object.defineProperty;var lp=Object.getOwnPropertyDescriptor;var cp=Object.getOwnPropertyNames;var dp=Object.getPrototypeOf,fp=Object.prototype.hasOwnProperty;var i=(t,e)=>dr(t,"name",{value:e,configurable:!0});var mp=(t,e)=>()=>(t&&(e=t(t=0)),e);var H=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),pp=(t,e)=>{for(var n in e)dr(t,n,{get:e[n],enumerable:!0})},Mu=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of cp(e))!fp.call(t,o)&&o!==n&&dr(t,o,{get:()=>e[o],enumerable:!(r=lp(e,o))||r.enumerable});return t};var Ut=(t,e,n)=>(n=t!=null?up(dp(t)):{},Mu(e||!t||!t.__esModule?dr(n,"default",{value:t,enumerable:!0}):n,t)),gp=t=>Mu(dr({},"__esModule",{value:!0}),t);var importMetaUrlShim,p=mp(()=>{"use strict";importMetaUrlShim=typeof document>"u"?require("node:url").pathToFileURL(__filename).href:importMetaUrlShim});var Vu=H(Tt=>{"use strict";p();Object.defineProperty(Tt,"__esModule",{value:!0});Tt.bytePairEncode=Tt.BinaryMap=Tt.binaryMapKey=void 0;var Pp=i((t,e,n)=>{let r=n-e,o=16777215>>>Math.max(0,(3-r)*8),s=(t[e+0]|t[e+1]<<8|t[e+2]<<16)&o,a=16777215>>>Math.min(31,Math.max(0,(6-r)*8)),u=(t[e+3]|t[e+4]<<8|t[e+5]<<16)&a;return s+16777216*u},"binaryMapKey");Tt.binaryMapKey=Pp;var Ho=class t{static{i(this,"BinaryMap")}constructor(){this.nested=new Map,this.final=new Map}get(e,n=0,r=e.length){let o=r<6+n,s=(0,Tt.binaryMapKey)(e,n,r);return o?this.final.get(s):this.nested.get(s)?.get(e,6+n,r)}set(e,n){let r=(0,Tt.binaryMapKey)(e,0,e.length);if(e.length<6){this.final.set(r,n);return}let s=this.nested.get(r);if(s instanceof t)s.set(e.subarray(6),n);else{let a=new t;a.set(e.subarray(6),n),this.nested.set(r,a)}}};Tt.BinaryMap=Ho;var Et=new Int32Array(128),Ve=new Int32Array(128);function Mp(t,e,n){if(n===1)return[e.get(t)];let r=2147483647,o=-1;for(;Et.length<n*2;)Ve=new Int32Array(Ve.length*2),Et=new Int32Array(Et.length*2);for(let d=0;d<n-1;d++){let f=e.get(t,d,d+2)??2147483647;f<r&&(r=f,o=d),Ve[d]=d,Et[d]=f}Ve[n-1]=n-1,Et[n-1]=2147483647,Ve[n]=n,Et[n]=2147483647;let s=n+1;function a(d,f=0){if(d+f+2<s){let g=e.get(t,Ve[d],Ve[d+f+2]);if(g!==void 0)return g}return 2147483647}for(i(a,"getRank");r!==2147483647;){Et[Ve[o]]=a(o,1),o>0&&(Et[Ve[o-1]]=a(o-1,1));for(let d=o+1;d<s-1;d++)Ve[d]=Ve[d+1];s--,o=-1,r=2147483647;for(let d=0;d<s-1;d++){let f=Et[Ve[d]];Et[Ve[d]]<r&&(r=f,o=d)}}let u=[];for(let d=0;d<s-1;d++)u.push(e.get(t,Ve[d],Ve[d+1]));return u}i(Mp,"bytePairEncode");Tt.bytePairEncode=Mp});var Gu=H(ii=>{"use strict";p();Object.defineProperty(ii,"__esModule",{value:!0});ii.makeTextEncoder=void 0;var Vo=class{static{i(this,"UniversalTextEncoder")}constructor(){this.length=0,this.encoder=new TextEncoder}encode(e){let n=this.encoder.encode(e);return this.length=n.length,n}},Go=class{static{i(this,"NodeTextEncoder")}constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(e){for(;;){if(this.length=this.buffer.write(e,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(e)}}},Cp=i(()=>typeof Buffer<"u"?new Go:new Vo,"makeTextEncoder");ii.makeTextEncoder=Cp});var Zu=H(oi=>{"use strict";p();Object.defineProperty(oi,"__esModule",{value:!0});oi.LRUCache=void 0;var Zo=class{static{i(this,"LRUCache")}constructor(e){this.size=e,this.nodes=new Map}get(e){let n=this.nodes.get(e);if(n)return this.moveToHead(n),n.value}set(e,n){let r=this.nodes.get(e);if(r)r.value=n,this.moveToHead(r);else{let o=new Qo(e,n);this.nodes.set(e,o),this.addNode(o),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(e){this.removeNode(e),e.next=void 0,e.prev=void 0,this.addNode(e)}addNode(e){this.head&&(this.head.prev=e,e.next=this.head),this.tail||(this.tail=e),this.head=e}removeNode(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev}};oi.LRUCache=Zo;var Qo=class{static{i(this,"Node")}constructor(e,n){this.key=e,this.value=n}}});var Ko=H(ai=>{"use strict";p();Object.defineProperty(ai,"__esModule",{value:!0});ai.TikTokenizer=void 0;var Lp=require("fs"),Np=require("util"),si=Vu(),Ap=Gu(),Dp=Zu();function Op(t){let e=new Map;try{let r=Lp.readFileSync(t,"utf-8");return n(r),e}catch(r){throw new Error(`Failed to load from BPE encoder file stream: ${r}`)}function n(r){for(let o of r.split(/[\r\n]+/)){if(o.trim()==="")continue;let s=o.split(" ");if(s.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let a=new Uint8Array(Buffer.from(s[0],"base64")),u=parseInt(s[1]);if(!isNaN(u))e.set(a,u);else throw new Error(`Can't parse ${s[1]} to integer`)}}i(n,"processBpeRanks")}i(Op,"loadTikTokenBpe");function Fp(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}i(Fp,"escapeRegExp");var Jo=class{static{i(this,"TikTokenizer")}constructor(e,n,r,o=8192){this.textEncoder=(0,Ap.makeTextEncoder)(),this.textDecoder=new Np.TextDecoder("utf-8"),this.cache=new Dp.LRUCache(o);let s=typeof e=="string"?Op(e):e;this.init(s,n,r)}init(e,n,r){this.encoder=new si.BinaryMap;for(let[o,s]of e)this.encoder.set(o,s);this.regex=new RegExp(r,"gu"),this.specialTokensRegex=new RegExp(Array.from(n.keys()).map(o=>Fp(o)).join("|")),this.specialTokensEncoder=n,this.decoder=new Map;for(let[o,s]of e)this.decoder.set(s,o);if(e.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[o,s]of n)this.specialTokensDecoder.set(s,o)}findNextSpecialToken(e,n,r){let o=n,s=null;if(r&&this.specialTokensRegex)for(;s=e.slice(o).match(this.specialTokensRegex),!(!s||r&&r.includes(s[0]));)o+=s.index+1;let a=s?o+s.index:e.length;return[s,a]}encode(e,n){let r=[],o=0;for(;;){let s,a;if([s,a]=this.findNextSpecialToken(e,o,n),a>o&&this.encodeByIndex(e,r,o,a),s){if(o=o+this.encodeSpecialToken(r,s),o>=e.length)break}else break}return r}encodeSpecialToken(e,n){let r=this.specialTokensEncoder?.get(n[0]);return e.push(r),n.index+n[0].length}encodeByIndex(e,n,r,o){let s,a=e.substring(r,o);for(this.regex.lastIndex=0;s=this.regex.exec(a);){let u=this.cache.get(s[0]);if(u)for(let d of u)n.push(d);else{let d=this.textEncoder.encode(s[0]),f=this.encoder.get(d,0,this.textEncoder.length);if(f!==void 0)n.push(f),this.cache.set(s[0],[f]);else{let g=(0,si.bytePairEncode)(d,this.encoder,this.textEncoder.length);for(let v of g)n.push(v);this.cache.set(s[0],g)}}}}encodeTrimSuffixByIndex(e,n,r,o,s,a,u){let d,f=e.substring(r,o);for(this.regex.lastIndex=0;d=this.regex.exec(f);){let g=d[0],v=this.cache.get(g);if(v)if(a+v.length<=s)a+=v.length,u+=g.length,n.push(...v);else{let w=s-a;a+=w,u+=g.length,n.push(...v.slice(0,w));break}else{let w=this.textEncoder.encode(g),x=this.encoder.get(w,0,w.length);if(x!==void 0)if(this.cache.set(g,[x]),a+1<=s)a++,u+=g.length,n.push(x);else break;else{let D=(0,si.bytePairEncode)(w,this.encoder,this.textEncoder.length);if(this.cache.set(g,D),a+D.length<=s){a+=D.length,u+=g.length;for(let R of D)n.push(R)}else{let R=s-a;a+=R,u+=g.length;for(let q=0;q<R;q++)n.push(D[q]);break}}}if(a>=s)break}return{tokenCount:a,encodeLength:u}}encodeTrimSuffix(e,n,r){let o=[],s=0,a=0,u=0;for(;;){let f,g;if([f,g]=this.findNextSpecialToken(e,s,r),g>s){let{tokenCount:v,encodeLength:w}=this.encodeTrimSuffixByIndex(e,o,s,g,n,a,u);if(a=v,u=w,a>=n)break}if(f!==null){if(a++,a<=n&&(s=s+this.encodeSpecialToken(o,f),u+=f[0].length,s>=e.length)||a>=n)break}else break}let d=u===e.length?e:e.slice(0,u);return{tokenIds:o,text:d}}encodeTrimPrefix(e,n,r){let o=[],s=0,a=0,u=0,d=new Map;for(d.set(a,u);;){let w,x;if([w,x]=this.findNextSpecialToken(e,s,r),x>s){let D,R=e.substring(s,x);for(this.regex.lastIndex=0;D=this.regex.exec(R);){let q=D[0],F=this.cache.get(q);if(F)a+=F.length,u+=q.length,o.push(...F),d.set(a,u);else{let M=this.textEncoder.encode(q),V=this.encoder.get(M);if(V!==void 0)this.cache.set(q,[V]),a++,u+=q.length,o.push(V),d.set(a,u);else{let Y=(0,si.bytePairEncode)(M,this.encoder,this.textEncoder.length);this.cache.set(q,Y),a+=Y.length,u+=q.length;for(let ee of Y)o.push(ee);d.set(a,u)}}}}if(w!==null){if(s=s+this.encodeSpecialToken(o,w),a++,u+=w[0].length,d.set(a,u),s>=e.length)break}else break}if(a<=n)return{tokenIds:o,text:e};let f=a-n,g=0,v=0;for(let[w,x]of d)if(w>=f){g=w,v=x;break}if(g>n){let w=this.encode(e,r),x=w.slice(w.length-n);return{tokenIds:x,text:this.decode(x)}}return{tokenIds:o.slice(g),text:e.slice(v)}}decode(e){let n=[];for(let r of e){let o=[],s=this.decoder?.get(r);if(s!==void 0)o=Array.from(s);else{let a=this.specialTokensDecoder?.get(r);if(a!==void 0){let u=this.textEncoder.encode(a);o=Array.from(u.subarray(0,this.textEncoder.length))}}n.push(...o)}return this.textDecoder.decode(new Uint8Array(n))}};ai.TikTokenizer=Jo});var il=H(Pe=>{"use strict";p();Object.defineProperty(Pe,"__esModule",{value:!0});Pe.createTokenizer=Pe.createByEncoderName=Pe.createByModelName=Pe.getRegexByModel=Pe.getRegexByEncoder=Pe.getSpecialTokensByModel=Pe.getSpecialTokensByEncoder=Pe.MODEL_TO_ENCODING=void 0;var li=require("fs"),Xo=require("path"),jp=Ko(),qp=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);Pe.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var ui="<|endoftext|>",Qu="<|fim_prefix|>",Ju="<|fim_middle|>",Ku="<|fim_suffix|>",Xu="<|endofprompt|>",hr="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",Yu="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",Wp=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],el=Wp.join("|");function Yo(t){let e="";if(Pe.MODEL_TO_ENCODING.has(t))e=Pe.MODEL_TO_ENCODING.get(t);else for(let[n,r]of qp)if(t.startsWith(n)){e=r;break}return e}i(Yo,"getEncoderFromModelName");async function Up(t,e){let n=await fetch(t);if(!n.ok)throw new Error(`Failed to fetch file from ${t}. Status code: ${n.status}`);let r=await n.text();li.writeFileSync(e,r)}i(Up,"fetchAndSaveFile");function es(t){let e=new Map([[ui,50256]]);switch(t){case"o200k_base":e=new Map([[ui,199999],[Xu,200018]]);break;case"cl100k_base":e=new Map([[ui,100257],[Qu,100258],[Ju,100259],[Ku,100260],[Xu,100276]]);break;case"p50k_edit":e=new Map([[ui,50256],[Qu,50281],[Ju,50282],[Ku,50283]]);break;default:break}return e}i(es,"getSpecialTokensByEncoder");Pe.getSpecialTokensByEncoder=es;function Bp(t){let e=Yo(t);return es(e)}i(Bp,"getSpecialTokensByModel");Pe.getSpecialTokensByModel=Bp;function tl(t){switch(t){case"o200k_base":return el;case"cl100k_base":return Yu;default:break}return hr}i(tl,"getRegexByEncoder");Pe.getRegexByEncoder=tl;function zp(t){let e=Yo(t);return tl(e)}i(zp,"getRegexByModel");Pe.getRegexByModel=zp;async function $p(t,e=null){return nl(Yo(t),e)}i($p,"createByModelName");Pe.createByModelName=$p;async function nl(t,e=null){let n,r,o=es(t);switch(t){case"o200k_base":n=el,r="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":n=Yu,r="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":n=hr,r="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":n=hr,r="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":n=hr,r="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":n=hr,r="https://raw.githubusercontent.com/microsoft/Tokenizer/main/model/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${t}]`)}e!==null&&(o=new Map([...o,...e]));let s=Xo.basename(r),a=Xo.resolve(__dirname,"..","model");li.existsSync(a)||li.mkdirSync(a,{recursive:!0});let u=Xo.resolve(a,s);return li.existsSync(u)||(console.log(`Downloading file from ${r}`),await Up(r,u),console.log(`Saved file to ${u}`)),rl(u,o,n)}i(nl,"createByEncoderName");Pe.createByEncoderName=nl;function rl(t,e,n,r=8192){return new jp.TikTokenizer(t,e,n,r)}i(rl,"createTokenizer");Pe.createTokenizer=rl});var ol=H(Me=>{"use strict";p();Object.defineProperty(Me,"__esModule",{value:!0});Me.createTokenizer=Me.createByEncoderName=Me.createByModelName=Me.getSpecialTokensByModel=Me.getSpecialTokensByEncoder=Me.getRegexByModel=Me.getRegexByEncoder=Me.MODEL_TO_ENCODING=Me.TikTokenizer=void 0;var Hp=Ko();Object.defineProperty(Me,"TikTokenizer",{enumerable:!0,get:i(function(){return Hp.TikTokenizer},"get")});var $t=il();Object.defineProperty(Me,"MODEL_TO_ENCODING",{enumerable:!0,get:i(function(){return $t.MODEL_TO_ENCODING},"get")});Object.defineProperty(Me,"getRegexByEncoder",{enumerable:!0,get:i(function(){return $t.getRegexByEncoder},"get")});Object.defineProperty(Me,"getRegexByModel",{enumerable:!0,get:i(function(){return $t.getRegexByModel},"get")});Object.defineProperty(Me,"getSpecialTokensByEncoder",{enumerable:!0,get:i(function(){return $t.getSpecialTokensByEncoder},"get")});Object.defineProperty(Me,"getSpecialTokensByModel",{enumerable:!0,get:i(function(){return $t.getSpecialTokensByModel},"get")});Object.defineProperty(Me,"createByModelName",{enumerable:!0,get:i(function(){return $t.createByModelName},"get")});Object.defineProperty(Me,"createByEncoderName",{enumerable:!0,get:i(function(){return $t.createByEncoderName},"get")});Object.defineProperty(Me,"createTokenizer",{enumerable:!0,get:i(function(){return $t.createTokenizer},"get")})});var yl=H((exports,module)=>{p();var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;class Parser{static{i(this,"Parser")}constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=i((t,e)=>{throw e},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(t){return Module.locateFile?Module.locateFile(t,scriptDirectory):scriptDirectory+t}i(locateFile,"locateFile");function logExceptionOnExit(t){t instanceof ExitStatus||err("exiting due to exception: "+t)}if(i(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=i((t,e)=>(t=isFileURI(t)?new URL(t):nodePath.normalize(t),fs.readFileSync(t,e?void 0:"utf8")),"read_"),readBinary=i(t=>{var e=read_(t,!0);return e.buffer||(e=new Uint8Array(e)),e},"readBinary"),readAsync=i((t,e,n)=>{t=isFileURI(t)?new URL(t):nodePath.normalize(t),fs.readFile(t,function(r,o){r?n(r):e(o.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=i((t,e)=>{if(keepRuntimeAlive())throw process.exitCode=t,e;logExceptionOnExit(e),process.exit(t)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=i(t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=i(t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)},"readBinary")),readAsync=i((t,e,n)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{r.status==200||r.status==0&&r.response?e(r.response):n()},r.onerror=n,r.send(null)},"readAsync"),setWindowTitle=i(t=>document.title=t,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(t,e,n){for(var r=e+n,o=e;t[o]&&!(o>=r);)++o;if(o-e>16&&t.buffer&&UTF8Decoder)return UTF8Decoder.decode(t.subarray(e,o));for(var s="";e<o;){var a=t[e++];if(128&a){var u=63&t[e++];if((224&a)!=192){var d=63&t[e++];if((a=(240&a)==224?(15&a)<<12|u<<6|d:(7&a)<<18|u<<12|d<<6|63&t[e++])<65536)s+=String.fromCharCode(a);else{var f=a-65536;s+=String.fromCharCode(55296|f>>10,56320|1023&f)}}else s+=String.fromCharCode((31&a)<<6|u)}else s+=String.fromCharCode(a)}return s}i(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(t,e){return t?UTF8ArrayToString(HEAPU8,t,e):""}i(UTF8ToString,"UTF8ToString");function stringToUTF8Array(t,e,n,r){if(!(r>0))return 0;for(var o=n,s=n+r-1,a=0;a<t.length;++a){var u=t.charCodeAt(a);if(u>=55296&&u<=57343&&(u=65536+((1023&u)<<10)|1023&t.charCodeAt(++a)),u<=127){if(n>=s)break;e[n++]=u}else if(u<=2047){if(n+1>=s)break;e[n++]=192|u>>6,e[n++]=128|63&u}else if(u<=65535){if(n+2>=s)break;e[n++]=224|u>>12,e[n++]=128|u>>6&63,e[n++]=128|63&u}else{if(n+3>=s)break;e[n++]=240|u>>18,e[n++]=128|u>>12&63,e[n++]=128|u>>6&63,e[n++]=128|63&u}}return e[n]=0,n-o}i(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(t,e,n){return stringToUTF8Array(t,HEAPU8,e,n)}i(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);r<=127?e++:r<=2047?e+=2:r>=55296&&r<=57343?(e+=4,++n):e+=3}return e}i(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(t){buffer=t,Module.HEAP8=HEAP8=new Int8Array(t),Module.HEAP16=HEAP16=new Int16Array(t),Module.HEAP32=HEAP32=new Int32Array(t),Module.HEAPU8=HEAPU8=new Uint8Array(t),Module.HEAPU16=HEAPU16=new Uint16Array(t),Module.HEAPU32=HEAPU32=new Uint32Array(t),Module.HEAPF32=HEAPF32=new Float32Array(t),Module.HEAPF64=HEAPF64=new Float64Array(t)}i(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}i(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}i(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}i(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}i(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}i(postRun,"postRun");function addOnPreRun(t){__ATPRERUN__.unshift(t)}i(addOnPreRun,"addOnPreRun");function addOnInit(t){__ATINIT__.unshift(t)}i(addOnInit,"addOnInit");function addOnPostRun(t){__ATPOSTRUN__.unshift(t)}i(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(t){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}i(addRunDependency,"addRunDependency");function removeRunDependency(t){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var e=dependenciesFulfilled;dependenciesFulfilled=null,e()}}i(removeRunDependency,"removeRunDependency");function abort(t){throw Module.onAbort&&Module.onAbort(t),err(t="Aborted("+t+")"),ABORT=!0,EXITSTATUS=1,t+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(t)}i(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(t){return t.startsWith(dataURIPrefix)}i(isDataURI,"isDataURI");function isFileURI(t){return t.startsWith("file://")}i(isFileURI,"isFileURI");function getBinary(t){try{if(t==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(t);throw"both async and sync fetching of the wasm failed"}catch(e){abort(e)}}i(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(t){if(!t.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return t.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(t,e){readAsync(wasmBinaryFile,function(n){t(new Uint8Array(n))},e)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}i(getBinaryPromise,"getBinaryPromise");function createWasm(){var t={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function e(o,s){var a=o.exports;a=relocateExports(a,1024);var u=getDylinkMetadata(s);u.neededDynlibs&&(dynamicLibraries=u.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(a,"main"),Module.asm=a,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}i(e,"t");function n(o){e(o.instance,o.module)}i(n,"r");function r(o){return getBinaryPromise().then(function(s){return WebAssembly.instantiate(s,t)}).then(function(s){return s}).then(o,function(s){err("failed to asynchronously prepare wasm: "+s),abort(s)})}if(i(r,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(t,e)}catch(o){return err("Module.instantiateWasm callback failed with error: "+o),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?r(n):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(o){return WebAssembly.instantiateStreaming(o,t).then(n,function(s){return err("wasm streaming compile failed: "+s),err("falling back to ArrayBuffer instantiation"),r(n)})}),{}}i(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}i(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:i(function(t,e){var n=GOT[e];return n||(n=GOT[e]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(e)||(n.required=!0),n},"get")};function callRuntimeCallbacks(t){for(;t.length>0;)t.shift()(Module)}i(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(t){var e=0,n=0;function r(){for(var F=0,M=1;;){var V=t[e++];if(F+=(127&V)*M,M*=128,!(128&V))break}return F}i(r,"_");function o(){var F=r();return UTF8ArrayToString(t,(e+=F)-F,F)}i(o,"n");function s(F,M){if(F)throw new Error(M)}i(s,"s");var a="dylink.0";if(t instanceof WebAssembly.Module){var u=WebAssembly.Module.customSections(t,a);u.length===0&&(a="dylink",u=WebAssembly.Module.customSections(t,a)),s(u.length===0,"need dylink section"),n=(t=new Uint8Array(u[0])).length}else{s(new Uint32Array(new Uint8Array(t.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),s(t[8]!==0,"need the dylink section to be first"),e=9;var d=r();n=e+d,a=o()}var f={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(a=="dylink"){f.memorySize=r(),f.memoryAlign=r(),f.tableSize=r(),f.tableAlign=r();for(var g=r(),v=0;v<g;++v){var w=o();f.neededDynlibs.push(w)}}else for(s(a!=="dylink.0");e<n;){var x=t[e++],D=r();if(x===1)f.memorySize=r(),f.memoryAlign=r(),f.tableSize=r(),f.tableAlign=r();else if(x===2)for(g=r(),v=0;v<g;++v)w=o(),f.neededDynlibs.push(w);else if(x===3)for(var R=r();R--;){var q=o();256&r()&&f.tlsExports.add(q)}else if(x===4)for(R=r();R--;)o(),q=o(),(3&r())==1&&f.weakImports.add(q);else e+=D}return f}i(getDylinkMetadata,"getDylinkMetadata");function getValue(t,e="i8"){switch(e.endsWith("*")&&(e="*"),e){case"i1":case"i8":return HEAP8[t>>0];case"i16":return HEAP16[t>>1];case"i32":case"i64":return HEAP32[t>>2];case"float":return HEAPF32[t>>2];case"double":return HEAPF64[t>>3];case"*":return HEAPU32[t>>2];default:abort("invalid type for getValue: "+e)}return null}i(getValue,"getValue");function asmjsMangle(t){return t.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(t)?t:"_"+t}i(asmjsMangle,"asmjsMangle");function mergeLibSymbols(t,e){for(var n in t)if(t.hasOwnProperty(n)){asmLibraryArg.hasOwnProperty(n)||(asmLibraryArg[n]=t[n]);var r=asmjsMangle(n);Module.hasOwnProperty(r)||(Module[r]=t[n]),n=="__main_argc_argv"&&(Module._main=t[n])}}i(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(t,e,n){var r=Module["dynCall_"+t];return n&&n.length?r.apply(null,[e].concat(n)):r.call(null,e)}i(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(t){var e=wasmTableMirror[t];return e||(t>=wasmTableMirror.length&&(wasmTableMirror.length=t+1),wasmTableMirror[t]=e=wasmTable.get(t)),e}i(getWasmTableEntry,"getWasmTableEntry");function dynCall(t,e,n){return t.includes("j")?dynCallLegacy(t,e,n):getWasmTableEntry(e).apply(null,n)}i(dynCall,"dynCall");function createInvokeFunction(t){return function(){var e=stackSave();try{return dynCall(t,arguments[0],Array.prototype.slice.call(arguments,1))}catch(n){if(stackRestore(e),n!==n+0)throw n;_setThrew(1,0)}}}i(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(t,e){return HEAPU8.fill(0,t,t+e),t}i(zeroMemory,"zeroMemory");function getMemory(t){if(runtimeInitialized)return zeroMemory(_malloc(t),t);var e=___heap_base,n=e+t+15&-16;return ___heap_base=n,GOT.__heap_base.value=n,e}i(getMemory,"getMemory");function isInternalSym(t){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(t)}i(isInternalSym,"isInternalSym");function uleb128Encode(t,e){t<128?e.push(t):e.push(t%128|128,t>>7)}i(uleb128Encode,"uleb128Encode");function sigToWasmTypes(t){for(var e={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},n={parameters:[],results:t[0]=="v"?[]:[e[t[0]]]},r=1;r<t.length;++r)n.parameters.push(e[t[r]]),t[r]==="j"&&n.parameters.push("i32");return n}i(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(t,e){var n=t.slice(0,1),r=t.slice(1),o={i:127,p:127,j:126,f:125,d:124};e.push(96),uleb128Encode(r.length,e);for(var s=0;s<r.length;++s)e.push(o[r[s]]);n=="v"?e.push(0):e.push(1,o[n])}i(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(t,e){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(e),t);var n=[1];generateFuncType(e,n);var r=[0,97,115,109,1,0,0,0,1];uleb128Encode(n.length,r),r.push.apply(r,n),r.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var o=new WebAssembly.Module(new Uint8Array(r));return new WebAssembly.Instance(o,{e:{f:t}}).exports.f}i(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(t,e){if(functionsInTableMap)for(var n=t;n<t+e;n++){var r=getWasmTableEntry(n);r&&functionsInTableMap.set(r,n)}}i(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(t){throw t instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":t}return wasmTable.length-1}i(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(t,e){wasmTable.set(t,e),wasmTableMirror[t]=wasmTable.get(t)}i(setWasmTableEntry,"setWasmTableEntry");function addFunction(t,e){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(t))return functionsInTableMap.get(t);var n=getEmptyTableSlot();try{setWasmTableEntry(n,t)}catch(r){if(!(r instanceof TypeError))throw r;setWasmTableEntry(n,convertJsFunctionToWasm(t,e))}return functionsInTableMap.set(t,n),n}i(addFunction,"addFunction");function updateGOT(t,e){for(var n in t)if(!isInternalSym(n)){var r=t[n];n.startsWith("orig$")&&(n=n.split("$")[1],e=!0),GOT[n]||(GOT[n]=new WebAssembly.Global({value:"i32",mutable:!0})),(e||GOT[n].value==0)&&(typeof r=="function"?GOT[n].value=addFunction(r):typeof r=="number"?GOT[n].value=r:err("unhandled export type for `"+n+"`: "+typeof r))}}i(updateGOT,"updateGOT");function relocateExports(t,e,n){var r={};for(var o in t){var s=t[o];typeof s=="object"&&(s=s.value),typeof s=="number"&&(s+=e),r[o]=s}return updateGOT(r,n),r}i(relocateExports,"relocateExports");function resolveGlobalSymbol(t,e){var n;return e&&(n=asmLibraryArg["orig$"+t]),n||(n=asmLibraryArg[t])&&n.stub&&(n=void 0),n||(n=Module[asmjsMangle(t)]),!n&&t.startsWith("invoke_")&&(n=createInvokeFunction(t.split("_")[1])),n}i(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(t,e){return Math.ceil(t/e)*e}i(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(t){var e=resolveGlobalSymbol(t,!1);return e||(e=moduleExports[t]),e}i(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:i(function(t,e){switch(e){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(e in asmLibraryArg)return asmLibraryArg[e];var n;return e in t||(t[e]=function(){return n||(n=resolveSymbol(e)),n.apply(null,arguments)}),t[e]},"get")},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(i(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(i(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(t){return postInstantiation(t.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return i(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(t,e){return t.then(function(){return loadDynamicLibrary(e,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(t){loadDynamicLibrary(t,flags)}),loadModule())}i(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(t,e,n){e=e||{global:!0,nodelete:!0};var r=LDSO.loadedLibsByName[t];if(r)return e.global&&!r.global&&(r.global=!0,r.module!=="loading"&&mergeLibSymbols(r.module,t)),e.nodelete&&r.refcount!==1/0&&(r.refcount=1/0),r.refcount++,n&&(LDSO.loadedLibsByHandle[n]=r),!e.loadAsync||Promise.resolve(!0);function o(u){if(e.fs&&e.fs.findObject(u)){var d=e.fs.readFile(u,{encoding:"binary"});return d instanceof Uint8Array||(d=new Uint8Array(d)),e.loadAsync?Promise.resolve(d):d}if(u=locateFile(u),e.loadAsync)return new Promise(function(f,g){readAsync(u,v=>f(new Uint8Array(v)),g)});if(!readBinary)throw new Error(u+": file not found, and synchronous loading of external files is not available");return readBinary(u)}i(o,"n");function s(){if(typeof preloadedWasm<"u"&&preloadedWasm[t]){var u=preloadedWasm[t];return e.loadAsync?Promise.resolve(u):u}return e.loadAsync?o(t).then(function(d){return loadWebAssemblyModule(d,e,n)}):loadWebAssemblyModule(o(t),e,n)}i(s,"s");function a(u){r.global&&mergeLibSymbols(u,t),r.module=u}return i(a,"a"),r={refcount:e.nodelete?1/0:1,name:t,module:"loading",global:e.global},LDSO.loadedLibsByName[t]=r,n&&(LDSO.loadedLibsByHandle[n]=r),e.loadAsync?s().then(function(u){return a(u),!0}):(a(s()),!0)}i(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var t in GOT)if(GOT[t].value==0){var e=resolveGlobalSymbol(t,!0);if(!e&&!GOT[t].required)continue;if(typeof e=="function")GOT[t].value=addFunction(e,e.sig);else{if(typeof e!="number")throw new Error("bad export type for `"+t+"`: "+typeof e);GOT[t].value=e}}}i(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(t,e){return t.then(function(){return loadDynamicLibrary(e,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}i(preloadDylibs,"preloadDylibs");function setValue(t,e,n="i8"){switch(n.endsWith("*")&&(n="*"),n){case"i1":case"i8":HEAP8[t>>0]=e;break;case"i16":HEAP16[t>>1]=e;break;case"i32":HEAP32[t>>2]=e;break;case"i64":tempI64=[e>>>0,(tempDouble=e,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[t>>2]=tempI64[0],HEAP32[t+4>>2]=tempI64[1];break;case"float":HEAPF32[t>>2]=e;break;case"double":HEAPF64[t>>3]=e;break;case"*":HEAPU32[t>>2]=e;break;default:abort("invalid type for setValue: "+n)}}i(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}i(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}i(_abort,"_abort");function _emscripten_date_now(){return Date.now()}i(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(t,e,n){HEAPU8.copyWithin(t,e,e+n)}i(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}i(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(t){try{return wasmMemory.grow(t-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}i(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(t){var e=HEAPU8.length;t>>>=0;var n=getHeapMax();if(t>n)return!1;for(var r=1;r<=4;r*=2){var o=e*(1+.2/r);if(o=Math.min(o,t+100663296),emscripten_realloc_buffer(Math.min(n,(s=Math.max(t,o))+((a=65536)-s%a)%a)))return!0}var s,a;return!1}i(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:i(function(t,e,n){if(PATH.isAbs(e))return e;var r;if(t===-100?r=FS.cwd():r=SYSCALLS.getStreamFromFD(t).path,e.length==0){if(!n)throw new FS.ErrnoError(44);return r}return PATH.join2(r,e)},"calculateAt"),doStat:i(function(t,e,n){try{var r=t(e)}catch(u){if(u&&u.node&&PATH.normalize(e)!==PATH.normalize(FS.getPath(u.node)))return-54;throw u}HEAP32[n>>2]=r.dev,HEAP32[n+8>>2]=r.ino,HEAP32[n+12>>2]=r.mode,HEAPU32[n+16>>2]=r.nlink,HEAP32[n+20>>2]=r.uid,HEAP32[n+24>>2]=r.gid,HEAP32[n+28>>2]=r.rdev,tempI64=[r.size>>>0,(tempDouble=r.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[n+40>>2]=tempI64[0],HEAP32[n+44>>2]=tempI64[1],HEAP32[n+48>>2]=4096,HEAP32[n+52>>2]=r.blocks;var o=r.atime.getTime(),s=r.mtime.getTime(),a=r.ctime.getTime();return tempI64=[Math.floor(o/1e3)>>>0,(tempDouble=Math.floor(o/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[n+56>>2]=tempI64[0],HEAP32[n+60>>2]=tempI64[1],HEAPU32[n+64>>2]=o%1e3*1e3,tempI64=[Math.floor(s/1e3)>>>0,(tempDouble=Math.floor(s/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[n+72>>2]=tempI64[0],HEAP32[n+76>>2]=tempI64[1],HEAPU32[n+80>>2]=s%1e3*1e3,tempI64=[Math.floor(a/1e3)>>>0,(tempDouble=Math.floor(a/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[n+88>>2]=tempI64[0],HEAP32[n+92>>2]=tempI64[1],HEAPU32[n+96>>2]=a%1e3*1e3,tempI64=[r.ino>>>0,(tempDouble=r.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[n+104>>2]=tempI64[0],HEAP32[n+108>>2]=tempI64[1],0},"doStat"),doMsync:i(function(t,e,n,r,o){if(!FS.isFile(e.node.mode))throw new FS.ErrnoError(43);if(2&r)return 0;var s=HEAPU8.slice(t,t+n);FS.msync(e,s,o,n,r)},"doMsync"),varargs:void 0,get:i(function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},"get"),getStr:i(function(t){return UTF8ToString(t)},"getStr"),getStreamFromFD:i(function(t){var e=FS.getStream(t);if(!e)throw new FS.ErrnoError(8);return e},"getStreamFromFD")};function _proc_exit(t){EXITSTATUS=t,keepRuntimeAlive()||(Module.onExit&&Module.onExit(t),ABORT=!0),quit_(t,new ExitStatus(t))}i(_proc_exit,"_proc_exit");function exitJS(t,e){EXITSTATUS=t,_proc_exit(t)}i(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(t){try{var e=SYSCALLS.getStreamFromFD(t);return FS.close(e),0}catch(n){if(typeof FS>"u"||!(n instanceof FS.ErrnoError))throw n;return n.errno}}i(_fd_close,"_fd_close");function convertI32PairToI53Checked(t,e){return e+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*e:NaN}i(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(t,e,n,r,o){try{var s=convertI32PairToI53Checked(e,n);if(isNaN(s))return 61;var a=SYSCALLS.getStreamFromFD(t);return FS.llseek(a,s,r),tempI64=[a.position>>>0,(tempDouble=a.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[o>>2]=tempI64[0],HEAP32[o+4>>2]=tempI64[1],a.getdents&&s===0&&r===0&&(a.getdents=null),0}catch(u){if(typeof FS>"u"||!(u instanceof FS.ErrnoError))throw u;return u.errno}}i(_fd_seek,"_fd_seek");function doWritev(t,e,n,r){for(var o=0,s=0;s<n;s++){var a=HEAPU32[e>>2],u=HEAPU32[e+4>>2];e+=8;var d=FS.write(t,HEAP8,a,u,r);if(d<0)return-1;o+=d,r!==void 0&&(r+=d)}return o}i(doWritev,"doWritev");function _fd_write(t,e,n,r){try{var o=doWritev(SYSCALLS.getStreamFromFD(t),e,n);return HEAPU32[r>>2]=o,0}catch(s){if(typeof FS>"u"||!(s instanceof FS.ErrnoError))throw s;return s.errno}}i(_fd_write,"_fd_write");function _tree_sitter_log_callback(t,e){if(currentLogCallback){let n=UTF8ToString(e);currentLogCallback(n,t!==0)}}i(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(t,e,n,r,o){var s=currentParseCallback(e,{row:n,column:r});typeof s=="string"?(setValue(o,s.length,"i32"),stringToUTF16(s,t,10240)):setValue(o,0,"i32")}i(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(t){if(t instanceof ExitStatus||t=="unwind")return EXITSTATUS;quit_(1,t)}i(handleException,"handleException");function allocateUTF8OnStack(t){var e=lengthBytesUTF8(t)+1,n=stackAlloc(e);return stringToUTF8Array(t,HEAP8,n,e),n}i(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(t,e,n){if(n===void 0&&(n=2147483647),n<2)return 0;for(var r=e,o=(n-=2)<2*t.length?n/2:t.length,s=0;s<o;++s){var a=t.charCodeAt(s);HEAP16[e>>1]=a,e+=2}return HEAP16[e>>1]=0,e-r}i(stringToUTF16,"stringToUTF16");function AsciiToString(t){for(var e="";;){var n=HEAPU8[t++>>0];if(!n)return e;e+=String.fromCharCode(n)}}i(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(t){var e=Module._main;if(e){(t=t||[]).unshift(thisProgram);var n=t.length,r=stackAlloc(4*(n+1)),o=r>>2;t.forEach(a=>{HEAP32[o++]=allocateUTF8OnStack(a)}),HEAP32[o]=0;try{var s=e(n,r);return exitJS(s,!0),s}catch(a){return handleException(a)}}}i(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=i(function t(){calledRun||run(),calledRun||(dependenciesFulfilled=t)},"e");var dylibsLoaded=!1;function run(t){function e(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(t),postRun()))}i(e,"t"),t=t||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),e()},1)):e()))}if(i(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;class ParserImpl{static{i(this,"ParserImpl")}static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(e){let n;if(e){if(e.constructor!==Language)throw new Error("Argument must be a Language");{n=e[0];let r=C._ts_language_version(n);if(r<MIN_COMPATIBLE_VERSION||VERSION<r)throw new Error(`Incompatible language version ${r}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else n=0,e=null;return this.language=e,C._ts_parser_set_language(this[0],n),this}getLanguage(){return this.language}parse(e,n,r){if(typeof e=="string")currentParseCallback=i((d,f,g)=>e.slice(d,g),"currentParseCallback");else{if(typeof e!="function")throw new Error("Argument must be a string or a function");currentParseCallback=e}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let o=0,s=0;if(r&&r.includedRanges){o=r.includedRanges.length,s=C._calloc(o,SIZE_OF_RANGE);let d=s;for(let f=0;f<o;f++)marshalRange(d,r.includedRanges[f]),d+=SIZE_OF_RANGE}let a=C._ts_parser_parse_wasm(this[0],this[1],n?n[0]:0,s,o);if(!a)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let u=new Tree(INTERNAL,a,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,u}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(e){C._ts_parser_set_timeout_micros(this[0],e)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(e){if(e){if(typeof e!="function")throw new Error("Logger callback must be a function")}else e=null;return this.logCallback=e,this}getLogger(){return this.logCallback}}class Tree{static{i(this,"Tree")}constructor(e,n,r,o){assertInternal(e),this[0]=n,this.language=r,this.textCallback=o}copy(){let e=C._ts_tree_copy(this[0]);return new Tree(INTERNAL,e,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(e){marshalEdit(e),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(e){if(e.constructor!==Tree)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],e[0]);let n=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),o=new Array(n);if(n>0){let s=r;for(let a=0;a<n;a++)o[a]=unmarshalRange(s),s+=SIZE_OF_RANGE;C._free(r)}return o}}class Node{static{i(this,"Node")}constructor(e,n){assertInternal(e),this.tree=n}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(e){return this.id===e.id}child(e){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],e),unmarshalNode(this.tree)}namedChild(e){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],e),unmarshalNode(this.tree)}childForFieldId(e){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],e),unmarshalNode(this.tree)}childForFieldName(e){let n=this.tree.language.fields.indexOf(e);if(n!==-1)return this.childForFieldId(n)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let e=getValue(TRANSFER_BUFFER,"i32"),n=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(e),e>0){let r=n;for(let o=0;o<e;o++)this._children[o]=unmarshalNode(this.tree,r),r+=SIZE_OF_NODE;C._free(n)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let e=getValue(TRANSFER_BUFFER,"i32"),n=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(e),e>0){let r=n;for(let o=0;o<e;o++)this._namedChildren[o]=unmarshalNode(this.tree,r),r+=SIZE_OF_NODE;C._free(n)}}return this._namedChildren}descendantsOfType(e,n,r){Array.isArray(e)||(e=[e]),n||(n=ZERO_POINT),r||(r=ZERO_POINT);let o=[],s=this.tree.language.types;for(let g=0,v=s.length;g<v;g++)e.includes(s[g])&&o.push(g);let a=C._malloc(SIZE_OF_INT*o.length);for(let g=0,v=o.length;g<v;g++)setValue(a+g*SIZE_OF_INT,o[g],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],a,o.length,n.row,n.column,r.row,r.column);let u=getValue(TRANSFER_BUFFER,"i32"),d=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),f=new Array(u);if(u>0){let g=d;for(let v=0;v<u;v++)f[v]=unmarshalNode(this.tree,g),g+=SIZE_OF_NODE}return C._free(d),C._free(a),f}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(e,n=e){if(typeof e!="number"||typeof n!="number")throw new Error("Arguments must be numbers");marshalNode(this);let r=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(r,e,"i32"),setValue(r+SIZE_OF_INT,n,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(e,n=e){if(typeof e!="number"||typeof n!="number")throw new Error("Arguments must be numbers");marshalNode(this);let r=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(r,e,"i32"),setValue(r+SIZE_OF_INT,n,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(e,n=e){if(!isPoint(e)||!isPoint(n))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let r=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(r,e),marshalPoint(r+SIZE_OF_POINT,n),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(e,n=e){if(!isPoint(e)||!isPoint(n))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let r=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(r,e),marshalPoint(r+SIZE_OF_POINT,n),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let e=C._ts_node_to_string_wasm(this.tree[0]),n=AsciiToString(e);return C._free(e),n}}class TreeCursor{static{i(this,"TreeCursor")}constructor(e,n){assertInternal(e),this.tree=n,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(e){marshalNode(e),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let e=C._ts_tree_cursor_start_index_wasm(this.tree[0]),n=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,e,n)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let e=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}gotoNextSibling(){marshalTreeCursor(this);let e=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}gotoParent(){marshalTreeCursor(this);let e=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}}class Language{static{i(this,"Language")}constructor(e,n){assertInternal(e),this[0]=n,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let r=0,o=this.types.length;r<o;r++)C._ts_language_symbol_type(this[0],r)<2&&(this.types[r]=UTF8ToString(C._ts_language_symbol_name(this[0],r)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let r=0,o=this.fields.length;r<o;r++){let s=C._ts_language_field_name_for_id(this[0],r);this.fields[r]=s!==0?UTF8ToString(s):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(e){let n=this.fields.indexOf(e);return n!==-1?n:null}fieldNameForId(e){return this.fields[e]||null}idForNodeType(e,n){let r=lengthBytesUTF8(e),o=C._malloc(r+1);stringToUTF8(e,o,r+1);let s=C._ts_language_symbol_for_name(this[0],o,r,n);return C._free(o),s||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(e){let n=C._ts_language_symbol_name(this[0],e);return n?UTF8ToString(n):null}nodeTypeIsNamed(e){return!!C._ts_language_type_is_named_wasm(this[0],e)}nodeTypeIsVisible(e){return!!C._ts_language_type_is_visible_wasm(this[0],e)}query(e){let n=lengthBytesUTF8(e),r=C._malloc(n+1);stringToUTF8(e,r,n+1);let o=C._ts_query_new(this[0],r,n,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!o){let R=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),q=UTF8ToString(r,getValue(TRANSFER_BUFFER,"i32")).length,F=e.substr(q,100).split(`
`)[0],M,V=F.match(QUERY_WORD_REGEX)[0];switch(R){case 2:M=new RangeError(`Bad node name '${V}'`);break;case 3:M=new RangeError(`Bad field name '${V}'`);break;case 4:M=new RangeError(`Bad capture name @${V}`);break;case 5:M=new TypeError(`Bad pattern structure at offset ${q}: '${F}'...`),V="";break;default:M=new SyntaxError(`Bad syntax at offset ${q}: '${F}'...`),V=""}throw M.index=q,M.length=V.length,C._free(r),M}let s=C._ts_query_string_count(o),a=C._ts_query_capture_count(o),u=C._ts_query_pattern_count(o),d=new Array(a),f=new Array(s);for(let R=0;R<a;R++){let q=C._ts_query_capture_name_for_id(o,R,TRANSFER_BUFFER),F=getValue(TRANSFER_BUFFER,"i32");d[R]=UTF8ToString(q,F)}for(let R=0;R<s;R++){let q=C._ts_query_string_value_for_id(o,R,TRANSFER_BUFFER),F=getValue(TRANSFER_BUFFER,"i32");f[R]=UTF8ToString(q,F)}let g=new Array(u),v=new Array(u),w=new Array(u),x=new Array(u),D=new Array(u);for(let R=0;R<u;R++){let q=C._ts_query_predicates_for_pattern(o,R,TRANSFER_BUFFER),F=getValue(TRANSFER_BUFFER,"i32");x[R]=[],D[R]=[];let M=[],V=q;for(let Y=0;Y<F;Y++){let ee=getValue(V,"i32");V+=SIZE_OF_INT;let me=getValue(V,"i32");if(V+=SIZE_OF_INT,ee===PREDICATE_STEP_TYPE_CAPTURE)M.push({type:"capture",name:d[me]});else if(ee===PREDICATE_STEP_TYPE_STRING)M.push({type:"string",value:f[me]});else if(M.length>0){if(M[0].type!=="string")throw new Error("Predicates must begin with a literal value");let se=M[0].value,ge=!0;switch(se){case"not-eq?":ge=!1;case"eq?":if(M.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(M.length-1));if(M[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${M[1].value}"`);if(M[2].type==="capture"){let T=M[1].name,U=M[2].name;D[R].push(function(z){let k,L;for(let A of z)A.name===T&&(k=A.node),A.name===U&&(L=A.node);return k===void 0||L===void 0||k.text===L.text===ge})}else{let T=M[1].name,U=M[2].value;D[R].push(function(z){for(let k of z)if(k.name===T)return k.node.text===U===ge;return!0})}break;case"not-match?":ge=!1;case"match?":if(M.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${M.length-1}.`);if(M[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${M[1].value}".`);if(M[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${M[2].value}.`);let Oe=M[1].name,Fe=new RegExp(M[2].value);D[R].push(function(T){for(let U of T)if(U.name===Oe)return Fe.test(U.node.text)===ge;return!0});break;case"set!":if(M.length<2||M.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${M.length-1}.`);if(M.some(T=>T.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');g[R]||(g[R]={}),g[R][M[1].value]=M[2]?M[2].value:null;break;case"is?":case"is-not?":if(M.length<2||M.length>3)throw new Error(`Wrong number of arguments to \`#${se}\` predicate. Expected 1 or 2. Got ${M.length-1}.`);if(M.some(T=>T.type!=="string"))throw new Error(`Arguments to \`#${se}\` predicate must be a strings.".`);let O=se==="is?"?v:w;O[R]||(O[R]={}),O[R][M[1].value]=M[2]?M[2].value:null;break;default:x[R].push({operator:se,operands:M.slice(1)})}M.length=0}}Object.freeze(g[R]),Object.freeze(v[R]),Object.freeze(w[R])}return C._free(r),new Query(INTERNAL,o,d,D,x,Object.freeze(g),Object.freeze(v),Object.freeze(w))}static load(e){let n;if(e instanceof Uint8Array)n=Promise.resolve(e);else{let o=e;if(typeof process<"u"&&process.versions&&process.versions.node){let s=require("fs");n=Promise.resolve(s.readFileSync(o))}else n=fetch(o).then(s=>s.arrayBuffer().then(a=>{if(s.ok)return new Uint8Array(a);{let u=new TextDecoder("utf-8").decode(a);throw new Error(`Language.load failed with status ${s.status}.

${u}`)}}))}let r=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return n.then(o=>r(o,{loadAsync:!0})).then(o=>{let s=Object.keys(o),a=s.find(d=>LANGUAGE_FUNCTION_REGEX.test(d)&&!d.includes("external_scanner_"));a||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(s,null,2)}`);let u=o[a]();return new Language(INTERNAL,u)})}}class Query{static{i(this,"Query")}constructor(e,n,r,o,s,a,u,d){assertInternal(e),this[0]=n,this.captureNames=r,this.textPredicates=o,this.predicates=s,this.setProperties=a,this.assertedProperties=u,this.refutedProperties=d,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(e,n,r,o){n||(n=ZERO_POINT),r||(r=ZERO_POINT),o||(o={});let s=o.matchLimit;if(s===void 0)s=0;else if(typeof s!="number")throw new Error("Arguments must be numbers");marshalNode(e),C._ts_query_matches_wasm(this[0],e.tree[0],n.row,n.column,r.row,r.column,s);let a=getValue(TRANSFER_BUFFER,"i32"),u=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),d=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),f=new Array(a);this.exceededMatchLimit=!!d;let g=0,v=u;for(let w=0;w<a;w++){let x=getValue(v,"i32");v+=SIZE_OF_INT;let D=getValue(v,"i32");v+=SIZE_OF_INT;let R=new Array(D);if(v=unmarshalCaptures(this,e.tree,v,R),this.textPredicates[x].every(q=>q(R))){f[g++]={pattern:x,captures:R};let q=this.setProperties[x];q&&(f[w].setProperties=q);let F=this.assertedProperties[x];F&&(f[w].assertedProperties=F);let M=this.refutedProperties[x];M&&(f[w].refutedProperties=M)}}return f.length=g,C._free(u),f}captures(e,n,r,o){n||(n=ZERO_POINT),r||(r=ZERO_POINT),o||(o={});let s=o.matchLimit;if(s===void 0)s=0;else if(typeof s!="number")throw new Error("Arguments must be numbers");marshalNode(e),C._ts_query_captures_wasm(this[0],e.tree[0],n.row,n.column,r.row,r.column,s);let a=getValue(TRANSFER_BUFFER,"i32"),u=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),d=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),f=[];this.exceededMatchLimit=!!d;let g=[],v=u;for(let w=0;w<a;w++){let x=getValue(v,"i32");v+=SIZE_OF_INT;let D=getValue(v,"i32");v+=SIZE_OF_INT;let R=getValue(v,"i32");if(v+=SIZE_OF_INT,g.length=D,v=unmarshalCaptures(this,e.tree,v,g),this.textPredicates[x].every(q=>q(g))){let q=g[R],F=this.setProperties[x];F&&(q.setProperties=F);let M=this.assertedProperties[x];M&&(q.assertedProperties=M);let V=this.refutedProperties[x];V&&(q.refutedProperties=V),f.push(q)}}return C._free(u),f}predicatesForPattern(e){return this.predicates[e]}didExceedMatchLimit(){return this.exceededMatchLimit}}function getText(t,e,n){let r=n-e,o=t.textCallback(e,null,n);for(e+=o.length;e<n;){let s=t.textCallback(e,null,n);if(!(s&&s.length>0))break;e+=s.length,o+=s}return e>n&&(o=o.slice(0,r)),o}i(getText,"getText");function unmarshalCaptures(t,e,n,r){for(let o=0,s=r.length;o<s;o++){let a=getValue(n,"i32"),u=unmarshalNode(e,n+=SIZE_OF_INT);n+=SIZE_OF_NODE,r[o]={name:t.captureNames[a],node:u}}return n}i(unmarshalCaptures,"unmarshalCaptures");function assertInternal(t){if(t!==INTERNAL)throw new Error("Illegal constructor")}i(assertInternal,"assertInternal");function isPoint(t){return t&&typeof t.row=="number"&&typeof t.column=="number"}i(isPoint,"isPoint");function marshalNode(t){let e=TRANSFER_BUFFER;setValue(e,t.id,"i32"),e+=SIZE_OF_INT,setValue(e,t.startIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.startPosition.row,"i32"),e+=SIZE_OF_INT,setValue(e,t.startPosition.column,"i32"),e+=SIZE_OF_INT,setValue(e,t[0],"i32")}i(marshalNode,"marshalNode");function unmarshalNode(t,e=TRANSFER_BUFFER){let n=getValue(e,"i32");if(n===0)return null;let r=getValue(e+=SIZE_OF_INT,"i32"),o=getValue(e+=SIZE_OF_INT,"i32"),s=getValue(e+=SIZE_OF_INT,"i32"),a=getValue(e+=SIZE_OF_INT,"i32"),u=new Node(INTERNAL,t);return u.id=n,u.startIndex=r,u.startPosition={row:o,column:s},u[0]=a,u}i(unmarshalNode,"unmarshalNode");function marshalTreeCursor(t,e=TRANSFER_BUFFER){setValue(e+0*SIZE_OF_INT,t[0],"i32"),setValue(e+1*SIZE_OF_INT,t[1],"i32"),setValue(e+2*SIZE_OF_INT,t[2],"i32")}i(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(t){t[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),t[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),t[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}i(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(t,e){setValue(t,e.row,"i32"),setValue(t+SIZE_OF_INT,e.column,"i32")}i(marshalPoint,"marshalPoint");function unmarshalPoint(t){return{row:getValue(t,"i32"),column:getValue(t+SIZE_OF_INT,"i32")}}i(unmarshalPoint,"unmarshalPoint");function marshalRange(t,e){marshalPoint(t,e.startPosition),marshalPoint(t+=SIZE_OF_POINT,e.endPosition),setValue(t+=SIZE_OF_POINT,e.startIndex,"i32"),setValue(t+=SIZE_OF_INT,e.endIndex,"i32"),t+=SIZE_OF_INT}i(marshalRange,"marshalRange");function unmarshalRange(t){let e={};return e.startPosition=unmarshalPoint(t),t+=SIZE_OF_POINT,e.endPosition=unmarshalPoint(t),t+=SIZE_OF_POINT,e.startIndex=getValue(t,"i32"),t+=SIZE_OF_INT,e.endIndex=getValue(t,"i32"),e}i(unmarshalRange,"unmarshalRange");function marshalEdit(t){let e=TRANSFER_BUFFER;marshalPoint(e,t.startPosition),e+=SIZE_OF_POINT,marshalPoint(e,t.oldEndPosition),e+=SIZE_OF_POINT,marshalPoint(e,t.newEndPosition),e+=SIZE_OF_POINT,setValue(e,t.startIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.oldEndIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.newEndIndex,"i32"),e+=SIZE_OF_INT}i(marshalEdit,"marshalEdit");for(let t of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(Parser.prototype,t,{value:ParserImpl.prototype[t],enumerable:!1,writable:!1});Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}}return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});var xl=H(ys=>{p();var Tl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");ys.encode=function(t){if(0<=t&&t<Tl.length)return Tl[t];throw new TypeError("Must be between 0 and 63: "+t)};ys.decode=function(t){var e=65,n=90,r=97,o=122,s=48,a=57,u=43,d=47,f=26,g=52;return e<=t&&t<=n?t-e:r<=t&&t<=o?t-r+f:s<=t&&t<=a?t-s+g:t==u?62:t==d?63:-1}});var ws=H(vs=>{p();var kl=xl(),bs=5,Il=1<<bs,Rl=Il-1,Pl=Il;function vg(t){return t<0?(-t<<1)+1:(t<<1)+0}i(vg,"toVLQSigned");function wg(t){var e=(t&1)===1,n=t>>1;return e?-n:n}i(wg,"fromVLQSigned");vs.encode=i(function(e){var n="",r,o=vg(e);do r=o&Rl,o>>>=bs,o>0&&(r|=Pl),n+=kl.encode(r);while(o>0);return n},"base64VLQ_encode");vs.decode=i(function(e,n,r){var o=e.length,s=0,a=0,u,d;do{if(n>=o)throw new Error("Expected more digits in base 64 VLQ value.");if(d=kl.decode(e.charCodeAt(n++)),d===-1)throw new Error("Invalid base64 digit: "+e.charAt(n-1));u=!!(d&Pl),d&=Rl,s=s+(d<<a),a+=bs}while(u);r.value=wg(s),r.rest=n},"base64VLQ_decode")});var On=H(Be=>{p();function Sg(t,e,n){if(e in t)return t[e];if(arguments.length===3)return n;throw new Error('"'+e+'" is a required argument.')}i(Sg,"getArg");Be.getArg=Sg;var Ml=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,Eg=/^data:.+\,.+$/;function wr(t){var e=t.match(Ml);return e?{scheme:e[1],auth:e[2],host:e[3],port:e[4],path:e[5]}:null}i(wr,"urlParse");Be.urlParse=wr;function An(t){var e="";return t.scheme&&(e+=t.scheme+":"),e+="//",t.auth&&(e+=t.auth+"@"),t.host&&(e+=t.host),t.port&&(e+=":"+t.port),t.path&&(e+=t.path),e}i(An,"urlGenerate");Be.urlGenerate=An;function Ss(t){var e=t,n=wr(t);if(n){if(!n.path)return t;e=n.path}for(var r=Be.isAbsolute(e),o=e.split(/\/+/),s,a=0,u=o.length-1;u>=0;u--)s=o[u],s==="."?o.splice(u,1):s===".."?a++:a>0&&(s===""?(o.splice(u+1,a),a=0):(o.splice(u,2),a--));return e=o.join("/"),e===""&&(e=r?"/":"."),n?(n.path=e,An(n)):e}i(Ss,"normalize");Be.normalize=Ss;function Cl(t,e){t===""&&(t="."),e===""&&(e=".");var n=wr(e),r=wr(t);if(r&&(t=r.path||"/"),n&&!n.scheme)return r&&(n.scheme=r.scheme),An(n);if(n||e.match(Eg))return e;if(r&&!r.host&&!r.path)return r.host=e,An(r);var o=e.charAt(0)==="/"?e:Ss(t.replace(/\/+$/,"")+"/"+e);return r?(r.path=o,An(r)):o}i(Cl,"join");Be.join=Cl;Be.isAbsolute=function(t){return t.charAt(0)==="/"||Ml.test(t)};function Tg(t,e){t===""&&(t="."),t=t.replace(/\/$/,"");for(var n=0;e.indexOf(t+"/")!==0;){var r=t.lastIndexOf("/");if(r<0||(t=t.slice(0,r),t.match(/^([^\/]+:\/)?\/*$/)))return e;++n}return Array(n+1).join("../")+e.substr(t.length+1)}i(Tg,"relative");Be.relative=Tg;var Ll=function(){var t=Object.create(null);return!("__proto__"in t)}();function Nl(t){return t}i(Nl,"identity");function xg(t){return Al(t)?"$"+t:t}i(xg,"toSetString");Be.toSetString=Ll?Nl:xg;function kg(t){return Al(t)?t.slice(1):t}i(kg,"fromSetString");Be.fromSetString=Ll?Nl:kg;function Al(t){if(!t)return!1;var e=t.length;if(e<9||t.charCodeAt(e-1)!==95||t.charCodeAt(e-2)!==95||t.charCodeAt(e-3)!==111||t.charCodeAt(e-4)!==116||t.charCodeAt(e-5)!==111||t.charCodeAt(e-6)!==114||t.charCodeAt(e-7)!==112||t.charCodeAt(e-8)!==95||t.charCodeAt(e-9)!==95)return!1;for(var n=e-10;n>=0;n--)if(t.charCodeAt(n)!==36)return!1;return!0}i(Al,"isProtoString");function Ig(t,e,n){var r=Dn(t.source,e.source);return r!==0||(r=t.originalLine-e.originalLine,r!==0)||(r=t.originalColumn-e.originalColumn,r!==0||n)||(r=t.generatedColumn-e.generatedColumn,r!==0)||(r=t.generatedLine-e.generatedLine,r!==0)?r:Dn(t.name,e.name)}i(Ig,"compareByOriginalPositions");Be.compareByOriginalPositions=Ig;function Rg(t,e,n){var r=t.generatedLine-e.generatedLine;return r!==0||(r=t.generatedColumn-e.generatedColumn,r!==0||n)||(r=Dn(t.source,e.source),r!==0)||(r=t.originalLine-e.originalLine,r!==0)||(r=t.originalColumn-e.originalColumn,r!==0)?r:Dn(t.name,e.name)}i(Rg,"compareByGeneratedPositionsDeflated");Be.compareByGeneratedPositionsDeflated=Rg;function Dn(t,e){return t===e?0:t===null?1:e===null?-1:t>e?1:-1}i(Dn,"strcmp");function Pg(t,e){var n=t.generatedLine-e.generatedLine;return n!==0||(n=t.generatedColumn-e.generatedColumn,n!==0)||(n=Dn(t.source,e.source),n!==0)||(n=t.originalLine-e.originalLine,n!==0)||(n=t.originalColumn-e.originalColumn,n!==0)?n:Dn(t.name,e.name)}i(Pg,"compareByGeneratedPositionsInflated");Be.compareByGeneratedPositionsInflated=Pg;function Mg(t){return JSON.parse(t.replace(/^\)]}'[^\n]*\n/,""))}i(Mg,"parseSourceMapInput");Be.parseSourceMapInput=Mg;function Cg(t,e,n){if(e=e||"",t&&(t[t.length-1]!=="/"&&e[0]!=="/"&&(t+="/"),e=t+e),n){var r=wr(n);if(!r)throw new Error("sourceMapURL could not be parsed");if(r.path){var o=r.path.lastIndexOf("/");o>=0&&(r.path=r.path.substring(0,o+1))}e=Cl(An(r),e)}return Ss(e)}i(Cg,"computeSourceURL");Be.computeSourceURL=Cg});var xs=H(Dl=>{p();var Es=On(),Ts=Object.prototype.hasOwnProperty,fn=typeof Map<"u";function Dt(){this._array=[],this._set=fn?new Map:Object.create(null)}i(Dt,"ArraySet");Dt.fromArray=i(function(e,n){for(var r=new Dt,o=0,s=e.length;o<s;o++)r.add(e[o],n);return r},"ArraySet_fromArray");Dt.prototype.size=i(function(){return fn?this._set.size:Object.getOwnPropertyNames(this._set).length},"ArraySet_size");Dt.prototype.add=i(function(e,n){var r=fn?e:Es.toSetString(e),o=fn?this.has(e):Ts.call(this._set,r),s=this._array.length;(!o||n)&&this._array.push(e),o||(fn?this._set.set(e,s):this._set[r]=s)},"ArraySet_add");Dt.prototype.has=i(function(e){if(fn)return this._set.has(e);var n=Es.toSetString(e);return Ts.call(this._set,n)},"ArraySet_has");Dt.prototype.indexOf=i(function(e){if(fn){var n=this._set.get(e);if(n>=0)return n}else{var r=Es.toSetString(e);if(Ts.call(this._set,r))return this._set[r]}throw new Error('"'+e+'" is not in the set.')},"ArraySet_indexOf");Dt.prototype.at=i(function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},"ArraySet_at");Dt.prototype.toArray=i(function(){return this._array.slice()},"ArraySet_toArray");Dl.ArraySet=Dt});var jl=H(Fl=>{p();var Ol=On();function Lg(t,e){var n=t.generatedLine,r=e.generatedLine,o=t.generatedColumn,s=e.generatedColumn;return r>n||r==n&&s>=o||Ol.compareByGeneratedPositionsInflated(t,e)<=0}i(Lg,"generatedPositionAfter");function bi(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}i(bi,"MappingList");bi.prototype.unsortedForEach=i(function(e,n){this._array.forEach(e,n)},"MappingList_forEach");bi.prototype.add=i(function(e){Lg(this._last,e)?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},"MappingList_add");bi.prototype.toArray=i(function(){return this._sorted||(this._array.sort(Ol.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},"MappingList_toArray");Fl.MappingList=bi});var ks=H(ql=>{p();var Sr=ws(),Ce=On(),vi=xs().ArraySet,Ng=jl().MappingList;function st(t){t||(t={}),this._file=Ce.getArg(t,"file",null),this._sourceRoot=Ce.getArg(t,"sourceRoot",null),this._skipValidation=Ce.getArg(t,"skipValidation",!1),this._sources=new vi,this._names=new vi,this._mappings=new Ng,this._sourcesContents=null}i(st,"SourceMapGenerator");st.prototype._version=3;st.fromSourceMap=i(function(e){var n=e.sourceRoot,r=new st({file:e.file,sourceRoot:n});return e.eachMapping(function(o){var s={generated:{line:o.generatedLine,column:o.generatedColumn}};o.source!=null&&(s.source=o.source,n!=null&&(s.source=Ce.relative(n,s.source)),s.original={line:o.originalLine,column:o.originalColumn},o.name!=null&&(s.name=o.name)),r.addMapping(s)}),e.sources.forEach(function(o){var s=o;n!==null&&(s=Ce.relative(n,o)),r._sources.has(s)||r._sources.add(s);var a=e.sourceContentFor(o);a!=null&&r.setSourceContent(o,a)}),r},"SourceMapGenerator_fromSourceMap");st.prototype.addMapping=i(function(e){var n=Ce.getArg(e,"generated"),r=Ce.getArg(e,"original",null),o=Ce.getArg(e,"source",null),s=Ce.getArg(e,"name",null);this._skipValidation||this._validateMapping(n,r,o,s),o!=null&&(o=String(o),this._sources.has(o)||this._sources.add(o)),s!=null&&(s=String(s),this._names.has(s)||this._names.add(s)),this._mappings.add({generatedLine:n.line,generatedColumn:n.column,originalLine:r!=null&&r.line,originalColumn:r!=null&&r.column,source:o,name:s})},"SourceMapGenerator_addMapping");st.prototype.setSourceContent=i(function(e,n){var r=e;this._sourceRoot!=null&&(r=Ce.relative(this._sourceRoot,r)),n!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[Ce.toSetString(r)]=n):this._sourcesContents&&(delete this._sourcesContents[Ce.toSetString(r)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},"SourceMapGenerator_setSourceContent");st.prototype.applySourceMap=i(function(e,n,r){var o=n;if(n==null){if(e.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);o=e.file}var s=this._sourceRoot;s!=null&&(o=Ce.relative(s,o));var a=new vi,u=new vi;this._mappings.unsortedForEach(function(d){if(d.source===o&&d.originalLine!=null){var f=e.originalPositionFor({line:d.originalLine,column:d.originalColumn});f.source!=null&&(d.source=f.source,r!=null&&(d.source=Ce.join(r,d.source)),s!=null&&(d.source=Ce.relative(s,d.source)),d.originalLine=f.line,d.originalColumn=f.column,f.name!=null&&(d.name=f.name))}var g=d.source;g!=null&&!a.has(g)&&a.add(g);var v=d.name;v!=null&&!u.has(v)&&u.add(v)},this),this._sources=a,this._names=u,e.sources.forEach(function(d){var f=e.sourceContentFor(d);f!=null&&(r!=null&&(d=Ce.join(r,d)),s!=null&&(d=Ce.relative(s,d)),this.setSourceContent(d,f))},this)},"SourceMapGenerator_applySourceMap");st.prototype._validateMapping=i(function(e,n,r,o){if(n&&typeof n.line!="number"&&typeof n.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!n&&!r&&!o)){if(e&&"line"in e&&"column"in e&&n&&"line"in n&&"column"in n&&e.line>0&&e.column>=0&&n.line>0&&n.column>=0&&r)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:r,original:n,name:o}))}},"SourceMapGenerator_validateMapping");st.prototype._serializeMappings=i(function(){for(var e=0,n=1,r=0,o=0,s=0,a=0,u="",d,f,g,v,w=this._mappings.toArray(),x=0,D=w.length;x<D;x++){if(f=w[x],d="",f.generatedLine!==n)for(e=0;f.generatedLine!==n;)d+=";",n++;else if(x>0){if(!Ce.compareByGeneratedPositionsInflated(f,w[x-1]))continue;d+=","}d+=Sr.encode(f.generatedColumn-e),e=f.generatedColumn,f.source!=null&&(v=this._sources.indexOf(f.source),d+=Sr.encode(v-a),a=v,d+=Sr.encode(f.originalLine-1-o),o=f.originalLine-1,d+=Sr.encode(f.originalColumn-r),r=f.originalColumn,f.name!=null&&(g=this._names.indexOf(f.name),d+=Sr.encode(g-s),s=g)),u+=d}return u},"SourceMapGenerator_serializeMappings");st.prototype._generateSourcesContent=i(function(e,n){return e.map(function(r){if(!this._sourcesContents)return null;n!=null&&(r=Ce.relative(n,r));var o=Ce.toSetString(r);return Object.prototype.hasOwnProperty.call(this._sourcesContents,o)?this._sourcesContents[o]:null},this)},"SourceMapGenerator_generateSourcesContent");st.prototype.toJSON=i(function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(e.file=this._file),this._sourceRoot!=null&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},"SourceMapGenerator_toJSON");st.prototype.toString=i(function(){return JSON.stringify(this.toJSON())},"SourceMapGenerator_toString");ql.SourceMapGenerator=st});var Wl=H(mn=>{p();mn.GREATEST_LOWER_BOUND=1;mn.LEAST_UPPER_BOUND=2;function Is(t,e,n,r,o,s){var a=Math.floor((e-t)/2)+t,u=o(n,r[a],!0);return u===0?a:u>0?e-a>1?Is(a,e,n,r,o,s):s==mn.LEAST_UPPER_BOUND?e<r.length?e:-1:a:a-t>1?Is(t,a,n,r,o,s):s==mn.LEAST_UPPER_BOUND?a:t<0?-1:t}i(Is,"recursiveSearch");mn.search=i(function(e,n,r,o){if(n.length===0)return-1;var s=Is(-1,n.length,e,n,r,o||mn.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&r(n[s],n[s-1],!0)===0;)--s;return s},"search")});var Bl=H(Ul=>{p();function Rs(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}i(Rs,"swap");function Ag(t,e){return Math.round(t+Math.random()*(e-t))}i(Ag,"randomIntInRange");function Ps(t,e,n,r){if(n<r){var o=Ag(n,r),s=n-1;Rs(t,o,r);for(var a=t[r],u=n;u<r;u++)e(t[u],a)<=0&&(s+=1,Rs(t,s,u));Rs(t,s+1,u);var d=s+1;Ps(t,e,n,d-1),Ps(t,e,d+1,r)}}i(Ps,"doQuickSort");Ul.quickSort=function(t,e){Ps(t,e,0,t.length-1)}});var $l=H(wi=>{p();var Q=On(),Ms=Wl(),Fn=xs().ArraySet,Dg=ws(),Er=Bl().quickSort;function ve(t,e){var n=t;return typeof t=="string"&&(n=Q.parseSourceMapInput(t)),n.sections!=null?new ht(n,e):new qe(n,e)}i(ve,"SourceMapConsumer");ve.fromSourceMap=function(t,e){return qe.fromSourceMap(t,e)};ve.prototype._version=3;ve.prototype.__generatedMappings=null;Object.defineProperty(ve.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:i(function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings},"get")});ve.prototype.__originalMappings=null;Object.defineProperty(ve.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:i(function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings},"get")});ve.prototype._charIsMappingSeparator=i(function(e,n){var r=e.charAt(n);return r===";"||r===","},"SourceMapConsumer_charIsMappingSeparator");ve.prototype._parseMappings=i(function(e,n){throw new Error("Subclasses must implement _parseMappings")},"SourceMapConsumer_parseMappings");ve.GENERATED_ORDER=1;ve.ORIGINAL_ORDER=2;ve.GREATEST_LOWER_BOUND=1;ve.LEAST_UPPER_BOUND=2;ve.prototype.eachMapping=i(function(e,n,r){var o=n||null,s=r||ve.GENERATED_ORDER,a;switch(s){case ve.GENERATED_ORDER:a=this._generatedMappings;break;case ve.ORIGINAL_ORDER:a=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var u=this.sourceRoot;a.map(function(d){var f=d.source===null?null:this._sources.at(d.source);return f=Q.computeSourceURL(u,f,this._sourceMapURL),{source:f,generatedLine:d.generatedLine,generatedColumn:d.generatedColumn,originalLine:d.originalLine,originalColumn:d.originalColumn,name:d.name===null?null:this._names.at(d.name)}},this).forEach(e,o)},"SourceMapConsumer_eachMapping");ve.prototype.allGeneratedPositionsFor=i(function(e){var n=Q.getArg(e,"line"),r={source:Q.getArg(e,"source"),originalLine:n,originalColumn:Q.getArg(e,"column",0)};if(r.source=this._findSourceIndex(r.source),r.source<0)return[];var o=[],s=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",Q.compareByOriginalPositions,Ms.LEAST_UPPER_BOUND);if(s>=0){var a=this._originalMappings[s];if(e.column===void 0)for(var u=a.originalLine;a&&a.originalLine===u;)o.push({line:Q.getArg(a,"generatedLine",null),column:Q.getArg(a,"generatedColumn",null),lastColumn:Q.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s];else for(var d=a.originalColumn;a&&a.originalLine===n&&a.originalColumn==d;)o.push({line:Q.getArg(a,"generatedLine",null),column:Q.getArg(a,"generatedColumn",null),lastColumn:Q.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s]}return o},"SourceMapConsumer_allGeneratedPositionsFor");wi.SourceMapConsumer=ve;function qe(t,e){var n=t;typeof t=="string"&&(n=Q.parseSourceMapInput(t));var r=Q.getArg(n,"version"),o=Q.getArg(n,"sources"),s=Q.getArg(n,"names",[]),a=Q.getArg(n,"sourceRoot",null),u=Q.getArg(n,"sourcesContent",null),d=Q.getArg(n,"mappings"),f=Q.getArg(n,"file",null);if(r!=this._version)throw new Error("Unsupported version: "+r);a&&(a=Q.normalize(a)),o=o.map(String).map(Q.normalize).map(function(g){return a&&Q.isAbsolute(a)&&Q.isAbsolute(g)?Q.relative(a,g):g}),this._names=Fn.fromArray(s.map(String),!0),this._sources=Fn.fromArray(o,!0),this._absoluteSources=this._sources.toArray().map(function(g){return Q.computeSourceURL(a,g,e)}),this.sourceRoot=a,this.sourcesContent=u,this._mappings=d,this._sourceMapURL=e,this.file=f}i(qe,"BasicSourceMapConsumer");qe.prototype=Object.create(ve.prototype);qe.prototype.consumer=ve;qe.prototype._findSourceIndex=function(t){var e=t;if(this.sourceRoot!=null&&(e=Q.relative(this.sourceRoot,e)),this._sources.has(e))return this._sources.indexOf(e);var n;for(n=0;n<this._absoluteSources.length;++n)if(this._absoluteSources[n]==t)return n;return-1};qe.fromSourceMap=i(function(e,n){var r=Object.create(qe.prototype),o=r._names=Fn.fromArray(e._names.toArray(),!0),s=r._sources=Fn.fromArray(e._sources.toArray(),!0);r.sourceRoot=e._sourceRoot,r.sourcesContent=e._generateSourcesContent(r._sources.toArray(),r.sourceRoot),r.file=e._file,r._sourceMapURL=n,r._absoluteSources=r._sources.toArray().map(function(x){return Q.computeSourceURL(r.sourceRoot,x,n)});for(var a=e._mappings.toArray().slice(),u=r.__generatedMappings=[],d=r.__originalMappings=[],f=0,g=a.length;f<g;f++){var v=a[f],w=new zl;w.generatedLine=v.generatedLine,w.generatedColumn=v.generatedColumn,v.source&&(w.source=s.indexOf(v.source),w.originalLine=v.originalLine,w.originalColumn=v.originalColumn,v.name&&(w.name=o.indexOf(v.name)),d.push(w)),u.push(w)}return Er(r.__originalMappings,Q.compareByOriginalPositions),r},"SourceMapConsumer_fromSourceMap");qe.prototype._version=3;Object.defineProperty(qe.prototype,"sources",{get:i(function(){return this._absoluteSources.slice()},"get")});function zl(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}i(zl,"Mapping");qe.prototype._parseMappings=i(function(e,n){for(var r=1,o=0,s=0,a=0,u=0,d=0,f=e.length,g=0,v={},w={},x=[],D=[],R,q,F,M,V;g<f;)if(e.charAt(g)===";")r++,g++,o=0;else if(e.charAt(g)===",")g++;else{for(R=new zl,R.generatedLine=r,M=g;M<f&&!this._charIsMappingSeparator(e,M);M++);if(q=e.slice(g,M),F=v[q],F)g+=q.length;else{for(F=[];g<M;)Dg.decode(e,g,w),V=w.value,g=w.rest,F.push(V);if(F.length===2)throw new Error("Found a source, but no line and column");if(F.length===3)throw new Error("Found a source and line, but no column");v[q]=F}R.generatedColumn=o+F[0],o=R.generatedColumn,F.length>1&&(R.source=u+F[1],u+=F[1],R.originalLine=s+F[2],s=R.originalLine,R.originalLine+=1,R.originalColumn=a+F[3],a=R.originalColumn,F.length>4&&(R.name=d+F[4],d+=F[4])),D.push(R),typeof R.originalLine=="number"&&x.push(R)}Er(D,Q.compareByGeneratedPositionsDeflated),this.__generatedMappings=D,Er(x,Q.compareByOriginalPositions),this.__originalMappings=x},"SourceMapConsumer_parseMappings");qe.prototype._findMapping=i(function(e,n,r,o,s,a){if(e[r]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[r]);if(e[o]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[o]);return Ms.search(e,n,s,a)},"SourceMapConsumer_findMapping");qe.prototype.computeColumnSpans=i(function(){for(var e=0;e<this._generatedMappings.length;++e){var n=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var r=this._generatedMappings[e+1];if(n.generatedLine===r.generatedLine){n.lastGeneratedColumn=r.generatedColumn-1;continue}}n.lastGeneratedColumn=1/0}},"SourceMapConsumer_computeColumnSpans");qe.prototype.originalPositionFor=i(function(e){var n={generatedLine:Q.getArg(e,"line"),generatedColumn:Q.getArg(e,"column")},r=this._findMapping(n,this._generatedMappings,"generatedLine","generatedColumn",Q.compareByGeneratedPositionsDeflated,Q.getArg(e,"bias",ve.GREATEST_LOWER_BOUND));if(r>=0){var o=this._generatedMappings[r];if(o.generatedLine===n.generatedLine){var s=Q.getArg(o,"source",null);s!==null&&(s=this._sources.at(s),s=Q.computeSourceURL(this.sourceRoot,s,this._sourceMapURL));var a=Q.getArg(o,"name",null);return a!==null&&(a=this._names.at(a)),{source:s,line:Q.getArg(o,"originalLine",null),column:Q.getArg(o,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}},"SourceMapConsumer_originalPositionFor");qe.prototype.hasContentsOfAllSources=i(function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return e==null}):!1},"BasicSourceMapConsumer_hasContentsOfAllSources");qe.prototype.sourceContentFor=i(function(e,n){if(!this.sourcesContent)return null;var r=this._findSourceIndex(e);if(r>=0)return this.sourcesContent[r];var o=e;this.sourceRoot!=null&&(o=Q.relative(this.sourceRoot,o));var s;if(this.sourceRoot!=null&&(s=Q.urlParse(this.sourceRoot))){var a=o.replace(/^file:\/\//,"");if(s.scheme=="file"&&this._sources.has(a))return this.sourcesContent[this._sources.indexOf(a)];if((!s.path||s.path=="/")&&this._sources.has("/"+o))return this.sourcesContent[this._sources.indexOf("/"+o)]}if(n)return null;throw new Error('"'+o+'" is not in the SourceMap.')},"SourceMapConsumer_sourceContentFor");qe.prototype.generatedPositionFor=i(function(e){var n=Q.getArg(e,"source");if(n=this._findSourceIndex(n),n<0)return{line:null,column:null,lastColumn:null};var r={source:n,originalLine:Q.getArg(e,"line"),originalColumn:Q.getArg(e,"column")},o=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",Q.compareByOriginalPositions,Q.getArg(e,"bias",ve.GREATEST_LOWER_BOUND));if(o>=0){var s=this._originalMappings[o];if(s.source===r.source)return{line:Q.getArg(s,"generatedLine",null),column:Q.getArg(s,"generatedColumn",null),lastColumn:Q.getArg(s,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},"SourceMapConsumer_generatedPositionFor");wi.BasicSourceMapConsumer=qe;function ht(t,e){var n=t;typeof t=="string"&&(n=Q.parseSourceMapInput(t));var r=Q.getArg(n,"version"),o=Q.getArg(n,"sections");if(r!=this._version)throw new Error("Unsupported version: "+r);this._sources=new Fn,this._names=new Fn;var s={line:-1,column:0};this._sections=o.map(function(a){if(a.url)throw new Error("Support for url field in sections not implemented.");var u=Q.getArg(a,"offset"),d=Q.getArg(u,"line"),f=Q.getArg(u,"column");if(d<s.line||d===s.line&&f<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=u,{generatedOffset:{generatedLine:d+1,generatedColumn:f+1},consumer:new ve(Q.getArg(a,"map"),e)}})}i(ht,"IndexedSourceMapConsumer");ht.prototype=Object.create(ve.prototype);ht.prototype.constructor=ve;ht.prototype._version=3;Object.defineProperty(ht.prototype,"sources",{get:i(function(){for(var t=[],e=0;e<this._sections.length;e++)for(var n=0;n<this._sections[e].consumer.sources.length;n++)t.push(this._sections[e].consumer.sources[n]);return t},"get")});ht.prototype.originalPositionFor=i(function(e){var n={generatedLine:Q.getArg(e,"line"),generatedColumn:Q.getArg(e,"column")},r=Ms.search(n,this._sections,function(s,a){var u=s.generatedLine-a.generatedOffset.generatedLine;return u||s.generatedColumn-a.generatedOffset.generatedColumn}),o=this._sections[r];return o?o.consumer.originalPositionFor({line:n.generatedLine-(o.generatedOffset.generatedLine-1),column:n.generatedColumn-(o.generatedOffset.generatedLine===n.generatedLine?o.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},"IndexedSourceMapConsumer_originalPositionFor");ht.prototype.hasContentsOfAllSources=i(function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})},"IndexedSourceMapConsumer_hasContentsOfAllSources");ht.prototype.sourceContentFor=i(function(e,n){for(var r=0;r<this._sections.length;r++){var o=this._sections[r],s=o.consumer.sourceContentFor(e,!0);if(s)return s}if(n)return null;throw new Error('"'+e+'" is not in the SourceMap.')},"IndexedSourceMapConsumer_sourceContentFor");ht.prototype.generatedPositionFor=i(function(e){for(var n=0;n<this._sections.length;n++){var r=this._sections[n];if(r.consumer._findSourceIndex(Q.getArg(e,"source"))!==-1){var o=r.consumer.generatedPositionFor(e);if(o){var s={line:o.line+(r.generatedOffset.generatedLine-1),column:o.column+(r.generatedOffset.generatedLine===o.line?r.generatedOffset.generatedColumn-1:0)};return s}}}return{line:null,column:null}},"IndexedSourceMapConsumer_generatedPositionFor");ht.prototype._parseMappings=i(function(e,n){this.__generatedMappings=[],this.__originalMappings=[];for(var r=0;r<this._sections.length;r++)for(var o=this._sections[r],s=o.consumer._generatedMappings,a=0;a<s.length;a++){var u=s[a],d=o.consumer._sources.at(u.source);d=Q.computeSourceURL(o.consumer.sourceRoot,d,this._sourceMapURL),this._sources.add(d),d=this._sources.indexOf(d);var f=null;u.name&&(f=o.consumer._names.at(u.name),this._names.add(f),f=this._names.indexOf(f));var g={source:d,generatedLine:u.generatedLine+(o.generatedOffset.generatedLine-1),generatedColumn:u.generatedColumn+(o.generatedOffset.generatedLine===u.generatedLine?o.generatedOffset.generatedColumn-1:0),originalLine:u.originalLine,originalColumn:u.originalColumn,name:f};this.__generatedMappings.push(g),typeof g.originalLine=="number"&&this.__originalMappings.push(g)}Er(this.__generatedMappings,Q.compareByGeneratedPositionsDeflated),Er(this.__originalMappings,Q.compareByOriginalPositions)},"IndexedSourceMapConsumer_parseMappings");wi.IndexedSourceMapConsumer=ht});var Vl=H(Hl=>{p();var Og=ks().SourceMapGenerator,Si=On(),Fg=/(\r?\n)/,jg=10,jn="$$$isSourceNode$$$";function nt(t,e,n,r,o){this.children=[],this.sourceContents={},this.line=t??null,this.column=e??null,this.source=n??null,this.name=o??null,this[jn]=!0,r!=null&&this.add(r)}i(nt,"SourceNode");nt.fromStringWithSourceMap=i(function(e,n,r){var o=new nt,s=e.split(Fg),a=0,u=i(function(){var w=D(),x=D()||"";return w+x;function D(){return a<s.length?s[a++]:void 0}},"shiftNextLine"),d=1,f=0,g=null;return n.eachMapping(function(w){if(g!==null)if(d<w.generatedLine)v(g,u()),d++,f=0;else{var x=s[a]||"",D=x.substr(0,w.generatedColumn-f);s[a]=x.substr(w.generatedColumn-f),f=w.generatedColumn,v(g,D),g=w;return}for(;d<w.generatedLine;)o.add(u()),d++;if(f<w.generatedColumn){var x=s[a]||"";o.add(x.substr(0,w.generatedColumn)),s[a]=x.substr(w.generatedColumn),f=w.generatedColumn}g=w},this),a<s.length&&(g&&v(g,u()),o.add(s.splice(a).join(""))),n.sources.forEach(function(w){var x=n.sourceContentFor(w);x!=null&&(r!=null&&(w=Si.join(r,w)),o.setSourceContent(w,x))}),o;function v(w,x){if(w===null||w.source===void 0)o.add(x);else{var D=r?Si.join(r,w.source):w.source;o.add(new nt(w.originalLine,w.originalColumn,D,x,w.name))}}i(v,"addMappingWithCode")},"SourceNode_fromStringWithSourceMap");nt.prototype.add=i(function(e){if(Array.isArray(e))e.forEach(function(n){this.add(n)},this);else if(e[jn]||typeof e=="string")e&&this.children.push(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this},"SourceNode_add");nt.prototype.prepend=i(function(e){if(Array.isArray(e))for(var n=e.length-1;n>=0;n--)this.prepend(e[n]);else if(e[jn]||typeof e=="string")this.children.unshift(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this},"SourceNode_prepend");nt.prototype.walk=i(function(e){for(var n,r=0,o=this.children.length;r<o;r++)n=this.children[r],n[jn]?n.walk(e):n!==""&&e(n,{source:this.source,line:this.line,column:this.column,name:this.name})},"SourceNode_walk");nt.prototype.join=i(function(e){var n,r,o=this.children.length;if(o>0){for(n=[],r=0;r<o-1;r++)n.push(this.children[r]),n.push(e);n.push(this.children[r]),this.children=n}return this},"SourceNode_join");nt.prototype.replaceRight=i(function(e,n){var r=this.children[this.children.length-1];return r[jn]?r.replaceRight(e,n):typeof r=="string"?this.children[this.children.length-1]=r.replace(e,n):this.children.push("".replace(e,n)),this},"SourceNode_replaceRight");nt.prototype.setSourceContent=i(function(e,n){this.sourceContents[Si.toSetString(e)]=n},"SourceNode_setSourceContent");nt.prototype.walkSourceContents=i(function(e){for(var n=0,r=this.children.length;n<r;n++)this.children[n][jn]&&this.children[n].walkSourceContents(e);for(var o=Object.keys(this.sourceContents),n=0,r=o.length;n<r;n++)e(Si.fromSetString(o[n]),this.sourceContents[o[n]])},"SourceNode_walkSourceContents");nt.prototype.toString=i(function(){var e="";return this.walk(function(n){e+=n}),e},"SourceNode_toString");nt.prototype.toStringWithSourceMap=i(function(e){var n={code:"",line:1,column:0},r=new Og(e),o=!1,s=null,a=null,u=null,d=null;return this.walk(function(f,g){n.code+=f,g.source!==null&&g.line!==null&&g.column!==null?((s!==g.source||a!==g.line||u!==g.column||d!==g.name)&&r.addMapping({source:g.source,original:{line:g.line,column:g.column},generated:{line:n.line,column:n.column},name:g.name}),s=g.source,a=g.line,u=g.column,d=g.name,o=!0):o&&(r.addMapping({generated:{line:n.line,column:n.column}}),s=null,o=!1);for(var v=0,w=f.length;v<w;v++)f.charCodeAt(v)===jg?(n.line++,n.column=0,v+1===w?(s=null,o=!1):o&&r.addMapping({source:g.source,original:{line:g.line,column:g.column},generated:{line:n.line,column:n.column},name:g.name})):n.column++}),this.walkSourceContents(function(f,g){r.setSourceContent(f,g)}),{code:n.code,map:r}},"SourceNode_toStringWithSourceMap");Hl.SourceNode=nt});var Gl=H(Ei=>{p();Ei.SourceMapGenerator=ks().SourceMapGenerator;Ei.SourceMapConsumer=$l().SourceMapConsumer;Ei.SourceNode=Vl().SourceNode});var Ql=H((XE,Zl)=>{p();var qg=Object.prototype.toString,Cs=typeof Buffer<"u"&&typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function Wg(t){return qg.call(t).slice(8,-1)==="ArrayBuffer"}i(Wg,"isArrayBuffer");function Ug(t,e,n){e>>>=0;var r=t.byteLength-e;if(r<0)throw new RangeError("'offset' is out of bounds");if(n===void 0)n=r;else if(n>>>=0,n>r)throw new RangeError("'length' is out of bounds");return Cs?Buffer.from(t.slice(e,e+n)):new Buffer(new Uint8Array(t.slice(e,e+n)))}i(Ug,"fromArrayBuffer");function Bg(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!Buffer.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');return Cs?Buffer.from(t,e):new Buffer(t,e)}i(Bg,"fromString");function zg(t,e,n){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return Wg(t)?Ug(t,e,n):typeof t=="string"?Bg(t,e):Cs?Buffer.from(t):new Buffer(t)}i(zg,"bufferFrom");Zl.exports=zg});var rc=H((gn,Ds)=>{p();var $g=Gl().SourceMapConsumer,Ls=require("path"),xt;try{xt=require("fs"),(!xt.existsSync||!xt.readFileSync)&&(xt=null)}catch{}var Hg=Ql();function Jl(t,e){return t.require(e)}i(Jl,"dynamicRequire");var Kl=!1,Xl=!1,Ns=!1,Tr="auto",pn={},xr={},Vg=/^data:application\/json[^,]+base64,/,Ht=[],Vt=[];function Os(){return Tr==="browser"?!0:Tr==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}i(Os,"isInBrowser");function Gg(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}i(Gg,"hasGlobalProcessEventEmitter");function Zg(){return typeof process=="object"&&process!==null?process.version:""}i(Zg,"globalProcessVersion");function Qg(){if(typeof process=="object"&&process!==null)return process.stderr}i(Qg,"globalProcessStderr");function Jg(t){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(t)}i(Jg,"globalProcessExit");function Ti(t){return function(e){for(var n=0;n<t.length;n++){var r=t[n](e);if(r)return r}return null}}i(Ti,"handlerExec");var Fs=Ti(Ht);Ht.push(function(t){if(t=t.trim(),/^file:/.test(t)&&(t=t.replace(/file:\/\/\/(\w:)?/,function(r,o){return o?"":"/"})),t in pn)return pn[t];var e="";try{if(xt)xt.existsSync(t)&&(e=xt.readFileSync(t,"utf8"));else{var n=new XMLHttpRequest;n.open("GET",t,!1),n.send(null),n.readyState===4&&n.status===200&&(e=n.responseText)}}catch{}return pn[t]=e});function As(t,e){if(!t)return e;var n=Ls.dirname(t),r=/^\w+:\/\/[^\/]*/.exec(n),o=r?r[0]:"",s=n.slice(o.length);return o&&/^\/\w\:/.test(s)?(o+="/",o+Ls.resolve(n.slice(o.length),e).replace(/\\/g,"/")):o+Ls.resolve(n.slice(o.length),e)}i(As,"supportRelativeURL");function Kg(t){var e;if(Os())try{var n=new XMLHttpRequest;n.open("GET",t,!1),n.send(null),e=n.readyState===4?n.responseText:null;var r=n.getResponseHeader("SourceMap")||n.getResponseHeader("X-SourceMap");if(r)return r}catch{}e=Fs(t);for(var o=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,s,a;a=o.exec(e);)s=a;return s?s[1]:null}i(Kg,"retrieveSourceMapURL");var js=Ti(Vt);Vt.push(function(t){var e=Kg(t);if(!e)return null;var n;if(Vg.test(e)){var r=e.slice(e.indexOf(",")+1);n=Hg(r,"base64").toString(),e=t}else e=As(t,e),n=Fs(e);return n?{url:e,map:n}:null});function qs(t){var e=xr[t.source];if(!e){var n=js(t.source);n?(e=xr[t.source]={url:n.url,map:new $g(n.map)},e.map.sourcesContent&&e.map.sources.forEach(function(o,s){var a=e.map.sourcesContent[s];if(a){var u=As(e.url,o);pn[u]=a}})):e=xr[t.source]={url:null,map:null}}if(e&&e.map&&typeof e.map.originalPositionFor=="function"){var r=e.map.originalPositionFor(t);if(r.source!==null)return r.source=As(e.url,r.source),r}return t}i(qs,"mapSourcePosition");function ec(t){var e=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(t);if(e){var n=qs({source:e[2],line:+e[3],column:e[4]-1});return"eval at "+e[1]+" ("+n.source+":"+n.line+":"+(n.column+1)+")"}return e=/^eval at ([^(]+) \((.+)\)$/.exec(t),e?"eval at "+e[1]+" ("+ec(e[2])+")":t}i(ec,"mapEvalOrigin");function Xg(){var t,e="";if(this.isNative())e="native";else{t=this.getScriptNameOrSourceURL(),!t&&this.isEval()&&(e=this.getEvalOrigin(),e+=", "),t?e+=t:e+="<anonymous>";var n=this.getLineNumber();if(n!=null){e+=":"+n;var r=this.getColumnNumber();r&&(e+=":"+r)}}var o="",s=this.getFunctionName(),a=!0,u=this.isConstructor(),d=!(this.isToplevel()||u);if(d){var f=this.getTypeName();f==="[object Object]"&&(f="null");var g=this.getMethodName();s?(f&&s.indexOf(f)!=0&&(o+=f+"."),o+=s,g&&s.indexOf("."+g)!=s.length-g.length-1&&(o+=" [as "+g+"]")):o+=f+"."+(g||"<anonymous>")}else u?o+="new "+(s||"<anonymous>"):s?o+=s:(o+=e,a=!1);return a&&(o+=" ("+e+")"),o}i(Xg,"CallSiteToString");function Yl(t){var e={};return Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(function(n){e[n]=/^(?:is|get)/.test(n)?function(){return t[n].call(t)}:t[n]}),e.toString=Xg,e}i(Yl,"cloneCallSite");function tc(t,e){if(e===void 0&&(e={nextPosition:null,curPosition:null}),t.isNative())return e.curPosition=null,t;var n=t.getFileName()||t.getScriptNameOrSourceURL();if(n){var r=t.getLineNumber(),o=t.getColumnNumber()-1,s=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,a=s.test(Zg())?0:62;r===1&&o>a&&!Os()&&!t.isEval()&&(o-=a);var u=qs({source:n,line:r,column:o});e.curPosition=u,t=Yl(t);var d=t.getFunctionName;return t.getFunctionName=function(){return e.nextPosition==null?d():e.nextPosition.name||d()},t.getFileName=function(){return u.source},t.getLineNumber=function(){return u.line},t.getColumnNumber=function(){return u.column+1},t.getScriptNameOrSourceURL=function(){return u.source},t}var f=t.isEval()&&t.getEvalOrigin();return f&&(f=ec(f),t=Yl(t),t.getEvalOrigin=function(){return f}),t}i(tc,"wrapCallSite");function Yg(t,e){Ns&&(pn={},xr={});for(var n=t.name||"Error",r=t.message||"",o=n+": "+r,s={nextPosition:null,curPosition:null},a=[],u=e.length-1;u>=0;u--)a.push(`
    at `+tc(e[u],s)),s.nextPosition=s.curPosition;return s.curPosition=s.nextPosition=null,o+a.reverse().join("")}i(Yg,"prepareStackTrace");function nc(t){var e=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(t.stack);if(e){var n=e[1],r=+e[2],o=+e[3],s=pn[n];if(!s&&xt&&xt.existsSync(n))try{s=xt.readFileSync(n,"utf8")}catch{s=""}if(s){var a=s.split(/(?:\r\n|\r|\n)/)[r-1];if(a)return n+":"+r+`
`+a+`
`+new Array(o).join(" ")+"^"}}return null}i(nc,"getErrorSource");function eh(t){var e=nc(t),n=Qg();n&&n._handle&&n._handle.setBlocking&&n._handle.setBlocking(!0),e&&(console.error(),console.error(e)),console.error(t.stack),Jg(1)}i(eh,"printErrorAndExit");function th(){var t=process.emit;process.emit=function(e){if(e==="uncaughtException"){var n=arguments[1]&&arguments[1].stack,r=this.listeners(e).length>0;if(n&&!r)return eh(arguments[1])}return t.apply(this,arguments)}}i(th,"shimEmitUncaughtException");var nh=Ht.slice(0),rh=Vt.slice(0);gn.wrapCallSite=tc;gn.getErrorSource=nc;gn.mapSourcePosition=qs;gn.retrieveSourceMap=js;gn.install=function(t){if(t=t||{},t.environment&&(Tr=t.environment,["node","browser","auto"].indexOf(Tr)===-1))throw new Error("environment "+Tr+" was unknown. Available options are {auto, browser, node}");if(t.retrieveFile&&(t.overrideRetrieveFile&&(Ht.length=0),Ht.unshift(t.retrieveFile)),t.retrieveSourceMap&&(t.overrideRetrieveSourceMap&&(Vt.length=0),Vt.unshift(t.retrieveSourceMap)),t.hookRequire&&!Os()){var e=Jl(Ds,"module"),n=e.prototype._compile;n.__sourceMapSupport||(e.prototype._compile=function(s,a){return pn[a]=s,xr[a]=void 0,n.call(this,s,a)},e.prototype._compile.__sourceMapSupport=!0)}if(Ns||(Ns="emptyCacheBetweenOperations"in t?t.emptyCacheBetweenOperations:!1),Kl||(Kl=!0,Error.prepareStackTrace=Yg),!Xl){var r="handleUncaughtExceptions"in t?t.handleUncaughtExceptions:!0;try{var o=Jl(Ds,"worker_threads");o.isMainThread===!1&&(r=!1)}catch{}r&&Gg()&&(Xl=!0,th())}};gn.resetRetrieveHandlers=function(){Ht.length=0,Vt.length=0,Ht=nh.slice(0),Vt=rh.slice(0),js=Ti(Vt),Fs=Ti(Ht)}});var ic=H(()=>{p();rc().install()});var bc=H((Tk,yc)=>{p();var Vs=require("fs"),Fi=require("path"),Cr=Fi.join,vh=Fi.dirname,hc=Vs.accessSync&&function(t){try{Vs.accessSync(t)}catch{return!1}return!0}||Vs.existsSync||Fi.existsSync,_c={arrow:process.env.NODE_BINDINGS_ARROW||" \u2192 ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","compiled","platform","arch","bindings"]]};function wh(t){typeof t=="string"?t={bindings:t}:t||(t={}),Object.keys(_c).map(function(d){d in t||(t[d]=_c[d])}),t.module_root||(t.module_root=Sh(__filename)),Fi.extname(t.bindings)!=".node"&&(t.bindings+=".node");for(var e=typeof __webpack_require__=="function"?__non_webpack_require__:require,n=[],r=0,o=t.try.length,s,a,u;r<o;r++){s=Cr.apply(null,t.try[r].map(function(d){return t[d]||d})),n.push(s);try{return a=t.path?e.resolve(s):e(s),t.path||(a.path=s),a}catch(d){if(d.code!=="MODULE_NOT_FOUND"&&d.code!=="QUALIFIED_PATH_RESOLUTION_FAILED"&&!/not find/i.test(d.message))throw d}}throw u=new Error(`Could not locate the bindings file. Tried:
`+n.map(function(d){return t.arrow+d}).join(`
`)),u.tries=n,u}i(wh,"bindings");yc.exports=wh;function Sh(t){for(var e=vh(t),n;;){if(e==="."&&(e=process.cwd()),hc(Cr(e,"dist")))return Cr(e,"dist");if(hc(Cr(e,"compiled")))return e;if(n===e)throw new Error('Could not find module root given file: "'+t+'". Do you have a `dist` or `compiled` directory? ');n=e,e=Cr(e,"..")}}i(Sh,"getRoot")});var wc=H((Ik,vc)=>{p();vc.exports=bc()("node_sqlite3.node")});var Tc=H(Ec=>{p();var Eh=require("util");function Th(t,e,n){let r=t[e];t[e]=function(){let o=new Error,s=t.constructor.name+"#"+e+"("+Array.prototype.slice.call(arguments).map(function(u){return Eh.inspect(u,!1,0)}).join(", ")+")";typeof n>"u"&&(n=-1),n<0&&(n+=arguments.length);let a=arguments[n];return typeof arguments[n]=="function"&&(arguments[n]=i(function(){let d=arguments[0];return d&&d.stack&&!d.__augmented&&(d.stack=Sc(d).join(`
`),d.stack+=`
--> in `+s,d.stack+=`
`+Sc(o).slice(1).join(`
`),d.__augmented=!0),a.apply(this,arguments)},"replacement")),r.apply(this,arguments)}}i(Th,"extendTrace");Ec.extendTrace=Th;function Sc(t){return t.stack.split(`
`).filter(function(e){return e.indexOf(__filename)<0})}i(Sc,"filter")});var Rc=H((kc,Ic)=>{p();var xh=require("path"),lt=wc(),Wn=require("events").EventEmitter;Ic.exports=kc=lt;function Un(t){return function(e){let n,r=Array.prototype.slice.call(arguments,1);if(typeof r[r.length-1]=="function"){let s=r[r.length-1];n=i(function(a){a&&s(a)},"errBack")}let o=new ji(this,e,n);return t.call(this,o,r)}}i(Un,"normalizeMethod");function Zs(t,e){for(let n in e.prototype)t.prototype[n]=e.prototype[n]}i(Zs,"inherits");lt.cached={Database:i(function(t,e,n){if(t===""||t===":memory:")return new Ze(t,e,n);let r;if(t=xh.resolve(t),!lt.cached.objects[t])r=lt.cached.objects[t]=new Ze(t,e,n);else{r=lt.cached.objects[t];let s=typeof e=="number"?n:e;if(typeof s=="function"){let a=function(){s.call(r,null)};var o=a;i(a,"cb"),r.open?process.nextTick(a):r.once("open",a)}}return r},"Database"),objects:{}};var Ze=lt.Database,ji=lt.Statement,Gs=lt.Backup;Zs(Ze,Wn);Zs(ji,Wn);Zs(Gs,Wn);Ze.prototype.prepare=Un(function(t,e){return e.length?t.bind.apply(t,e):t});Ze.prototype.run=Un(function(t,e){return t.run.apply(t,e).finalize(),this});Ze.prototype.get=Un(function(t,e){return t.get.apply(t,e).finalize(),this});Ze.prototype.all=Un(function(t,e){return t.all.apply(t,e).finalize(),this});Ze.prototype.each=Un(function(t,e){return t.each.apply(t,e).finalize(),this});Ze.prototype.map=Un(function(t,e){return t.map.apply(t,e).finalize(),this});Ze.prototype.backup=function(){let t;return arguments.length<=2?t=new Gs(this,arguments[0],"main","main",!0,arguments[1]):t=new Gs(this,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),t.retryErrors=[lt.BUSY,lt.LOCKED],t};ji.prototype.map=function(){let t=Array.prototype.slice.call(arguments),e=t.pop();return t.push(function(n,r){if(n)return e(n);let o={};if(r.length){let s=Object.keys(r[0]),a=s[0];if(s.length>2)for(let u=0;u<r.length;u++)o[r[u][a]]=r[u];else{let u=s[1];for(let d=0;d<r.length;d++)o[r[d][a]]=r[d][u]}}e(n,o)}),this.all.apply(this,t)};var xc=!1,Qs=["trace","profile","change"];Ze.prototype.addListener=Ze.prototype.on=function(t){let e=Wn.prototype.addListener.apply(this,arguments);return Qs.indexOf(t)>=0&&this.configure(t,!0),e};Ze.prototype.removeListener=function(t){let e=Wn.prototype.removeListener.apply(this,arguments);return Qs.indexOf(t)>=0&&!this._events[t]&&this.configure(t,!1),e};Ze.prototype.removeAllListeners=function(t){let e=Wn.prototype.removeAllListeners.apply(this,arguments);return Qs.indexOf(t)>=0&&this.configure(t,!1),e};lt.verbose=function(){if(!xc){let t=Tc();["prepare","get","run","all","each","map","close","exec"].forEach(function(e){t.extendTrace(Ze.prototype,e)}),["bind","get","run","all","each","map","reset","finalize"].forEach(function(e){t.extendTrace(ji.prototype,e)}),xc=!0}return lt}});var zn=H(ze=>{"use strict";p();Object.defineProperty(ze,"__esModule",{value:!0});ze.stringArray=ze.array=ze.func=ze.error=ze.number=ze.string=ze.boolean=void 0;function Ih(t){return t===!0||t===!1}i(Ih,"boolean");ze.boolean=Ih;function Pc(t){return typeof t=="string"||t instanceof String}i(Pc,"string");ze.string=Pc;function Rh(t){return typeof t=="number"||t instanceof Number}i(Rh,"number");ze.number=Rh;function Ph(t){return t instanceof Error}i(Ph,"error");ze.error=Ph;function Mh(t){return typeof t=="function"}i(Mh,"func");ze.func=Mh;function Mc(t){return Array.isArray(t)}i(Mc,"array");ze.array=Mc;function Ch(t){return Mc(t)&&t.every(e=>Pc(e))}i(Ch,"stringArray");ze.stringArray=Ch});var Sa=H(J=>{"use strict";p();Object.defineProperty(J,"__esModule",{value:!0});J.Message=J.NotificationType9=J.NotificationType8=J.NotificationType7=J.NotificationType6=J.NotificationType5=J.NotificationType4=J.NotificationType3=J.NotificationType2=J.NotificationType1=J.NotificationType0=J.NotificationType=J.RequestType9=J.RequestType8=J.RequestType7=J.RequestType6=J.RequestType5=J.RequestType4=J.RequestType3=J.RequestType2=J.RequestType1=J.RequestType=J.RequestType0=J.AbstractMessageSignature=J.ParameterStructures=J.ResponseError=J.ErrorCodes=void 0;var yn=zn(),Xs;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(Xs||(J.ErrorCodes=Xs={}));var Ys=class t extends Error{static{i(this,"ResponseError")}constructor(e,n,r){super(n),this.code=yn.number(e)?e:Xs.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,t.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};J.ResponseError=Ys;var Ke=class t{static{i(this,"ParameterStructures")}constructor(e){this.kind=e}static is(e){return e===t.auto||e===t.byName||e===t.byPosition}toString(){return this.kind}};J.ParameterStructures=Ke;Ke.auto=new Ke("auto");Ke.byPosition=new Ke("byPosition");Ke.byName=new Ke("byName");var we=class{static{i(this,"AbstractMessageSignature")}constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return Ke.auto}};J.AbstractMessageSignature=we;var ea=class extends we{static{i(this,"RequestType0")}constructor(e){super(e,0)}};J.RequestType0=ea;var ta=class extends we{static{i(this,"RequestType")}constructor(e,n=Ke.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};J.RequestType=ta;var na=class extends we{static{i(this,"RequestType1")}constructor(e,n=Ke.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};J.RequestType1=na;var ra=class extends we{static{i(this,"RequestType2")}constructor(e){super(e,2)}};J.RequestType2=ra;var ia=class extends we{static{i(this,"RequestType3")}constructor(e){super(e,3)}};J.RequestType3=ia;var oa=class extends we{static{i(this,"RequestType4")}constructor(e){super(e,4)}};J.RequestType4=oa;var sa=class extends we{static{i(this,"RequestType5")}constructor(e){super(e,5)}};J.RequestType5=sa;var aa=class extends we{static{i(this,"RequestType6")}constructor(e){super(e,6)}};J.RequestType6=aa;var ua=class extends we{static{i(this,"RequestType7")}constructor(e){super(e,7)}};J.RequestType7=ua;var la=class extends we{static{i(this,"RequestType8")}constructor(e){super(e,8)}};J.RequestType8=la;var ca=class extends we{static{i(this,"RequestType9")}constructor(e){super(e,9)}};J.RequestType9=ca;var da=class extends we{static{i(this,"NotificationType")}constructor(e,n=Ke.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};J.NotificationType=da;var fa=class extends we{static{i(this,"NotificationType0")}constructor(e){super(e,0)}};J.NotificationType0=fa;var ma=class extends we{static{i(this,"NotificationType1")}constructor(e,n=Ke.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};J.NotificationType1=ma;var pa=class extends we{static{i(this,"NotificationType2")}constructor(e){super(e,2)}};J.NotificationType2=pa;var ga=class extends we{static{i(this,"NotificationType3")}constructor(e){super(e,3)}};J.NotificationType3=ga;var ha=class extends we{static{i(this,"NotificationType4")}constructor(e){super(e,4)}};J.NotificationType4=ha;var _a=class extends we{static{i(this,"NotificationType5")}constructor(e){super(e,5)}};J.NotificationType5=_a;var ya=class extends we{static{i(this,"NotificationType6")}constructor(e){super(e,6)}};J.NotificationType6=ya;var ba=class extends we{static{i(this,"NotificationType7")}constructor(e){super(e,7)}};J.NotificationType7=ba;var va=class extends we{static{i(this,"NotificationType8")}constructor(e){super(e,8)}};J.NotificationType8=va;var wa=class extends we{static{i(this,"NotificationType9")}constructor(e){super(e,9)}};J.NotificationType9=wa;var Cc;(function(t){function e(o){let s=o;return s&&yn.string(s.method)&&(yn.string(s.id)||yn.number(s.id))}i(e,"isRequest"),t.isRequest=e;function n(o){let s=o;return s&&yn.string(s.method)&&o.id===void 0}i(n,"isNotification"),t.isNotification=n;function r(o){let s=o;return s&&(s.result!==void 0||!!s.error)&&(yn.string(s.id)||yn.number(s.id)||s.id===null)}i(r,"isResponse"),t.isResponse=r})(Cc||(J.Message=Cc={}))});var Ta=H(Zt=>{"use strict";p();var Lc;Object.defineProperty(Zt,"__esModule",{value:!0});Zt.LRUCache=Zt.LinkedMap=Zt.Touch=void 0;var $e;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})($e||(Zt.Touch=$e={}));var zi=class{static{i(this,"LinkedMap")}constructor(){this[Lc]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,n=$e.None){let r=this._map.get(e);if(r)return n!==$e.None&&this.touch(r,n),r.value}set(e,n,r=$e.None){let o=this._map.get(e);if(o)o.value=n,r!==$e.None&&this.touch(o,r);else{switch(o={key:e,value:n,next:void 0,previous:void 0},r){case $e.None:this.addItemLast(o);break;case $e.First:this.addItemFirst(o);break;case $e.Last:this.addItemLast(o);break;default:this.addItemLast(o);break}this._map.set(e,o),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let r=this._state,o=this._head;for(;o;){if(n?e.bind(n)(o.value,o.key,this):e(o.value,o.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");o=o.next}}keys(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:i(()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let o={value:n.key,done:!1};return n=n.next,o}else return{value:void 0,done:!0}},"next")};return r}values(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:i(()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let o={value:n.value,done:!1};return n=n.next,o}else return{value:void 0,done:!0}},"next")};return r}entries(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:i(()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let o={value:[n.key,n.value],done:!1};return n=n.next,o}else return{value:void 0,done:!0}},"next")};return r}[(Lc=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==$e.First&&n!==$e.Last)){if(n===$e.First){if(e===this._head)return;let r=e.next,o=e.previous;e===this._tail?(o.next=void 0,this._tail=o):(r.previous=o,o.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===$e.Last){if(e===this._tail)return;let r=e.next,o=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=o,o.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(let[n,r]of e)this.set(n,r)}};Zt.LinkedMap=zi;var Ea=class extends zi{static{i(this,"LRUCache")}constructor(e,n=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=$e.AsNew){return super.get(e,n)}peek(e){return super.get(e,$e.None)}set(e,n){return super.set(e,n,$e.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Zt.LRUCache=Ea});var Ac=H($i=>{"use strict";p();Object.defineProperty($i,"__esModule",{value:!0});$i.Disposable=void 0;var Nc;(function(t){function e(n){return{dispose:n}}i(e,"create"),t.create=e})(Nc||($i.Disposable=Nc={}))});var Qt=H(Ia=>{"use strict";p();Object.defineProperty(Ia,"__esModule",{value:!0});var xa;function ka(){if(xa===void 0)throw new Error("No runtime abstraction layer installed");return xa}i(ka,"RAL");(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");xa=n}i(e,"install"),t.install=e})(ka||(ka={}));Ia.default=ka});var Hn=H($n=>{"use strict";p();Object.defineProperty($n,"__esModule",{value:!0});$n.Emitter=$n.Event=void 0;var Lh=Qt(),Dc;(function(t){let e={dispose(){}};t.None=function(){return e}})(Dc||($n.Event=Dc={}));var Ra=class{static{i(this,"CallbackList")}add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:i(()=>this.remove(e,n),"dispose")})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let o=0,s=this._callbacks.length;o<s;o++)if(this._callbacks[o]===e)if(this._contexts[o]===n){this._callbacks.splice(o,1),this._contexts.splice(o,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),o=this._contexts.slice(0);for(let s=0,a=r.length;s<a;s++)try{n.push(r[s].apply(o[s],e))}catch(u){(0,Lh.default)().console.error(u)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Hi=class t{static{i(this,"Emitter")}constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new Ra),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let o={dispose:i(()=>{this._callbacks&&(this._callbacks.remove(e,n),o.dispose=t._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))},"dispose")};return Array.isArray(r)&&r.push(o),o}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};$n.Emitter=Hi;Hi._noop=function(){}});var Zi=H(Vn=>{"use strict";p();Object.defineProperty(Vn,"__esModule",{value:!0});Vn.CancellationTokenSource=Vn.CancellationToken=void 0;var Nh=Qt(),Ah=zn(),Pa=Hn(),Vi;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Pa.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Pa.Event.None});function e(n){let r=n;return r&&(r===t.None||r===t.Cancelled||Ah.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}i(e,"is"),t.is=e})(Vi||(Vn.CancellationToken=Vi={}));var Dh=Object.freeze(function(t,e){let n=(0,Nh.default)().timer.setTimeout(t.bind(e),0);return{dispose(){n.dispose()}}}),Gi=class{static{i(this,"MutableToken")}constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Dh:(this._emitter||(this._emitter=new Pa.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},Ma=class{static{i(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new Gi),this._token}cancel(){this._token?this._token.cancel():this._token=Vi.Cancelled}dispose(){this._token?this._token instanceof Gi&&this._token.dispose():this._token=Vi.None}};Vn.CancellationTokenSource=Ma});var Oc=H(Gn=>{"use strict";p();Object.defineProperty(Gn,"__esModule",{value:!0});Gn.SharedArrayReceiverStrategy=Gn.SharedArraySenderStrategy=void 0;var Oh=Zi(),Lr;(function(t){t.Continue=0,t.Cancelled=1})(Lr||(Lr={}));var Ca=class{static{i(this,"SharedArraySenderStrategy")}constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let n=new SharedArrayBuffer(4),r=new Int32Array(n,0,1);r[0]=Lr.Continue,this.buffers.set(e.id,n),e.$cancellationData=n}async sendCancellation(e,n){let r=this.buffers.get(n);if(r===void 0)return;let o=new Int32Array(r,0,1);Atomics.store(o,0,Lr.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};Gn.SharedArraySenderStrategy=Ca;var La=class{static{i(this,"SharedArrayBufferCancellationToken")}constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===Lr.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},Na=class{static{i(this,"SharedArrayBufferCancellationTokenSource")}constructor(e){this.token=new La(e)}cancel(){}dispose(){}},Aa=class{static{i(this,"SharedArrayReceiverStrategy")}constructor(){this.kind="request"}createCancellationTokenSource(e){let n=e.$cancellationData;return n===void 0?new Oh.CancellationTokenSource:new Na(n)}};Gn.SharedArrayReceiverStrategy=Aa});var Oa=H(Qi=>{"use strict";p();Object.defineProperty(Qi,"__esModule",{value:!0});Qi.Semaphore=void 0;var Fh=Qt(),Da=class{static{i(this,"Semaphore")}constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,Fh.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};Qi.Semaphore=Da});var jc=H(Jt=>{"use strict";p();Object.defineProperty(Jt,"__esModule",{value:!0});Jt.ReadableStreamMessageReader=Jt.AbstractMessageReader=Jt.MessageReader=void 0;var ja=Qt(),Zn=zn(),Fa=Hn(),jh=Oa(),Fc;(function(t){function e(n){let r=n;return r&&Zn.func(r.listen)&&Zn.func(r.dispose)&&Zn.func(r.onError)&&Zn.func(r.onClose)&&Zn.func(r.onPartialMessage)}i(e,"is"),t.is=e})(Fc||(Jt.MessageReader=Fc={}));var Ji=class{static{i(this,"AbstractMessageReader")}constructor(){this.errorEmitter=new Fa.Emitter,this.closeEmitter=new Fa.Emitter,this.partialMessageEmitter=new Fa.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${Zn.string(e.message)?e.message:"unknown"}`)}};Jt.AbstractMessageReader=Ji;var qa;(function(t){function e(n){let r,o,s,a=new Map,u,d=new Map;if(n===void 0||typeof n=="string")r=n??"utf-8";else{if(r=n.charset??"utf-8",n.contentDecoder!==void 0&&(s=n.contentDecoder,a.set(s.name,s)),n.contentDecoders!==void 0)for(let f of n.contentDecoders)a.set(f.name,f);if(n.contentTypeDecoder!==void 0&&(u=n.contentTypeDecoder,d.set(u.name,u)),n.contentTypeDecoders!==void 0)for(let f of n.contentTypeDecoders)d.set(f.name,f)}return u===void 0&&(u=(0,ja.default)().applicationJson.decoder,d.set(u.name,u)),{charset:r,contentDecoder:s,contentDecoders:a,contentTypeDecoder:u,contentTypeDecoders:d}}i(e,"fromOptions"),t.fromOptions=e})(qa||(qa={}));var Wa=class extends Ji{static{i(this,"ReadableStreamMessageReader")}constructor(e,n){super(),this.readable=e,this.options=qa.fromOptions(n),this.buffer=(0,ja.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new jh.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let r=this.buffer.tryReadHeaders(!0);if(!r)return;let o=r.get("content-length");if(!o){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(r))}`));return}let s=parseInt(o);if(isNaN(s)){this.fireError(new Error(`Content-Length value must be a number. Got ${o}`));return}this.nextMessageLength=s}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let r=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(n):n,o=await this.options.contentTypeDecoder.decode(r,this.options);this.callback(o)}).catch(r=>{this.fireError(r)})}}catch(n){this.fireError(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,ja.default)().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Jt.ReadableStreamMessageReader=Wa});var zc=H(Kt=>{"use strict";p();Object.defineProperty(Kt,"__esModule",{value:!0});Kt.WriteableStreamMessageWriter=Kt.AbstractMessageWriter=Kt.MessageWriter=void 0;var qc=Qt(),Nr=zn(),qh=Oa(),Wc=Hn(),Wh="Content-Length: ",Uc=`\r
`,Bc;(function(t){function e(n){let r=n;return r&&Nr.func(r.dispose)&&Nr.func(r.onClose)&&Nr.func(r.onError)&&Nr.func(r.write)}i(e,"is"),t.is=e})(Bc||(Kt.MessageWriter=Bc={}));var Ki=class{static{i(this,"AbstractMessageWriter")}constructor(){this.errorEmitter=new Wc.Emitter,this.closeEmitter=new Wc.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${Nr.string(e.message)?e.message:"unknown"}`)}};Kt.AbstractMessageWriter=Ki;var Ua;(function(t){function e(n){return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:(0,qc.default)().applicationJson.encoder}:{charset:n.charset??"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:n.contentTypeEncoder??(0,qc.default)().applicationJson.encoder}}i(e,"fromOptions"),t.fromOptions=e})(Ua||(Ua={}));var Ba=class extends Ki{static{i(this,"WriteableStreamMessageWriter")}constructor(e,n){super(),this.writable=e,this.options=Ua.fromOptions(n),this.errorCount=0,this.writeSemaphore=new qh.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let o=[];return o.push(Wh,r.byteLength.toString(),Uc),o.push(Uc),this.doWrite(e,o,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(o){return this.handleError(o,e),Promise.reject(o)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};Kt.WriteableStreamMessageWriter=Ba});var $c=H(Xi=>{"use strict";p();Object.defineProperty(Xi,"__esModule",{value:!0});Xi.AbstractMessageBuffer=void 0;var Uh=13,Bh=10,zh=`\r
`,za=class{static{i(this,"AbstractMessageBuffer")}constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let n=0,r=0,o=0,s=0;e:for(;r<this._chunks.length;){let f=this._chunks[r];for(o=0;o<f.length;){switch(f[o]){case Uh:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0}break;case Bh:switch(n){case 1:n=2;break;case 3:n=4,o++;break e;default:n=0}break;default:n=0}o++}s+=f.byteLength,r++}if(n!==4)return;let a=this._read(s+o),u=new Map,d=this.toString(a,"ascii").split(zh);if(d.length<2)return u;for(let f=0;f<d.length-2;f++){let g=d[f],v=g.indexOf(":");if(v===-1)throw new Error(`Message header must separate key and value using ':'
${g}`);let w=g.substr(0,v),x=g.substr(v+1).trim();u.set(e?w.toLowerCase():w,x)}return u}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],a=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,a}let n=this.allocNative(e),r=0,o=0;for(;e>0;){let s=this._chunks[o];if(s.byteLength>e){let a=s.slice(0,e);n.set(a,r),r+=e,this._chunks[o]=s.slice(e),this._totalLength-=e,e-=e}else n.set(s,r),r+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return n}};Xi.AbstractMessageBuffer=za});var Qc=H(re=>{"use strict";p();Object.defineProperty(re,"__esModule",{value:!0});re.createMessageConnection=re.ConnectionOptions=re.MessageStrategy=re.CancellationStrategy=re.CancellationSenderStrategy=re.CancellationReceiverStrategy=re.RequestCancellationReceiverStrategy=re.IdCancellationReceiverStrategy=re.ConnectionStrategy=re.ConnectionError=re.ConnectionErrors=re.LogTraceNotification=re.SetTraceNotification=re.TraceFormat=re.TraceValues=re.Trace=re.NullLogger=re.ProgressType=re.ProgressToken=void 0;var Hc=Qt(),Te=zn(),K=Sa(),Vc=Ta(),Ar=Hn(),$a=Zi(),Fr;(function(t){t.type=new K.NotificationType("$/cancelRequest")})(Fr||(Fr={}));var Ha;(function(t){function e(n){return typeof n=="string"||typeof n=="number"}i(e,"is"),t.is=e})(Ha||(re.ProgressToken=Ha={}));var Dr;(function(t){t.type=new K.NotificationType("$/progress")})(Dr||(Dr={}));var Va=class{static{i(this,"ProgressType")}constructor(){}};re.ProgressType=Va;var Ga;(function(t){function e(n){return Te.func(n)}i(e,"is"),t.is=e})(Ga||(Ga={}));re.NullLogger=Object.freeze({error:i(()=>{},"error"),warn:i(()=>{},"warn"),info:i(()=>{},"info"),log:i(()=>{},"log")});var de;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Compact=2]="Compact",t[t.Verbose=3]="Verbose"})(de||(re.Trace=de={}));var Gc;(function(t){t.Off="off",t.Messages="messages",t.Compact="compact",t.Verbose="verbose"})(Gc||(re.TraceValues=Gc={}));(function(t){function e(r){if(!Te.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"compact":return t.Compact;case"verbose":return t.Verbose;default:return t.Off}}i(e,"fromString"),t.fromString=e;function n(r){switch(r){case t.Off:return"off";case t.Messages:return"messages";case t.Compact:return"compact";case t.Verbose:return"verbose";default:return"off"}}i(n,"toString"),t.toString=n})(de||(re.Trace=de={}));var it;(function(t){t.Text="text",t.JSON="json"})(it||(re.TraceFormat=it={}));(function(t){function e(n){return Te.string(n)?(n=n.toLowerCase(),n==="json"?t.JSON:t.Text):t.Text}i(e,"fromString"),t.fromString=e})(it||(re.TraceFormat=it={}));var Za;(function(t){t.type=new K.NotificationType("$/setTrace")})(Za||(re.SetTraceNotification=Za={}));var Yi;(function(t){t.type=new K.NotificationType("$/logTrace")})(Yi||(re.LogTraceNotification=Yi={}));var Or;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(Or||(re.ConnectionErrors=Or={}));var Qn=class t extends Error{static{i(this,"ConnectionError")}constructor(e,n){super(n),this.code=e,Object.setPrototypeOf(this,t.prototype)}};re.ConnectionError=Qn;var Qa;(function(t){function e(n){let r=n;return r&&Te.func(r.cancelUndispatched)}i(e,"is"),t.is=e})(Qa||(re.ConnectionStrategy=Qa={}));var eo;(function(t){function e(n){let r=n;return r&&(r.kind===void 0||r.kind==="id")&&Te.func(r.createCancellationTokenSource)&&(r.dispose===void 0||Te.func(r.dispose))}i(e,"is"),t.is=e})(eo||(re.IdCancellationReceiverStrategy=eo={}));var Ja;(function(t){function e(n){let r=n;return r&&r.kind==="request"&&Te.func(r.createCancellationTokenSource)&&(r.dispose===void 0||Te.func(r.dispose))}i(e,"is"),t.is=e})(Ja||(re.RequestCancellationReceiverStrategy=Ja={}));var to;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new $a.CancellationTokenSource}});function e(n){return eo.is(n)||Ja.is(n)}i(e,"is"),t.is=e})(to||(re.CancellationReceiverStrategy=to={}));var no;(function(t){t.Message=Object.freeze({sendCancellation(n,r){return n.sendNotification(Fr.type,{id:r})},cleanup(n){}});function e(n){let r=n;return r&&Te.func(r.sendCancellation)&&Te.func(r.cleanup)}i(e,"is"),t.is=e})(no||(re.CancellationSenderStrategy=no={}));var ro;(function(t){t.Message=Object.freeze({receiver:to.Message,sender:no.Message});function e(n){let r=n;return r&&to.is(r.receiver)&&no.is(r.sender)}i(e,"is"),t.is=e})(ro||(re.CancellationStrategy=ro={}));var io;(function(t){function e(n){let r=n;return r&&Te.func(r.handleMessage)}i(e,"is"),t.is=e})(io||(re.MessageStrategy=io={}));var Zc;(function(t){function e(n){let r=n;return r&&(ro.is(r.cancellationStrategy)||Qa.is(r.connectionStrategy)||io.is(r.messageStrategy))}i(e,"is"),t.is=e})(Zc||(re.ConnectionOptions=Zc={}));var bt;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(bt||(bt={}));function $h(t,e,n,r){let o=n!==void 0?n:re.NullLogger,s=0,a=0,u=0,d="2.0",f,g=new Map,v,w=new Map,x=new Map,D,R=new Vc.LinkedMap,q=new Map,F=new Set,M=new Map,V=de.Off,Y=it.Text,ee,me=bt.New,se=new Ar.Emitter,ge=new Ar.Emitter,Oe=new Ar.Emitter,Fe=new Ar.Emitter,O=new Ar.Emitter,T=r&&r.cancellationStrategy?r.cancellationStrategy:ro.Message;function U(_){if(_===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+_.toString()}i(U,"createRequestQueueKey");function z(_){return _===null?"res-unknown-"+(++u).toString():"res-"+_.toString()}i(z,"createResponseQueueKey");function k(){return"not-"+(++a).toString()}i(k,"createNotificationQueueKey");function L(_,P){K.Message.isRequest(P)?_.set(U(P.id),P):K.Message.isResponse(P)?_.set(z(P.id),P):_.set(k(),P)}i(L,"addMessageToQueue");function A(_){}i(A,"cancelUndispatched");function $(){return me===bt.Listening}i($,"isListening");function G(){return me===bt.Closed}i(G,"isClosed");function B(){return me===bt.Disposed}i(B,"isDisposed");function X(){(me===bt.New||me===bt.Listening)&&(me=bt.Closed,ge.fire(void 0))}i(X,"closeHandler");function te(_){se.fire([_,void 0,void 0])}i(te,"readErrorHandler");function Re(_){se.fire(_)}i(Re,"writeErrorHandler"),t.onClose(X),t.onError(te),e.onClose(X),e.onError(Re);function ce(){D||R.size===0||(D=(0,Hc.default)().timer.setImmediate(()=>{D=void 0,wt()}))}i(ce,"triggerMessageQueue");function Qe(_){K.Message.isRequest(_)?Br(_):K.Message.isNotification(_)?$r(_):K.Message.isResponse(_)?zr(_):Tn(_)}i(Qe,"handleMessage");function wt(){if(R.size===0)return;let _=R.shift();try{let P=r?.messageStrategy;io.is(P)?P.handleMessage(_,Qe):Qe(_)}finally{ce()}}i(wt,"processMessageQueue");let Ur=i(_=>{try{if(K.Message.isNotification(_)&&_.method===Fr.type.method){let P=_.params.id,W=U(P),Z=R.get(W);if(K.Message.isRequest(Z)){let fe=r?.connectionStrategy,be=fe&&fe.cancelUndispatched?fe.cancelUndispatched(Z,A):void 0;if(be&&(be.error!==void 0||be.result!==void 0)){R.delete(W),M.delete(P),be.id=Z.id,rn(be,_.method,Date.now()),e.write(be).catch(()=>o.error("Sending response for canceled message failed."));return}}let pe=M.get(P);if(pe!==void 0){pe.cancel(),xn(_);return}else F.add(P)}L(R,_)}finally{ce()}},"callback");function Br(_){if(B())return;function P(ie,he,le){let xe={jsonrpc:d,id:_.id};ie instanceof K.ResponseError?xe.error=ie.toJson():xe.result=ie===void 0?null:ie,rn(xe,he,le),e.write(xe).catch(()=>o.error("Sending response failed."))}i(P,"reply");function W(ie,he,le){let xe={jsonrpc:d,id:_.id,error:ie.toJson()};rn(xe,he,le),e.write(xe).catch(()=>o.error("Sending response failed."))}i(W,"replyError");function Z(ie,he,le){ie===void 0&&(ie=null);let xe={jsonrpc:d,id:_.id,result:ie};rn(xe,he,le),e.write(xe).catch(()=>o.error("Sending response failed."))}i(Z,"replySuccess"),Gr(_);let pe=g.get(_.method),fe,be;pe&&(fe=pe.type,be=pe.handler);let Se=Date.now();if(be||f){let ie=_.id??String(Date.now()),he=eo.is(T.receiver)?T.receiver.createCancellationTokenSource(ie):T.receiver.createCancellationTokenSource(_);_.id!==null&&F.has(_.id)&&he.cancel(),_.id!==null&&M.set(ie,he);try{let le;if(be)if(_.params===void 0){if(fe!==void 0&&fe.numberOfParams!==0){W(new K.ResponseError(K.ErrorCodes.InvalidParams,`Request ${_.method} defines ${fe.numberOfParams} params but received none.`),_.method,Se);return}le=be(he.token)}else if(Array.isArray(_.params)){if(fe!==void 0&&fe.parameterStructures===K.ParameterStructures.byName){W(new K.ResponseError(K.ErrorCodes.InvalidParams,`Request ${_.method} defines parameters by name but received parameters by position`),_.method,Se);return}le=be(..._.params,he.token)}else{if(fe!==void 0&&fe.parameterStructures===K.ParameterStructures.byPosition){W(new K.ResponseError(K.ErrorCodes.InvalidParams,`Request ${_.method} defines parameters by position but received parameters by name`),_.method,Se);return}le=be(_.params,he.token)}else f&&(le=f(_.method,_.params,he.token));let xe=le;le?xe.then?xe.then(Ae=>{M.delete(ie),P(Ae,_.method,Se)},Ae=>{M.delete(ie),Ae instanceof K.ResponseError?W(Ae,_.method,Se):Ae&&Te.string(Ae.message)?W(new K.ResponseError(K.ErrorCodes.InternalError,`Request ${_.method} failed with message: ${Ae.message}`),_.method,Se):W(new K.ResponseError(K.ErrorCodes.InternalError,`Request ${_.method} failed unexpectedly without providing any details.`),_.method,Se)}):(M.delete(ie),P(le,_.method,Se)):(M.delete(ie),Z(le,_.method,Se))}catch(le){M.delete(ie),le instanceof K.ResponseError?P(le,_.method,Se):le&&Te.string(le.message)?W(new K.ResponseError(K.ErrorCodes.InternalError,`Request ${_.method} failed with message: ${le.message}`),_.method,Se):W(new K.ResponseError(K.ErrorCodes.InternalError,`Request ${_.method} failed unexpectedly without providing any details.`),_.method,Se)}}else W(new K.ResponseError(K.ErrorCodes.MethodNotFound,`Unhandled method ${_.method}`),_.method,Se)}i(Br,"handleRequest");function zr(_){if(!B())if(_.id===null)_.error?o.error(`Received response message without id: Error is: 
${JSON.stringify(_.error,void 0,4)}`):o.error("Received response message without id. No further error information provided.");else{let P=_.id,W=q.get(P);if(Zr(_,W),W!==void 0){q.delete(P);try{if(_.error){let Z=_.error;W.reject(new K.ResponseError(Z.code,Z.message,Z.data))}else if(_.result!==void 0)W.resolve(_.result);else throw new Error("Should never happen.")}catch(Z){Z.message?o.error(`Response handler '${W.method}' failed with message: ${Z.message}`):o.error(`Response handler '${W.method}' failed unexpectedly.`)}}}}i(zr,"handleResponse");function $r(_){if(B())return;let P,W;if(_.method===Fr.type.method){let Z=_.params.id;F.delete(Z),xn(_);return}else{let Z=w.get(_.method);Z&&(W=Z.handler,P=Z.type)}if(W||v)try{if(xn(_),W)if(_.params===void 0)P!==void 0&&P.numberOfParams!==0&&P.parameterStructures!==K.ParameterStructures.byName&&o.error(`Notification ${_.method} defines ${P.numberOfParams} params but received none.`),W();else if(Array.isArray(_.params)){let Z=_.params;_.method===Dr.type.method&&Z.length===2&&Ha.is(Z[0])?W({token:Z[0],value:Z[1]}):(P!==void 0&&(P.parameterStructures===K.ParameterStructures.byName&&o.error(`Notification ${_.method} defines parameters by name but received parameters by position`),P.numberOfParams!==_.params.length&&o.error(`Notification ${_.method} defines ${P.numberOfParams} params but received ${Z.length} arguments`)),W(...Z))}else P!==void 0&&P.parameterStructures===K.ParameterStructures.byPosition&&o.error(`Notification ${_.method} defines parameters by position but received parameters by name`),W(_.params);else v&&v(_.method,_.params)}catch(Z){Z.message?o.error(`Notification handler '${_.method}' failed with message: ${Z.message}`):o.error(`Notification handler '${_.method}' failed unexpectedly.`)}else Oe.fire(_)}i($r,"handleNotification");function Tn(_){if(!_){o.error("Received empty message.");return}o.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(_,null,4)}`);let P=_;if(Te.string(P.id)||Te.number(P.id)){let W=P.id,Z=q.get(W);Z&&Z.reject(new Error("The received response has neither a result nor an error property."))}}i(Tn,"handleInvalidMessage");function ft(_){if(_!=null)switch(V){case de.Verbose:return JSON.stringify(_,null,4);case de.Compact:return JSON.stringify(_);default:return}}i(ft,"stringifyTrace");function Hr(_){if(!(V===de.Off||!ee))if(Y===it.Text){let P;(V===de.Verbose||V===de.Compact)&&_.params&&(P=`Params: ${ft(_.params)}

`),ee.log(`Sending request '${_.method} - (${_.id})'.`,P)}else Mt("send-request",_)}i(Hr,"traceSendingRequest");function Vr(_){if(!(V===de.Off||!ee))if(Y===it.Text){let P;(V===de.Verbose||V===de.Compact)&&(_.params?P=`Params: ${ft(_.params)}

`:P=`No parameters provided.

`),ee.log(`Sending notification '${_.method}'.`,P)}else Mt("send-notification",_)}i(Vr,"traceSendingNotification");function rn(_,P,W){if(!(V===de.Off||!ee))if(Y===it.Text){let Z;(V===de.Verbose||V===de.Compact)&&(_.error&&_.error.data?Z=`Error data: ${ft(_.error.data)}

`:_.result?Z=`Result: ${ft(_.result)}

`:_.error===void 0&&(Z=`No result returned.

`)),ee.log(`Sending response '${P} - (${_.id})'. Processing request took ${Date.now()-W}ms`,Z)}else Mt("send-response",_)}i(rn,"traceSendingResponse");function Gr(_){if(!(V===de.Off||!ee))if(Y===it.Text){let P;(V===de.Verbose||V===de.Compact)&&_.params&&(P=`Params: ${ft(_.params)}

`),ee.log(`Received request '${_.method} - (${_.id})'.`,P)}else Mt("receive-request",_)}i(Gr,"traceReceivedRequest");function xn(_){if(!(V===de.Off||!ee||_.method===Yi.type.method))if(Y===it.Text){let P;(V===de.Verbose||V===de.Compact)&&(_.params?P=`Params: ${ft(_.params)}

`:P=`No parameters provided.

`),ee.log(`Received notification '${_.method}'.`,P)}else Mt("receive-notification",_)}i(xn,"traceReceivedNotification");function Zr(_,P){if(!(V===de.Off||!ee))if(Y===it.Text){let W;if((V===de.Verbose||V===de.Compact)&&(_.error&&_.error.data?W=`Error data: ${ft(_.error.data)}

`:_.result?W=`Result: ${ft(_.result)}

`:_.error===void 0&&(W=`No result returned.

`)),P){let Z=_.error?` Request failed: ${_.error.message} (${_.error.code}).`:"";ee.log(`Received response '${P.method} - (${_.id})' in ${Date.now()-P.timerStart}ms.${Z}`,W)}else ee.log(`Received response ${_.id} without active response promise.`,W)}else Mt("receive-response",_)}i(Zr,"traceReceivedResponse");function Mt(_,P){if(!ee||V===de.Off)return;let W={isLSPMessage:!0,type:_,message:P,timestamp:Date.now()};ee.log(W)}i(Mt,"logLSPMessage");function Wt(){if(G())throw new Qn(Or.Closed,"Connection is closed.");if(B())throw new Qn(Or.Disposed,"Connection is disposed.")}i(Wt,"throwIfClosedOrDisposed");function Qr(){if($())throw new Qn(Or.AlreadyListening,"Connection is already listening")}i(Qr,"throwIfListening");function Jr(){if(!$())throw new Error("Call listen() first.")}i(Jr,"throwIfNotListening");function St(_){return _===void 0?null:_}i(St,"undefinedToNull");function ur(_){if(_!==null)return _}i(ur,"nullToUndefined");function lr(_){return _!=null&&!Array.isArray(_)&&typeof _=="object"}i(lr,"isNamedParam");function kn(_,P){switch(_){case K.ParameterStructures.auto:return lr(P)?ur(P):[St(P)];case K.ParameterStructures.byName:if(!lr(P))throw new Error("Received parameters by name but param is not an object literal.");return ur(P);case K.ParameterStructures.byPosition:return[St(P)];default:throw new Error(`Unknown parameter structure ${_.toString()}`)}}i(kn,"computeSingleParam");function cr(_,P){let W,Z=_.numberOfParams;switch(Z){case 0:W=void 0;break;case 1:W=kn(_.parameterStructures,P[0]);break;default:W=[];for(let pe=0;pe<P.length&&pe<Z;pe++)W.push(St(P[pe]));if(P.length<Z)for(let pe=P.length;pe<Z;pe++)W.push(null);break}return W}i(cr,"computeMessageParams");let Ct={sendNotification:i((_,...P)=>{Wt();let W,Z;if(Te.string(_)){W=_;let fe=P[0],be=0,Se=K.ParameterStructures.auto;K.ParameterStructures.is(fe)&&(be=1,Se=fe);let ie=P.length,he=ie-be;switch(he){case 0:Z=void 0;break;case 1:Z=kn(Se,P[be]);break;default:if(Se===K.ParameterStructures.byName)throw new Error(`Received ${he} parameters for 'by Name' notification parameter structure.`);Z=P.slice(be,ie).map(le=>St(le));break}}else{let fe=P;W=_.method,Z=cr(_,fe)}let pe={jsonrpc:d,method:W,params:Z};return Vr(pe),e.write(pe).catch(fe=>{throw o.error("Sending notification failed."),fe})},"sendNotification"),onNotification:i((_,P)=>{Wt();let W;return Te.func(_)?v=_:P&&(Te.string(_)?(W=_,w.set(_,{type:void 0,handler:P})):(W=_.method,w.set(_.method,{type:_,handler:P}))),{dispose:i(()=>{W!==void 0?w.delete(W):v=void 0},"dispose")}},"onNotification"),onProgress:i((_,P,W)=>{if(x.has(P))throw new Error(`Progress handler for token ${P} already registered`);return x.set(P,W),{dispose:i(()=>{x.delete(P)},"dispose")}},"onProgress"),sendProgress:i((_,P,W)=>Ct.sendNotification(Dr.type,{token:P,value:W}),"sendProgress"),onUnhandledProgress:Fe.event,sendRequest:i((_,...P)=>{Wt(),Jr();let W,Z,pe;if(Te.string(_)){W=_;let ie=P[0],he=P[P.length-1],le=0,xe=K.ParameterStructures.auto;K.ParameterStructures.is(ie)&&(le=1,xe=ie);let Ae=P.length;$a.CancellationToken.is(he)&&(Ae=Ae-1,pe=he);let tt=Ae-le;switch(tt){case 0:Z=void 0;break;case 1:Z=kn(xe,P[le]);break;default:if(xe===K.ParameterStructures.byName)throw new Error(`Received ${tt} parameters for 'by Name' request parameter structure.`);Z=P.slice(le,Ae).map(Kr=>St(Kr));break}}else{let ie=P;W=_.method,Z=cr(_,ie);let he=_.numberOfParams;pe=$a.CancellationToken.is(ie[he])?ie[he]:void 0}let fe=s++,be;pe&&(be=pe.onCancellationRequested(()=>{let ie=T.sender.sendCancellation(Ct,fe);return ie===void 0?(o.log(`Received no promise from cancellation strategy when cancelling id ${fe}`),Promise.resolve()):ie.catch(()=>{o.log(`Sending cancellation messages for id ${fe} failed`)})}));let Se={jsonrpc:d,id:fe,method:W,params:Z};return Hr(Se),typeof T.sender.enableCancellation=="function"&&T.sender.enableCancellation(Se),new Promise(async(ie,he)=>{let le=i(tt=>{ie(tt),T.sender.cleanup(fe),be?.dispose()},"resolveWithCleanup"),xe=i(tt=>{he(tt),T.sender.cleanup(fe),be?.dispose()},"rejectWithCleanup"),Ae={method:W,timerStart:Date.now(),resolve:le,reject:xe};try{await e.write(Se),q.set(fe,Ae)}catch(tt){throw o.error("Sending request failed."),Ae.reject(new K.ResponseError(K.ErrorCodes.MessageWriteError,tt.message?tt.message:"Unknown reason")),tt}})},"sendRequest"),onRequest:i((_,P)=>{Wt();let W=null;return Ga.is(_)?(W=void 0,f=_):Te.string(_)?(W=null,P!==void 0&&(W=_,g.set(_,{handler:P,type:void 0}))):P!==void 0&&(W=_.method,g.set(_.method,{type:_,handler:P})),{dispose:i(()=>{W!==null&&(W!==void 0?g.delete(W):f=void 0)},"dispose")}},"onRequest"),hasPendingResponse:i(()=>q.size>0,"hasPendingResponse"),trace:i(async(_,P,W)=>{let Z=!1,pe=it.Text;W!==void 0&&(Te.boolean(W)?Z=W:(Z=W.sendNotification||!1,pe=W.traceFormat||it.Text)),V=_,Y=pe,V===de.Off?ee=void 0:ee=P,Z&&!G()&&!B()&&await Ct.sendNotification(Za.type,{value:de.toString(_)})},"trace"),onError:se.event,onClose:ge.event,onUnhandledNotification:Oe.event,onDispose:O.event,end:i(()=>{e.end()},"end"),dispose:i(()=>{if(B())return;me=bt.Disposed,O.fire(void 0);let _=new K.ResponseError(K.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let P of q.values())P.reject(_);q=new Map,M=new Map,F=new Set,R=new Vc.LinkedMap,Te.func(e.dispose)&&e.dispose(),Te.func(t.dispose)&&t.dispose()},"dispose"),listen:i(()=>{Wt(),Qr(),me=bt.Listening,t.listen(Ur)},"listen"),inspect:i(()=>{(0,Hc.default)().console.log("inspect")},"inspect")};return Ct.onNotification(Yi.type,_=>{if(V===de.Off||!ee)return;let P=V===de.Verbose||V===de.Compact;ee.log(_.message,P?_.verbose:void 0)}),Ct.onNotification(Dr.type,_=>{let P=x.get(_.token);P?P(_.value):Fe.fire(_)}),Ct}i($h,"createMessageConnection");re.createMessageConnection=$h});var oo=H(I=>{"use strict";p();Object.defineProperty(I,"__esModule",{value:!0});I.ProgressType=I.ProgressToken=I.createMessageConnection=I.NullLogger=I.ConnectionOptions=I.ConnectionStrategy=I.AbstractMessageBuffer=I.WriteableStreamMessageWriter=I.AbstractMessageWriter=I.MessageWriter=I.ReadableStreamMessageReader=I.AbstractMessageReader=I.MessageReader=I.SharedArrayReceiverStrategy=I.SharedArraySenderStrategy=I.CancellationToken=I.CancellationTokenSource=I.Emitter=I.Event=I.Disposable=I.LRUCache=I.Touch=I.LinkedMap=I.ParameterStructures=I.NotificationType9=I.NotificationType8=I.NotificationType7=I.NotificationType6=I.NotificationType5=I.NotificationType4=I.NotificationType3=I.NotificationType2=I.NotificationType1=I.NotificationType0=I.NotificationType=I.ErrorCodes=I.ResponseError=I.RequestType9=I.RequestType8=I.RequestType7=I.RequestType6=I.RequestType5=I.RequestType4=I.RequestType3=I.RequestType2=I.RequestType1=I.RequestType0=I.RequestType=I.Message=I.RAL=void 0;I.MessageStrategy=I.CancellationStrategy=I.CancellationSenderStrategy=I.CancellationReceiverStrategy=I.ConnectionError=I.ConnectionErrors=I.LogTraceNotification=I.SetTraceNotification=I.TraceFormat=I.TraceValues=I.Trace=void 0;var ye=Sa();Object.defineProperty(I,"Message",{enumerable:!0,get:i(function(){return ye.Message},"get")});Object.defineProperty(I,"RequestType",{enumerable:!0,get:i(function(){return ye.RequestType},"get")});Object.defineProperty(I,"RequestType0",{enumerable:!0,get:i(function(){return ye.RequestType0},"get")});Object.defineProperty(I,"RequestType1",{enumerable:!0,get:i(function(){return ye.RequestType1},"get")});Object.defineProperty(I,"RequestType2",{enumerable:!0,get:i(function(){return ye.RequestType2},"get")});Object.defineProperty(I,"RequestType3",{enumerable:!0,get:i(function(){return ye.RequestType3},"get")});Object.defineProperty(I,"RequestType4",{enumerable:!0,get:i(function(){return ye.RequestType4},"get")});Object.defineProperty(I,"RequestType5",{enumerable:!0,get:i(function(){return ye.RequestType5},"get")});Object.defineProperty(I,"RequestType6",{enumerable:!0,get:i(function(){return ye.RequestType6},"get")});Object.defineProperty(I,"RequestType7",{enumerable:!0,get:i(function(){return ye.RequestType7},"get")});Object.defineProperty(I,"RequestType8",{enumerable:!0,get:i(function(){return ye.RequestType8},"get")});Object.defineProperty(I,"RequestType9",{enumerable:!0,get:i(function(){return ye.RequestType9},"get")});Object.defineProperty(I,"ResponseError",{enumerable:!0,get:i(function(){return ye.ResponseError},"get")});Object.defineProperty(I,"ErrorCodes",{enumerable:!0,get:i(function(){return ye.ErrorCodes},"get")});Object.defineProperty(I,"NotificationType",{enumerable:!0,get:i(function(){return ye.NotificationType},"get")});Object.defineProperty(I,"NotificationType0",{enumerable:!0,get:i(function(){return ye.NotificationType0},"get")});Object.defineProperty(I,"NotificationType1",{enumerable:!0,get:i(function(){return ye.NotificationType1},"get")});Object.defineProperty(I,"NotificationType2",{enumerable:!0,get:i(function(){return ye.NotificationType2},"get")});Object.defineProperty(I,"NotificationType3",{enumerable:!0,get:i(function(){return ye.NotificationType3},"get")});Object.defineProperty(I,"NotificationType4",{enumerable:!0,get:i(function(){return ye.NotificationType4},"get")});Object.defineProperty(I,"NotificationType5",{enumerable:!0,get:i(function(){return ye.NotificationType5},"get")});Object.defineProperty(I,"NotificationType6",{enumerable:!0,get:i(function(){return ye.NotificationType6},"get")});Object.defineProperty(I,"NotificationType7",{enumerable:!0,get:i(function(){return ye.NotificationType7},"get")});Object.defineProperty(I,"NotificationType8",{enumerable:!0,get:i(function(){return ye.NotificationType8},"get")});Object.defineProperty(I,"NotificationType9",{enumerable:!0,get:i(function(){return ye.NotificationType9},"get")});Object.defineProperty(I,"ParameterStructures",{enumerable:!0,get:i(function(){return ye.ParameterStructures},"get")});var Ka=Ta();Object.defineProperty(I,"LinkedMap",{enumerable:!0,get:i(function(){return Ka.LinkedMap},"get")});Object.defineProperty(I,"LRUCache",{enumerable:!0,get:i(function(){return Ka.LRUCache},"get")});Object.defineProperty(I,"Touch",{enumerable:!0,get:i(function(){return Ka.Touch},"get")});var Hh=Ac();Object.defineProperty(I,"Disposable",{enumerable:!0,get:i(function(){return Hh.Disposable},"get")});var Jc=Hn();Object.defineProperty(I,"Event",{enumerable:!0,get:i(function(){return Jc.Event},"get")});Object.defineProperty(I,"Emitter",{enumerable:!0,get:i(function(){return Jc.Emitter},"get")});var Kc=Zi();Object.defineProperty(I,"CancellationTokenSource",{enumerable:!0,get:i(function(){return Kc.CancellationTokenSource},"get")});Object.defineProperty(I,"CancellationToken",{enumerable:!0,get:i(function(){return Kc.CancellationToken},"get")});var Xc=Oc();Object.defineProperty(I,"SharedArraySenderStrategy",{enumerable:!0,get:i(function(){return Xc.SharedArraySenderStrategy},"get")});Object.defineProperty(I,"SharedArrayReceiverStrategy",{enumerable:!0,get:i(function(){return Xc.SharedArrayReceiverStrategy},"get")});var Xa=jc();Object.defineProperty(I,"MessageReader",{enumerable:!0,get:i(function(){return Xa.MessageReader},"get")});Object.defineProperty(I,"AbstractMessageReader",{enumerable:!0,get:i(function(){return Xa.AbstractMessageReader},"get")});Object.defineProperty(I,"ReadableStreamMessageReader",{enumerable:!0,get:i(function(){return Xa.ReadableStreamMessageReader},"get")});var Ya=zc();Object.defineProperty(I,"MessageWriter",{enumerable:!0,get:i(function(){return Ya.MessageWriter},"get")});Object.defineProperty(I,"AbstractMessageWriter",{enumerable:!0,get:i(function(){return Ya.AbstractMessageWriter},"get")});Object.defineProperty(I,"WriteableStreamMessageWriter",{enumerable:!0,get:i(function(){return Ya.WriteableStreamMessageWriter},"get")});var Vh=$c();Object.defineProperty(I,"AbstractMessageBuffer",{enumerable:!0,get:i(function(){return Vh.AbstractMessageBuffer},"get")});var We=Qc();Object.defineProperty(I,"ConnectionStrategy",{enumerable:!0,get:i(function(){return We.ConnectionStrategy},"get")});Object.defineProperty(I,"ConnectionOptions",{enumerable:!0,get:i(function(){return We.ConnectionOptions},"get")});Object.defineProperty(I,"NullLogger",{enumerable:!0,get:i(function(){return We.NullLogger},"get")});Object.defineProperty(I,"createMessageConnection",{enumerable:!0,get:i(function(){return We.createMessageConnection},"get")});Object.defineProperty(I,"ProgressToken",{enumerable:!0,get:i(function(){return We.ProgressToken},"get")});Object.defineProperty(I,"ProgressType",{enumerable:!0,get:i(function(){return We.ProgressType},"get")});Object.defineProperty(I,"Trace",{enumerable:!0,get:i(function(){return We.Trace},"get")});Object.defineProperty(I,"TraceValues",{enumerable:!0,get:i(function(){return We.TraceValues},"get")});Object.defineProperty(I,"TraceFormat",{enumerable:!0,get:i(function(){return We.TraceFormat},"get")});Object.defineProperty(I,"SetTraceNotification",{enumerable:!0,get:i(function(){return We.SetTraceNotification},"get")});Object.defineProperty(I,"LogTraceNotification",{enumerable:!0,get:i(function(){return We.LogTraceNotification},"get")});Object.defineProperty(I,"ConnectionErrors",{enumerable:!0,get:i(function(){return We.ConnectionErrors},"get")});Object.defineProperty(I,"ConnectionError",{enumerable:!0,get:i(function(){return We.ConnectionError},"get")});Object.defineProperty(I,"CancellationReceiverStrategy",{enumerable:!0,get:i(function(){return We.CancellationReceiverStrategy},"get")});Object.defineProperty(I,"CancellationSenderStrategy",{enumerable:!0,get:i(function(){return We.CancellationSenderStrategy},"get")});Object.defineProperty(I,"CancellationStrategy",{enumerable:!0,get:i(function(){return We.CancellationStrategy},"get")});Object.defineProperty(I,"MessageStrategy",{enumerable:!0,get:i(function(){return We.MessageStrategy},"get")});var Gh=Qt();I.RAL=Gh.default});var td=H(ru=>{"use strict";p();Object.defineProperty(ru,"__esModule",{value:!0});var Yc=require("util"),jt=oo(),so=class t extends jt.AbstractMessageBuffer{static{i(this,"MessageBuffer")}constructor(e="utf-8"){super(e)}emptyBuffer(){return t.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new Yc.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};so.emptyBuffer=Buffer.allocUnsafe(0);var eu=class{static{i(this,"ReadableStreamWrapper")}constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),jt.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),jt.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),jt.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),jt.Disposable.create(()=>this.stream.off("data",e))}},tu=class{static{i(this,"WritableStreamWrapper")}constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),jt.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),jt.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),jt.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((r,o)=>{let s=i(a=>{a==null?r():o(a)},"callback");typeof e=="string"?this.stream.write(e,n,s):this.stream.write(e,s)})}end(){this.stream.end()}},ed=Object.freeze({messageBuffer:Object.freeze({create:i(t=>new so(t),"create")}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:i((t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}},"encode")}),decoder:Object.freeze({name:"application/json",decode:i((t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new Yc.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}},"decode")})}),stream:Object.freeze({asReadableStream:i(t=>new eu(t),"asReadableStream"),asWritableStream:i(t=>new tu(t),"asWritableStream")}),console,timer:Object.freeze({setTimeout(t,e,...n){let r=setTimeout(t,e,...n);return{dispose:i(()=>clearTimeout(r),"dispose")}},setImmediate(t,...e){let n=setImmediate(t,...e);return{dispose:i(()=>clearImmediate(n),"dispose")}},setInterval(t,e,...n){let r=setInterval(t,e,...n);return{dispose:i(()=>clearInterval(r),"dispose")}}})});function nu(){return ed}i(nu,"RIL");(function(t){function e(){jt.RAL.install(ed)}i(e,"install"),t.install=e})(nu||(nu={}));ru.default=nu});var wn=H(ue=>{"use strict";p();var Zh=ue&&ue.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:i(function(){return e[n]},"get")}),Object.defineProperty(t,r,o)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Qh=ue&&ue.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Zh(e,t,n)};Object.defineProperty(ue,"__esModule",{value:!0});ue.createMessageConnection=ue.createServerSocketTransport=ue.createClientSocketTransport=ue.createServerPipeTransport=ue.createClientPipeTransport=ue.generateRandomPipeName=ue.StreamMessageWriter=ue.StreamMessageReader=ue.SocketMessageWriter=ue.SocketMessageReader=ue.PortMessageWriter=ue.PortMessageReader=ue.IPCMessageWriter=ue.IPCMessageReader=void 0;var Jn=td();Jn.default.install();var nd=require("path"),Jh=require("os"),Kh=require("crypto"),lo=require("net"),ot=oo();Qh(oo(),ue);var iu=class extends ot.AbstractMessageReader{static{i(this,"IPCMessageReader")}constructor(e){super(),this.process=e;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),ot.Disposable.create(()=>this.process.off("message",e))}};ue.IPCMessageReader=iu;var ou=class extends ot.AbstractMessageWriter{static{i(this,"IPCMessageWriter")}constructor(e){super(),this.process=e,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};ue.IPCMessageWriter=ou;var su=class extends ot.AbstractMessageReader{static{i(this,"PortMessageReader")}constructor(e){super(),this.onData=new ot.Emitter,e.on("close",()=>this.fireClose),e.on("error",n=>this.fireError(n)),e.on("message",n=>{this.onData.fire(n)})}listen(e){return this.onData.event(e)}};ue.PortMessageReader=su;var au=class extends ot.AbstractMessageWriter{static{i(this,"PortMessageWriter")}constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",n=>this.fireError(n))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};ue.PortMessageWriter=au;var bn=class extends ot.ReadableStreamMessageReader{static{i(this,"SocketMessageReader")}constructor(e,n="utf-8"){super((0,Jn.default)().stream.asReadableStream(e),n)}};ue.SocketMessageReader=bn;var vn=class extends ot.WriteableStreamMessageWriter{static{i(this,"SocketMessageWriter")}constructor(e,n){super((0,Jn.default)().stream.asWritableStream(e),n),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};ue.SocketMessageWriter=vn;var ao=class extends ot.ReadableStreamMessageReader{static{i(this,"StreamMessageReader")}constructor(e,n){super((0,Jn.default)().stream.asReadableStream(e),n)}};ue.StreamMessageReader=ao;var uo=class extends ot.WriteableStreamMessageWriter{static{i(this,"StreamMessageWriter")}constructor(e,n){super((0,Jn.default)().stream.asWritableStream(e),n)}};ue.StreamMessageWriter=uo;var rd=process.env.XDG_RUNTIME_DIR,Xh=new Map([["linux",107],["darwin",103]]);function Yh(){let t=(0,Kh.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;rd?e=nd.join(rd,`vscode-ipc-${t}.sock`):e=nd.join(Jh.tmpdir(),`vscode-${t}.sock`);let n=Xh.get(process.platform);return n!==void 0&&e.length>n&&(0,Jn.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}i(Yh,"generateRandomPipeName");ue.generateRandomPipeName=Yh;function e_(t,e="utf-8"){let n,r=new Promise((o,s)=>{n=o});return new Promise((o,s)=>{let a=(0,lo.createServer)(u=>{a.close(),n([new bn(u,e),new vn(u,e)])});a.on("error",s),a.listen(t,()=>{a.removeListener("error",s),o({onConnected:i(()=>r,"onConnected")})})})}i(e_,"createClientPipeTransport");ue.createClientPipeTransport=e_;function t_(t,e="utf-8"){let n=(0,lo.createConnection)(t);return[new bn(n,e),new vn(n,e)]}i(t_,"createServerPipeTransport");ue.createServerPipeTransport=t_;function n_(t,e="utf-8"){let n,r=new Promise((o,s)=>{n=o});return new Promise((o,s)=>{let a=(0,lo.createServer)(u=>{a.close(),n([new bn(u,e),new vn(u,e)])});a.on("error",s),a.listen(t,"127.0.0.1",()=>{a.removeListener("error",s),o({onConnected:i(()=>r,"onConnected")})})})}i(n_,"createClientSocketTransport");ue.createClientSocketTransport=n_;function r_(t,e="utf-8"){let n=(0,lo.createConnection)(t,"127.0.0.1");return[new bn(n,e),new vn(n,e)]}i(r_,"createServerSocketTransport");ue.createServerSocketTransport=r_;function i_(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}i(i_,"isReadableStream");function o_(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}i(o_,"isWritableStream");function s_(t,e,n,r){n||(n=ot.NullLogger);let o=i_(t)?new ao(t):t,s=o_(e)?new uo(e):e;return ot.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,ot.createMessageConnection)(o,s,n,r)}i(s_,"createMessageConnection");ue.createMessageConnection=s_});var uu=H((G0,id)=>{"use strict";p();id.exports=wn()});var fo=H((od,co)=>{p();(function(t){if(typeof co=="object"&&typeof co.exports=="object"){var e=t(require,od);e!==void 0&&(co.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.WorkspaceFolder=e.InlineCompletionContext=e.SelectedCompletionInfo=e.InlineCompletionTriggerKind=e.InlineCompletionList=e.InlineCompletionItem=e.StringValue=e.InlayHint=e.InlayHintLabelPart=e.InlayHintKind=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionTriggerKind=e.CodeActionKind=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.CompletionItemLabelDetails=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=e.URI=e.DocumentUri=void 0;var n;(function(c){function y(b){return typeof b=="string"}i(y,"is"),c.is=y})(n||(e.DocumentUri=n={}));var r;(function(c){function y(b){return typeof b=="string"}i(y,"is"),c.is=y})(r||(e.URI=r={}));var o;(function(c){c.MIN_VALUE=-2147483648,c.MAX_VALUE=2147483647;function y(b){return typeof b=="number"&&c.MIN_VALUE<=b&&b<=c.MAX_VALUE}i(y,"is"),c.is=y})(o||(e.integer=o={}));var s;(function(c){c.MIN_VALUE=0,c.MAX_VALUE=2147483647;function y(b){return typeof b=="number"&&c.MIN_VALUE<=b&&b<=c.MAX_VALUE}i(y,"is"),c.is=y})(s||(e.uinteger=s={}));var a;(function(c){function y(m,l){return m===Number.MAX_VALUE&&(m=s.MAX_VALUE),l===Number.MAX_VALUE&&(l=s.MAX_VALUE),{line:m,character:l}}i(y,"create"),c.create=y;function b(m){var l=m;return E.objectLiteral(l)&&E.uinteger(l.line)&&E.uinteger(l.character)}i(b,"is"),c.is=b})(a||(e.Position=a={}));var u;(function(c){function y(m,l,S,N){if(E.uinteger(m)&&E.uinteger(l)&&E.uinteger(S)&&E.uinteger(N))return{start:a.create(m,l),end:a.create(S,N)};if(a.is(m)&&a.is(l))return{start:m,end:l};throw new Error("Range#create called with invalid arguments[".concat(m,", ").concat(l,", ").concat(S,", ").concat(N,"]"))}i(y,"create"),c.create=y;function b(m){var l=m;return E.objectLiteral(l)&&a.is(l.start)&&a.is(l.end)}i(b,"is"),c.is=b})(u||(e.Range=u={}));var d;(function(c){function y(m,l){return{uri:m,range:l}}i(y,"create"),c.create=y;function b(m){var l=m;return E.objectLiteral(l)&&u.is(l.range)&&(E.string(l.uri)||E.undefined(l.uri))}i(b,"is"),c.is=b})(d||(e.Location=d={}));var f;(function(c){function y(m,l,S,N){return{targetUri:m,targetRange:l,targetSelectionRange:S,originSelectionRange:N}}i(y,"create"),c.create=y;function b(m){var l=m;return E.objectLiteral(l)&&u.is(l.targetRange)&&E.string(l.targetUri)&&u.is(l.targetSelectionRange)&&(u.is(l.originSelectionRange)||E.undefined(l.originSelectionRange))}i(b,"is"),c.is=b})(f||(e.LocationLink=f={}));var g;(function(c){function y(m,l,S,N){return{red:m,green:l,blue:S,alpha:N}}i(y,"create"),c.create=y;function b(m){var l=m;return E.objectLiteral(l)&&E.numberRange(l.red,0,1)&&E.numberRange(l.green,0,1)&&E.numberRange(l.blue,0,1)&&E.numberRange(l.alpha,0,1)}i(b,"is"),c.is=b})(g||(e.Color=g={}));var v;(function(c){function y(m,l){return{range:m,color:l}}i(y,"create"),c.create=y;function b(m){var l=m;return E.objectLiteral(l)&&u.is(l.range)&&g.is(l.color)}i(b,"is"),c.is=b})(v||(e.ColorInformation=v={}));var w;(function(c){function y(m,l,S){return{label:m,textEdit:l,additionalTextEdits:S}}i(y,"create"),c.create=y;function b(m){var l=m;return E.objectLiteral(l)&&E.string(l.label)&&(E.undefined(l.textEdit)||ee.is(l))&&(E.undefined(l.additionalTextEdits)||E.typedArray(l.additionalTextEdits,ee.is))}i(b,"is"),c.is=b})(w||(e.ColorPresentation=w={}));var x;(function(c){c.Comment="comment",c.Imports="imports",c.Region="region"})(x||(e.FoldingRangeKind=x={}));var D;(function(c){function y(m,l,S,N,ne,ke){var _e={startLine:m,endLine:l};return E.defined(S)&&(_e.startCharacter=S),E.defined(N)&&(_e.endCharacter=N),E.defined(ne)&&(_e.kind=ne),E.defined(ke)&&(_e.collapsedText=ke),_e}i(y,"create"),c.create=y;function b(m){var l=m;return E.objectLiteral(l)&&E.uinteger(l.startLine)&&E.uinteger(l.startLine)&&(E.undefined(l.startCharacter)||E.uinteger(l.startCharacter))&&(E.undefined(l.endCharacter)||E.uinteger(l.endCharacter))&&(E.undefined(l.kind)||E.string(l.kind))}i(b,"is"),c.is=b})(D||(e.FoldingRange=D={}));var R;(function(c){function y(m,l){return{location:m,message:l}}i(y,"create"),c.create=y;function b(m){var l=m;return E.defined(l)&&d.is(l.location)&&E.string(l.message)}i(b,"is"),c.is=b})(R||(e.DiagnosticRelatedInformation=R={}));var q;(function(c){c.Error=1,c.Warning=2,c.Information=3,c.Hint=4})(q||(e.DiagnosticSeverity=q={}));var F;(function(c){c.Unnecessary=1,c.Deprecated=2})(F||(e.DiagnosticTag=F={}));var M;(function(c){function y(b){var m=b;return E.objectLiteral(m)&&E.string(m.href)}i(y,"is"),c.is=y})(M||(e.CodeDescription=M={}));var V;(function(c){function y(m,l,S,N,ne,ke){var _e={range:m,message:l};return E.defined(S)&&(_e.severity=S),E.defined(N)&&(_e.code=N),E.defined(ne)&&(_e.source=ne),E.defined(ke)&&(_e.relatedInformation=ke),_e}i(y,"create"),c.create=y;function b(m){var l,S=m;return E.defined(S)&&u.is(S.range)&&E.string(S.message)&&(E.number(S.severity)||E.undefined(S.severity))&&(E.integer(S.code)||E.string(S.code)||E.undefined(S.code))&&(E.undefined(S.codeDescription)||E.string((l=S.codeDescription)===null||l===void 0?void 0:l.href))&&(E.string(S.source)||E.undefined(S.source))&&(E.undefined(S.relatedInformation)||E.typedArray(S.relatedInformation,R.is))}i(b,"is"),c.is=b})(V||(e.Diagnostic=V={}));var Y;(function(c){function y(m,l){for(var S=[],N=2;N<arguments.length;N++)S[N-2]=arguments[N];var ne={title:m,command:l};return E.defined(S)&&S.length>0&&(ne.arguments=S),ne}i(y,"create"),c.create=y;function b(m){var l=m;return E.defined(l)&&E.string(l.title)&&E.string(l.command)}i(b,"is"),c.is=b})(Y||(e.Command=Y={}));var ee;(function(c){function y(S,N){return{range:S,newText:N}}i(y,"replace"),c.replace=y;function b(S,N){return{range:{start:S,end:S},newText:N}}i(b,"insert"),c.insert=b;function m(S){return{range:S,newText:""}}i(m,"del"),c.del=m;function l(S){var N=S;return E.objectLiteral(N)&&E.string(N.newText)&&u.is(N.range)}i(l,"is"),c.is=l})(ee||(e.TextEdit=ee={}));var me;(function(c){function y(m,l,S){var N={label:m};return l!==void 0&&(N.needsConfirmation=l),S!==void 0&&(N.description=S),N}i(y,"create"),c.create=y;function b(m){var l=m;return E.objectLiteral(l)&&E.string(l.label)&&(E.boolean(l.needsConfirmation)||l.needsConfirmation===void 0)&&(E.string(l.description)||l.description===void 0)}i(b,"is"),c.is=b})(me||(e.ChangeAnnotation=me={}));var se;(function(c){function y(b){var m=b;return E.string(m)}i(y,"is"),c.is=y})(se||(e.ChangeAnnotationIdentifier=se={}));var ge;(function(c){function y(S,N,ne){return{range:S,newText:N,annotationId:ne}}i(y,"replace"),c.replace=y;function b(S,N,ne){return{range:{start:S,end:S},newText:N,annotationId:ne}}i(b,"insert"),c.insert=b;function m(S,N){return{range:S,newText:"",annotationId:N}}i(m,"del"),c.del=m;function l(S){var N=S;return ee.is(N)&&(me.is(N.annotationId)||se.is(N.annotationId))}i(l,"is"),c.is=l})(ge||(e.AnnotatedTextEdit=ge={}));var Oe;(function(c){function y(m,l){return{textDocument:m,edits:l}}i(y,"create"),c.create=y;function b(m){var l=m;return E.defined(l)&&G.is(l.textDocument)&&Array.isArray(l.edits)}i(b,"is"),c.is=b})(Oe||(e.TextDocumentEdit=Oe={}));var Fe;(function(c){function y(m,l,S){var N={kind:"create",uri:m};return l!==void 0&&(l.overwrite!==void 0||l.ignoreIfExists!==void 0)&&(N.options=l),S!==void 0&&(N.annotationId=S),N}i(y,"create"),c.create=y;function b(m){var l=m;return l&&l.kind==="create"&&E.string(l.uri)&&(l.options===void 0||(l.options.overwrite===void 0||E.boolean(l.options.overwrite))&&(l.options.ignoreIfExists===void 0||E.boolean(l.options.ignoreIfExists)))&&(l.annotationId===void 0||se.is(l.annotationId))}i(b,"is"),c.is=b})(Fe||(e.CreateFile=Fe={}));var O;(function(c){function y(m,l,S,N){var ne={kind:"rename",oldUri:m,newUri:l};return S!==void 0&&(S.overwrite!==void 0||S.ignoreIfExists!==void 0)&&(ne.options=S),N!==void 0&&(ne.annotationId=N),ne}i(y,"create"),c.create=y;function b(m){var l=m;return l&&l.kind==="rename"&&E.string(l.oldUri)&&E.string(l.newUri)&&(l.options===void 0||(l.options.overwrite===void 0||E.boolean(l.options.overwrite))&&(l.options.ignoreIfExists===void 0||E.boolean(l.options.ignoreIfExists)))&&(l.annotationId===void 0||se.is(l.annotationId))}i(b,"is"),c.is=b})(O||(e.RenameFile=O={}));var T;(function(c){function y(m,l,S){var N={kind:"delete",uri:m};return l!==void 0&&(l.recursive!==void 0||l.ignoreIfNotExists!==void 0)&&(N.options=l),S!==void 0&&(N.annotationId=S),N}i(y,"create"),c.create=y;function b(m){var l=m;return l&&l.kind==="delete"&&E.string(l.uri)&&(l.options===void 0||(l.options.recursive===void 0||E.boolean(l.options.recursive))&&(l.options.ignoreIfNotExists===void 0||E.boolean(l.options.ignoreIfNotExists)))&&(l.annotationId===void 0||se.is(l.annotationId))}i(b,"is"),c.is=b})(T||(e.DeleteFile=T={}));var U;(function(c){function y(b){var m=b;return m&&(m.changes!==void 0||m.documentChanges!==void 0)&&(m.documentChanges===void 0||m.documentChanges.every(function(l){return E.string(l.kind)?Fe.is(l)||O.is(l)||T.is(l):Oe.is(l)}))}i(y,"is"),c.is=y})(U||(e.WorkspaceEdit=U={}));var z=function(){function c(y,b){this.edits=y,this.changeAnnotations=b}return i(c,"TextEditChangeImpl"),c.prototype.insert=function(y,b,m){var l,S;if(m===void 0?l=ee.insert(y,b):se.is(m)?(S=m,l=ge.insert(y,b,m)):(this.assertChangeAnnotations(this.changeAnnotations),S=this.changeAnnotations.manage(m),l=ge.insert(y,b,S)),this.edits.push(l),S!==void 0)return S},c.prototype.replace=function(y,b,m){var l,S;if(m===void 0?l=ee.replace(y,b):se.is(m)?(S=m,l=ge.replace(y,b,m)):(this.assertChangeAnnotations(this.changeAnnotations),S=this.changeAnnotations.manage(m),l=ge.replace(y,b,S)),this.edits.push(l),S!==void 0)return S},c.prototype.delete=function(y,b){var m,l;if(b===void 0?m=ee.del(y):se.is(b)?(l=b,m=ge.del(y,b)):(this.assertChangeAnnotations(this.changeAnnotations),l=this.changeAnnotations.manage(b),m=ge.del(y,l)),this.edits.push(m),l!==void 0)return l},c.prototype.add=function(y){this.edits.push(y)},c.prototype.all=function(){return this.edits},c.prototype.clear=function(){this.edits.splice(0,this.edits.length)},c.prototype.assertChangeAnnotations=function(y){if(y===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},c}(),k=function(){function c(y){this._annotations=y===void 0?Object.create(null):y,this._counter=0,this._size=0}return i(c,"ChangeAnnotations"),c.prototype.all=function(){return this._annotations},Object.defineProperty(c.prototype,"size",{get:i(function(){return this._size},"get"),enumerable:!1,configurable:!0}),c.prototype.manage=function(y,b){var m;if(se.is(y)?m=y:(m=this.nextId(),b=y),this._annotations[m]!==void 0)throw new Error("Id ".concat(m," is already in use."));if(b===void 0)throw new Error("No annotation provided for id ".concat(m));return this._annotations[m]=b,this._size++,m},c.prototype.nextId=function(){return this._counter++,this._counter.toString()},c}(),L=function(){function c(y){var b=this;this._textEditChanges=Object.create(null),y!==void 0?(this._workspaceEdit=y,y.documentChanges?(this._changeAnnotations=new k(y.changeAnnotations),y.changeAnnotations=this._changeAnnotations.all(),y.documentChanges.forEach(function(m){if(Oe.is(m)){var l=new z(m.edits,b._changeAnnotations);b._textEditChanges[m.textDocument.uri]=l}})):y.changes&&Object.keys(y.changes).forEach(function(m){var l=new z(y.changes[m]);b._textEditChanges[m]=l})):this._workspaceEdit={}}return i(c,"WorkspaceChange"),Object.defineProperty(c.prototype,"edit",{get:i(function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},"get"),enumerable:!1,configurable:!0}),c.prototype.getTextEditChange=function(y){if(G.is(y)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var b={uri:y.uri,version:y.version},m=this._textEditChanges[b.uri];if(!m){var l=[],S={textDocument:b,edits:l};this._workspaceEdit.documentChanges.push(S),m=new z(l,this._changeAnnotations),this._textEditChanges[b.uri]=m}return m}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var m=this._textEditChanges[y];if(!m){var l=[];this._workspaceEdit.changes[y]=l,m=new z(l),this._textEditChanges[y]=m}return m}},c.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new k,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},c.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},c.prototype.createFile=function(y,b,m){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var l;me.is(b)||se.is(b)?l=b:m=b;var S,N;if(l===void 0?S=Fe.create(y,m):(N=se.is(l)?l:this._changeAnnotations.manage(l),S=Fe.create(y,m,N)),this._workspaceEdit.documentChanges.push(S),N!==void 0)return N},c.prototype.renameFile=function(y,b,m,l){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var S;me.is(m)||se.is(m)?S=m:l=m;var N,ne;if(S===void 0?N=O.create(y,b,l):(ne=se.is(S)?S:this._changeAnnotations.manage(S),N=O.create(y,b,l,ne)),this._workspaceEdit.documentChanges.push(N),ne!==void 0)return ne},c.prototype.deleteFile=function(y,b,m){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var l;me.is(b)||se.is(b)?l=b:m=b;var S,N;if(l===void 0?S=T.create(y,m):(N=se.is(l)?l:this._changeAnnotations.manage(l),S=T.create(y,m,N)),this._workspaceEdit.documentChanges.push(S),N!==void 0)return N},c}();e.WorkspaceChange=L;var A;(function(c){function y(m){return{uri:m}}i(y,"create"),c.create=y;function b(m){var l=m;return E.defined(l)&&E.string(l.uri)}i(b,"is"),c.is=b})(A||(e.TextDocumentIdentifier=A={}));var $;(function(c){function y(m,l){return{uri:m,version:l}}i(y,"create"),c.create=y;function b(m){var l=m;return E.defined(l)&&E.string(l.uri)&&E.integer(l.version)}i(b,"is"),c.is=b})($||(e.VersionedTextDocumentIdentifier=$={}));var G;(function(c){function y(m,l){return{uri:m,version:l}}i(y,"create"),c.create=y;function b(m){var l=m;return E.defined(l)&&E.string(l.uri)&&(l.version===null||E.integer(l.version))}i(b,"is"),c.is=b})(G||(e.OptionalVersionedTextDocumentIdentifier=G={}));var B;(function(c){function y(m,l,S,N){return{uri:m,languageId:l,version:S,text:N}}i(y,"create"),c.create=y;function b(m){var l=m;return E.defined(l)&&E.string(l.uri)&&E.string(l.languageId)&&E.integer(l.version)&&E.string(l.text)}i(b,"is"),c.is=b})(B||(e.TextDocumentItem=B={}));var X;(function(c){c.PlainText="plaintext",c.Markdown="markdown";function y(b){var m=b;return m===c.PlainText||m===c.Markdown}i(y,"is"),c.is=y})(X||(e.MarkupKind=X={}));var te;(function(c){function y(b){var m=b;return E.objectLiteral(b)&&X.is(m.kind)&&E.string(m.value)}i(y,"is"),c.is=y})(te||(e.MarkupContent=te={}));var Re;(function(c){c.Text=1,c.Method=2,c.Function=3,c.Constructor=4,c.Field=5,c.Variable=6,c.Class=7,c.Interface=8,c.Module=9,c.Property=10,c.Unit=11,c.Value=12,c.Enum=13,c.Keyword=14,c.Snippet=15,c.Color=16,c.File=17,c.Reference=18,c.Folder=19,c.EnumMember=20,c.Constant=21,c.Struct=22,c.Event=23,c.Operator=24,c.TypeParameter=25})(Re||(e.CompletionItemKind=Re={}));var ce;(function(c){c.PlainText=1,c.Snippet=2})(ce||(e.InsertTextFormat=ce={}));var Qe;(function(c){c.Deprecated=1})(Qe||(e.CompletionItemTag=Qe={}));var wt;(function(c){function y(m,l,S){return{newText:m,insert:l,replace:S}}i(y,"create"),c.create=y;function b(m){var l=m;return l&&E.string(l.newText)&&u.is(l.insert)&&u.is(l.replace)}i(b,"is"),c.is=b})(wt||(e.InsertReplaceEdit=wt={}));var Ur;(function(c){c.asIs=1,c.adjustIndentation=2})(Ur||(e.InsertTextMode=Ur={}));var Br;(function(c){function y(b){var m=b;return m&&(E.string(m.detail)||m.detail===void 0)&&(E.string(m.description)||m.description===void 0)}i(y,"is"),c.is=y})(Br||(e.CompletionItemLabelDetails=Br={}));var zr;(function(c){function y(b){return{label:b}}i(y,"create"),c.create=y})(zr||(e.CompletionItem=zr={}));var $r;(function(c){function y(b,m){return{items:b||[],isIncomplete:!!m}}i(y,"create"),c.create=y})($r||(e.CompletionList=$r={}));var Tn;(function(c){function y(m){return m.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}i(y,"fromPlainText"),c.fromPlainText=y;function b(m){var l=m;return E.string(l)||E.objectLiteral(l)&&E.string(l.language)&&E.string(l.value)}i(b,"is"),c.is=b})(Tn||(e.MarkedString=Tn={}));var ft;(function(c){function y(b){var m=b;return!!m&&E.objectLiteral(m)&&(te.is(m.contents)||Tn.is(m.contents)||E.typedArray(m.contents,Tn.is))&&(b.range===void 0||u.is(b.range))}i(y,"is"),c.is=y})(ft||(e.Hover=ft={}));var Hr;(function(c){function y(b,m){return m?{label:b,documentation:m}:{label:b}}i(y,"create"),c.create=y})(Hr||(e.ParameterInformation=Hr={}));var Vr;(function(c){function y(b,m){for(var l=[],S=2;S<arguments.length;S++)l[S-2]=arguments[S];var N={label:b};return E.defined(m)&&(N.documentation=m),E.defined(l)?N.parameters=l:N.parameters=[],N}i(y,"create"),c.create=y})(Vr||(e.SignatureInformation=Vr={}));var rn;(function(c){c.Text=1,c.Read=2,c.Write=3})(rn||(e.DocumentHighlightKind=rn={}));var Gr;(function(c){function y(b,m){var l={range:b};return E.number(m)&&(l.kind=m),l}i(y,"create"),c.create=y})(Gr||(e.DocumentHighlight=Gr={}));var xn;(function(c){c.File=1,c.Module=2,c.Namespace=3,c.Package=4,c.Class=5,c.Method=6,c.Property=7,c.Field=8,c.Constructor=9,c.Enum=10,c.Interface=11,c.Function=12,c.Variable=13,c.Constant=14,c.String=15,c.Number=16,c.Boolean=17,c.Array=18,c.Object=19,c.Key=20,c.Null=21,c.EnumMember=22,c.Struct=23,c.Event=24,c.Operator=25,c.TypeParameter=26})(xn||(e.SymbolKind=xn={}));var Zr;(function(c){c.Deprecated=1})(Zr||(e.SymbolTag=Zr={}));var Mt;(function(c){function y(b,m,l,S,N){var ne={name:b,kind:m,location:{uri:S,range:l}};return N&&(ne.containerName=N),ne}i(y,"create"),c.create=y})(Mt||(e.SymbolInformation=Mt={}));var Wt;(function(c){function y(b,m,l,S){return S!==void 0?{name:b,kind:m,location:{uri:l,range:S}}:{name:b,kind:m,location:{uri:l}}}i(y,"create"),c.create=y})(Wt||(e.WorkspaceSymbol=Wt={}));var Qr;(function(c){function y(m,l,S,N,ne,ke){var _e={name:m,detail:l,kind:S,range:N,selectionRange:ne};return ke!==void 0&&(_e.children=ke),_e}i(y,"create"),c.create=y;function b(m){var l=m;return l&&E.string(l.name)&&E.number(l.kind)&&u.is(l.range)&&u.is(l.selectionRange)&&(l.detail===void 0||E.string(l.detail))&&(l.deprecated===void 0||E.boolean(l.deprecated))&&(l.children===void 0||Array.isArray(l.children))&&(l.tags===void 0||Array.isArray(l.tags))}i(b,"is"),c.is=b})(Qr||(e.DocumentSymbol=Qr={}));var Jr;(function(c){c.Empty="",c.QuickFix="quickfix",c.Refactor="refactor",c.RefactorExtract="refactor.extract",c.RefactorInline="refactor.inline",c.RefactorRewrite="refactor.rewrite",c.Source="source",c.SourceOrganizeImports="source.organizeImports",c.SourceFixAll="source.fixAll"})(Jr||(e.CodeActionKind=Jr={}));var St;(function(c){c.Invoked=1,c.Automatic=2})(St||(e.CodeActionTriggerKind=St={}));var ur;(function(c){function y(m,l,S){var N={diagnostics:m};return l!=null&&(N.only=l),S!=null&&(N.triggerKind=S),N}i(y,"create"),c.create=y;function b(m){var l=m;return E.defined(l)&&E.typedArray(l.diagnostics,V.is)&&(l.only===void 0||E.typedArray(l.only,E.string))&&(l.triggerKind===void 0||l.triggerKind===St.Invoked||l.triggerKind===St.Automatic)}i(b,"is"),c.is=b})(ur||(e.CodeActionContext=ur={}));var lr;(function(c){function y(m,l,S){var N={title:m},ne=!0;return typeof l=="string"?(ne=!1,N.kind=l):Y.is(l)?N.command=l:N.edit=l,ne&&S!==void 0&&(N.kind=S),N}i(y,"create"),c.create=y;function b(m){var l=m;return l&&E.string(l.title)&&(l.diagnostics===void 0||E.typedArray(l.diagnostics,V.is))&&(l.kind===void 0||E.string(l.kind))&&(l.edit!==void 0||l.command!==void 0)&&(l.command===void 0||Y.is(l.command))&&(l.isPreferred===void 0||E.boolean(l.isPreferred))&&(l.edit===void 0||U.is(l.edit))}i(b,"is"),c.is=b})(lr||(e.CodeAction=lr={}));var kn;(function(c){function y(m,l){var S={range:m};return E.defined(l)&&(S.data=l),S}i(y,"create"),c.create=y;function b(m){var l=m;return E.defined(l)&&u.is(l.range)&&(E.undefined(l.command)||Y.is(l.command))}i(b,"is"),c.is=b})(kn||(e.CodeLens=kn={}));var cr;(function(c){function y(m,l){return{tabSize:m,insertSpaces:l}}i(y,"create"),c.create=y;function b(m){var l=m;return E.defined(l)&&E.uinteger(l.tabSize)&&E.boolean(l.insertSpaces)}i(b,"is"),c.is=b})(cr||(e.FormattingOptions=cr={}));var Ct;(function(c){function y(m,l,S){return{range:m,target:l,data:S}}i(y,"create"),c.create=y;function b(m){var l=m;return E.defined(l)&&u.is(l.range)&&(E.undefined(l.target)||E.string(l.target))}i(b,"is"),c.is=b})(Ct||(e.DocumentLink=Ct={}));var _;(function(c){function y(m,l){return{range:m,parent:l}}i(y,"create"),c.create=y;function b(m){var l=m;return E.objectLiteral(l)&&u.is(l.range)&&(l.parent===void 0||c.is(l.parent))}i(b,"is"),c.is=b})(_||(e.SelectionRange=_={}));var P;(function(c){c.namespace="namespace",c.type="type",c.class="class",c.enum="enum",c.interface="interface",c.struct="struct",c.typeParameter="typeParameter",c.parameter="parameter",c.variable="variable",c.property="property",c.enumMember="enumMember",c.event="event",c.function="function",c.method="method",c.macro="macro",c.keyword="keyword",c.modifier="modifier",c.comment="comment",c.string="string",c.number="number",c.regexp="regexp",c.operator="operator",c.decorator="decorator"})(P||(e.SemanticTokenTypes=P={}));var W;(function(c){c.declaration="declaration",c.definition="definition",c.readonly="readonly",c.static="static",c.deprecated="deprecated",c.abstract="abstract",c.async="async",c.modification="modification",c.documentation="documentation",c.defaultLibrary="defaultLibrary"})(W||(e.SemanticTokenModifiers=W={}));var Z;(function(c){function y(b){var m=b;return E.objectLiteral(m)&&(m.resultId===void 0||typeof m.resultId=="string")&&Array.isArray(m.data)&&(m.data.length===0||typeof m.data[0]=="number")}i(y,"is"),c.is=y})(Z||(e.SemanticTokens=Z={}));var pe;(function(c){function y(m,l){return{range:m,text:l}}i(y,"create"),c.create=y;function b(m){var l=m;return l!=null&&u.is(l.range)&&E.string(l.text)}i(b,"is"),c.is=b})(pe||(e.InlineValueText=pe={}));var fe;(function(c){function y(m,l,S){return{range:m,variableName:l,caseSensitiveLookup:S}}i(y,"create"),c.create=y;function b(m){var l=m;return l!=null&&u.is(l.range)&&E.boolean(l.caseSensitiveLookup)&&(E.string(l.variableName)||l.variableName===void 0)}i(b,"is"),c.is=b})(fe||(e.InlineValueVariableLookup=fe={}));var be;(function(c){function y(m,l){return{range:m,expression:l}}i(y,"create"),c.create=y;function b(m){var l=m;return l!=null&&u.is(l.range)&&(E.string(l.expression)||l.expression===void 0)}i(b,"is"),c.is=b})(be||(e.InlineValueEvaluatableExpression=be={}));var Se;(function(c){function y(m,l){return{frameId:m,stoppedLocation:l}}i(y,"create"),c.create=y;function b(m){var l=m;return E.defined(l)&&u.is(m.stoppedLocation)}i(b,"is"),c.is=b})(Se||(e.InlineValueContext=Se={}));var ie;(function(c){c.Type=1,c.Parameter=2;function y(b){return b===1||b===2}i(y,"is"),c.is=y})(ie||(e.InlayHintKind=ie={}));var he;(function(c){function y(m){return{value:m}}i(y,"create"),c.create=y;function b(m){var l=m;return E.objectLiteral(l)&&(l.tooltip===void 0||E.string(l.tooltip)||te.is(l.tooltip))&&(l.location===void 0||d.is(l.location))&&(l.command===void 0||Y.is(l.command))}i(b,"is"),c.is=b})(he||(e.InlayHintLabelPart=he={}));var le;(function(c){function y(m,l,S){var N={position:m,label:l};return S!==void 0&&(N.kind=S),N}i(y,"create"),c.create=y;function b(m){var l=m;return E.objectLiteral(l)&&a.is(l.position)&&(E.string(l.label)||E.typedArray(l.label,he.is))&&(l.kind===void 0||ie.is(l.kind))&&l.textEdits===void 0||E.typedArray(l.textEdits,ee.is)&&(l.tooltip===void 0||E.string(l.tooltip)||te.is(l.tooltip))&&(l.paddingLeft===void 0||E.boolean(l.paddingLeft))&&(l.paddingRight===void 0||E.boolean(l.paddingRight))}i(b,"is"),c.is=b})(le||(e.InlayHint=le={}));var xe;(function(c){function y(b){return{kind:"snippet",value:b}}i(y,"createSnippet"),c.createSnippet=y})(xe||(e.StringValue=xe={}));var Ae;(function(c){function y(b,m,l,S){return{insertText:b,filterText:m,range:l,command:S}}i(y,"create"),c.create=y})(Ae||(e.InlineCompletionItem=Ae={}));var tt;(function(c){function y(b){return{items:b}}i(y,"create"),c.create=y})(tt||(e.InlineCompletionList=tt={}));var Kr;(function(c){c.Invoked=0,c.Automatic=1})(Kr||(e.InlineCompletionTriggerKind=Kr={}));var xu;(function(c){function y(b,m){return{range:b,text:m}}i(y,"create"),c.create=y})(xu||(e.SelectedCompletionInfo=xu={}));var ku;(function(c){function y(b,m){return{triggerKind:b,selectedCompletionInfo:m}}i(y,"create"),c.create=y})(ku||(e.InlineCompletionContext=ku={}));var Iu;(function(c){function y(b){var m=b;return E.objectLiteral(m)&&r.is(m.uri)&&E.string(m.name)}i(y,"is"),c.is=y})(Iu||(e.WorkspaceFolder=Iu={})),e.EOL=[`
`,`\r
`,"\r"];var Ru;(function(c){function y(S,N,ne,ke){return new ap(S,N,ne,ke)}i(y,"create"),c.create=y;function b(S){var N=S;return!!(E.defined(N)&&E.string(N.uri)&&(E.undefined(N.languageId)||E.string(N.languageId))&&E.uinteger(N.lineCount)&&E.func(N.getText)&&E.func(N.positionAt)&&E.func(N.offsetAt))}i(b,"is"),c.is=b;function m(S,N){for(var ne=S.getText(),ke=l(N,function(In,Xr){var Pu=In.range.start.line-Xr.range.start.line;return Pu===0?In.range.start.character-Xr.range.start.character:Pu}),_e=ne.length,mt=ke.length-1;mt>=0;mt--){var pt=ke[mt],Lt=S.offsetAt(pt.range.start),ae=S.offsetAt(pt.range.end);if(ae<=_e)ne=ne.substring(0,Lt)+pt.newText+ne.substring(ae,ne.length);else throw new Error("Overlapping edit");_e=Lt}return ne}i(m,"applyEdits"),c.applyEdits=m;function l(S,N){if(S.length<=1)return S;var ne=S.length/2|0,ke=S.slice(0,ne),_e=S.slice(ne);l(ke,N),l(_e,N);for(var mt=0,pt=0,Lt=0;mt<ke.length&&pt<_e.length;){var ae=N(ke[mt],_e[pt]);ae<=0?S[Lt++]=ke[mt++]:S[Lt++]=_e[pt++]}for(;mt<ke.length;)S[Lt++]=ke[mt++];for(;pt<_e.length;)S[Lt++]=_e[pt++];return S}i(l,"mergeSort")})(Ru||(e.TextDocument=Ru={}));var ap=function(){function c(y,b,m,l){this._uri=y,this._languageId=b,this._version=m,this._content=l,this._lineOffsets=void 0}return i(c,"FullTextDocument"),Object.defineProperty(c.prototype,"uri",{get:i(function(){return this._uri},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"languageId",{get:i(function(){return this._languageId},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"version",{get:i(function(){return this._version},"get"),enumerable:!1,configurable:!0}),c.prototype.getText=function(y){if(y){var b=this.offsetAt(y.start),m=this.offsetAt(y.end);return this._content.substring(b,m)}return this._content},c.prototype.update=function(y,b){this._content=y.text,this._version=b,this._lineOffsets=void 0},c.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var y=[],b=this._content,m=!0,l=0;l<b.length;l++){m&&(y.push(l),m=!1);var S=b.charAt(l);m=S==="\r"||S===`
`,S==="\r"&&l+1<b.length&&b.charAt(l+1)===`
`&&l++}m&&b.length>0&&y.push(b.length),this._lineOffsets=y}return this._lineOffsets},c.prototype.positionAt=function(y){y=Math.max(Math.min(y,this._content.length),0);var b=this.getLineOffsets(),m=0,l=b.length;if(l===0)return a.create(0,y);for(;m<l;){var S=Math.floor((m+l)/2);b[S]>y?l=S:m=S+1}var N=m-1;return a.create(N,y-b[N])},c.prototype.offsetAt=function(y){var b=this.getLineOffsets();if(y.line>=b.length)return this._content.length;if(y.line<0)return 0;var m=b[y.line],l=y.line+1<b.length?b[y.line+1]:this._content.length;return Math.max(Math.min(m+y.character,l),m)},Object.defineProperty(c.prototype,"lineCount",{get:i(function(){return this.getLineOffsets().length},"get"),enumerable:!1,configurable:!0}),c}(),E;(function(c){var y=Object.prototype.toString;function b(ae){return typeof ae<"u"}i(b,"defined"),c.defined=b;function m(ae){return typeof ae>"u"}i(m,"undefined"),c.undefined=m;function l(ae){return ae===!0||ae===!1}i(l,"boolean"),c.boolean=l;function S(ae){return y.call(ae)==="[object String]"}i(S,"string"),c.string=S;function N(ae){return y.call(ae)==="[object Number]"}i(N,"number"),c.number=N;function ne(ae,In,Xr){return y.call(ae)==="[object Number]"&&In<=ae&&ae<=Xr}i(ne,"numberRange"),c.numberRange=ne;function ke(ae){return y.call(ae)==="[object Number]"&&-2147483648<=ae&&ae<=2147483647}i(ke,"integer"),c.integer=ke;function _e(ae){return y.call(ae)==="[object Number]"&&0<=ae&&ae<=2147483647}i(_e,"uinteger"),c.uinteger=_e;function mt(ae){return y.call(ae)==="[object Function]"}i(mt,"func"),c.func=mt;function pt(ae){return ae!==null&&typeof ae=="object"}i(pt,"objectLiteral"),c.objectLiteral=pt;function Lt(ae,In){return Array.isArray(ae)&&ae.every(In)}i(Lt,"typedArray"),c.typedArray=Lt})(E||(E={}))})});var Ee=H(Xe=>{"use strict";p();Object.defineProperty(Xe,"__esModule",{value:!0});Xe.ProtocolNotificationType=Xe.ProtocolNotificationType0=Xe.ProtocolRequestType=Xe.ProtocolRequestType0=Xe.RegistrationType=Xe.MessageDirection=void 0;var Kn=wn(),sd;(function(t){t.clientToServer="clientToServer",t.serverToClient="serverToClient",t.both="both"})(sd||(Xe.MessageDirection=sd={}));var lu=class{static{i(this,"RegistrationType")}constructor(e){this.method=e}};Xe.RegistrationType=lu;var cu=class extends Kn.RequestType0{static{i(this,"ProtocolRequestType0")}constructor(e){super(e)}};Xe.ProtocolRequestType0=cu;var du=class extends Kn.RequestType{static{i(this,"ProtocolRequestType")}constructor(e){super(e,Kn.ParameterStructures.byName)}};Xe.ProtocolRequestType=du;var fu=class extends Kn.NotificationType0{static{i(this,"ProtocolNotificationType0")}constructor(e){super(e)}};Xe.ProtocolNotificationType0=fu;var mu=class extends Kn.NotificationType{static{i(this,"ProtocolNotificationType")}constructor(e){super(e,Kn.ParameterStructures.byName)}};Xe.ProtocolNotificationType=mu});var mo=H(Ne=>{"use strict";p();Object.defineProperty(Ne,"__esModule",{value:!0});Ne.objectLiteral=Ne.typedArray=Ne.stringArray=Ne.array=Ne.func=Ne.error=Ne.number=Ne.string=Ne.boolean=void 0;function a_(t){return t===!0||t===!1}i(a_,"boolean");Ne.boolean=a_;function ad(t){return typeof t=="string"||t instanceof String}i(ad,"string");Ne.string=ad;function u_(t){return typeof t=="number"||t instanceof Number}i(u_,"number");Ne.number=u_;function l_(t){return t instanceof Error}i(l_,"error");Ne.error=l_;function c_(t){return typeof t=="function"}i(c_,"func");Ne.func=c_;function ud(t){return Array.isArray(t)}i(ud,"array");Ne.array=ud;function d_(t){return ud(t)&&t.every(e=>ad(e))}i(d_,"stringArray");Ne.stringArray=d_;function f_(t,e){return Array.isArray(t)&&t.every(e)}i(f_,"typedArray");Ne.typedArray=f_;function m_(t){return t!==null&&typeof t=="object"}i(m_,"objectLiteral");Ne.objectLiteral=m_});var dd=H(po=>{"use strict";p();Object.defineProperty(po,"__esModule",{value:!0});po.ImplementationRequest=void 0;var ld=Ee(),cd;(function(t){t.method="textDocument/implementation",t.messageDirection=ld.MessageDirection.clientToServer,t.type=new ld.ProtocolRequestType(t.method)})(cd||(po.ImplementationRequest=cd={}))});var pd=H(go=>{"use strict";p();Object.defineProperty(go,"__esModule",{value:!0});go.TypeDefinitionRequest=void 0;var fd=Ee(),md;(function(t){t.method="textDocument/typeDefinition",t.messageDirection=fd.MessageDirection.clientToServer,t.type=new fd.ProtocolRequestType(t.method)})(md||(go.TypeDefinitionRequest=md={}))});var _d=H(Xn=>{"use strict";p();Object.defineProperty(Xn,"__esModule",{value:!0});Xn.DidChangeWorkspaceFoldersNotification=Xn.WorkspaceFoldersRequest=void 0;var ho=Ee(),gd;(function(t){t.method="workspace/workspaceFolders",t.messageDirection=ho.MessageDirection.serverToClient,t.type=new ho.ProtocolRequestType0(t.method)})(gd||(Xn.WorkspaceFoldersRequest=gd={}));var hd;(function(t){t.method="workspace/didChangeWorkspaceFolders",t.messageDirection=ho.MessageDirection.clientToServer,t.type=new ho.ProtocolNotificationType(t.method)})(hd||(Xn.DidChangeWorkspaceFoldersNotification=hd={}))});var vd=H(_o=>{"use strict";p();Object.defineProperty(_o,"__esModule",{value:!0});_o.ConfigurationRequest=void 0;var yd=Ee(),bd;(function(t){t.method="workspace/configuration",t.messageDirection=yd.MessageDirection.serverToClient,t.type=new yd.ProtocolRequestType(t.method)})(bd||(_o.ConfigurationRequest=bd={}))});var Ed=H(Yn=>{"use strict";p();Object.defineProperty(Yn,"__esModule",{value:!0});Yn.ColorPresentationRequest=Yn.DocumentColorRequest=void 0;var yo=Ee(),wd;(function(t){t.method="textDocument/documentColor",t.messageDirection=yo.MessageDirection.clientToServer,t.type=new yo.ProtocolRequestType(t.method)})(wd||(Yn.DocumentColorRequest=wd={}));var Sd;(function(t){t.method="textDocument/colorPresentation",t.messageDirection=yo.MessageDirection.clientToServer,t.type=new yo.ProtocolRequestType(t.method)})(Sd||(Yn.ColorPresentationRequest=Sd={}))});var kd=H(er=>{"use strict";p();Object.defineProperty(er,"__esModule",{value:!0});er.FoldingRangeRefreshRequest=er.FoldingRangeRequest=void 0;var bo=Ee(),Td;(function(t){t.method="textDocument/foldingRange",t.messageDirection=bo.MessageDirection.clientToServer,t.type=new bo.ProtocolRequestType(t.method)})(Td||(er.FoldingRangeRequest=Td={}));var xd;(function(t){t.method="workspace/foldingRange/refresh",t.messageDirection=bo.MessageDirection.serverToClient,t.type=new bo.ProtocolRequestType0(t.method)})(xd||(er.FoldingRangeRefreshRequest=xd={}))});var Pd=H(vo=>{"use strict";p();Object.defineProperty(vo,"__esModule",{value:!0});vo.DeclarationRequest=void 0;var Id=Ee(),Rd;(function(t){t.method="textDocument/declaration",t.messageDirection=Id.MessageDirection.clientToServer,t.type=new Id.ProtocolRequestType(t.method)})(Rd||(vo.DeclarationRequest=Rd={}))});var Ld=H(wo=>{"use strict";p();Object.defineProperty(wo,"__esModule",{value:!0});wo.SelectionRangeRequest=void 0;var Md=Ee(),Cd;(function(t){t.method="textDocument/selectionRange",t.messageDirection=Md.MessageDirection.clientToServer,t.type=new Md.ProtocolRequestType(t.method)})(Cd||(wo.SelectionRangeRequest=Cd={}))});var Od=H(Xt=>{"use strict";p();Object.defineProperty(Xt,"__esModule",{value:!0});Xt.WorkDoneProgressCancelNotification=Xt.WorkDoneProgressCreateRequest=Xt.WorkDoneProgress=void 0;var p_=wn(),So=Ee(),Nd;(function(t){t.type=new p_.ProgressType;function e(n){return n===t.type}i(e,"is"),t.is=e})(Nd||(Xt.WorkDoneProgress=Nd={}));var Ad;(function(t){t.method="window/workDoneProgress/create",t.messageDirection=So.MessageDirection.serverToClient,t.type=new So.ProtocolRequestType(t.method)})(Ad||(Xt.WorkDoneProgressCreateRequest=Ad={}));var Dd;(function(t){t.method="window/workDoneProgress/cancel",t.messageDirection=So.MessageDirection.clientToServer,t.type=new So.ProtocolNotificationType(t.method)})(Dd||(Xt.WorkDoneProgressCancelNotification=Dd={}))});var Wd=H(Yt=>{"use strict";p();Object.defineProperty(Yt,"__esModule",{value:!0});Yt.CallHierarchyOutgoingCallsRequest=Yt.CallHierarchyIncomingCallsRequest=Yt.CallHierarchyPrepareRequest=void 0;var tr=Ee(),Fd;(function(t){t.method="textDocument/prepareCallHierarchy",t.messageDirection=tr.MessageDirection.clientToServer,t.type=new tr.ProtocolRequestType(t.method)})(Fd||(Yt.CallHierarchyPrepareRequest=Fd={}));var jd;(function(t){t.method="callHierarchy/incomingCalls",t.messageDirection=tr.MessageDirection.clientToServer,t.type=new tr.ProtocolRequestType(t.method)})(jd||(Yt.CallHierarchyIncomingCallsRequest=jd={}));var qd;(function(t){t.method="callHierarchy/outgoingCalls",t.messageDirection=tr.MessageDirection.clientToServer,t.type=new tr.ProtocolRequestType(t.method)})(qd||(Yt.CallHierarchyOutgoingCallsRequest=qd={}))});var Vd=H(Ye=>{"use strict";p();Object.defineProperty(Ye,"__esModule",{value:!0});Ye.SemanticTokensRefreshRequest=Ye.SemanticTokensRangeRequest=Ye.SemanticTokensDeltaRequest=Ye.SemanticTokensRequest=Ye.SemanticTokensRegistrationType=Ye.TokenFormat=void 0;var qt=Ee(),Ud;(function(t){t.Relative="relative"})(Ud||(Ye.TokenFormat=Ud={}));var jr;(function(t){t.method="textDocument/semanticTokens",t.type=new qt.RegistrationType(t.method)})(jr||(Ye.SemanticTokensRegistrationType=jr={}));var Bd;(function(t){t.method="textDocument/semanticTokens/full",t.messageDirection=qt.MessageDirection.clientToServer,t.type=new qt.ProtocolRequestType(t.method),t.registrationMethod=jr.method})(Bd||(Ye.SemanticTokensRequest=Bd={}));var zd;(function(t){t.method="textDocument/semanticTokens/full/delta",t.messageDirection=qt.MessageDirection.clientToServer,t.type=new qt.ProtocolRequestType(t.method),t.registrationMethod=jr.method})(zd||(Ye.SemanticTokensDeltaRequest=zd={}));var $d;(function(t){t.method="textDocument/semanticTokens/range",t.messageDirection=qt.MessageDirection.clientToServer,t.type=new qt.ProtocolRequestType(t.method),t.registrationMethod=jr.method})($d||(Ye.SemanticTokensRangeRequest=$d={}));var Hd;(function(t){t.method="workspace/semanticTokens/refresh",t.messageDirection=qt.MessageDirection.serverToClient,t.type=new qt.ProtocolRequestType0(t.method)})(Hd||(Ye.SemanticTokensRefreshRequest=Hd={}))});var Qd=H(Eo=>{"use strict";p();Object.defineProperty(Eo,"__esModule",{value:!0});Eo.ShowDocumentRequest=void 0;var Gd=Ee(),Zd;(function(t){t.method="window/showDocument",t.messageDirection=Gd.MessageDirection.serverToClient,t.type=new Gd.ProtocolRequestType(t.method)})(Zd||(Eo.ShowDocumentRequest=Zd={}))});var Xd=H(To=>{"use strict";p();Object.defineProperty(To,"__esModule",{value:!0});To.LinkedEditingRangeRequest=void 0;var Jd=Ee(),Kd;(function(t){t.method="textDocument/linkedEditingRange",t.messageDirection=Jd.MessageDirection.clientToServer,t.type=new Jd.ProtocolRequestType(t.method)})(Kd||(To.LinkedEditingRangeRequest=Kd={}))});var af=H(He=>{"use strict";p();Object.defineProperty(He,"__esModule",{value:!0});He.WillDeleteFilesRequest=He.DidDeleteFilesNotification=He.DidRenameFilesNotification=He.WillRenameFilesRequest=He.DidCreateFilesNotification=He.WillCreateFilesRequest=He.FileOperationPatternKind=void 0;var ct=Ee(),Yd;(function(t){t.file="file",t.folder="folder"})(Yd||(He.FileOperationPatternKind=Yd={}));var ef;(function(t){t.method="workspace/willCreateFiles",t.messageDirection=ct.MessageDirection.clientToServer,t.type=new ct.ProtocolRequestType(t.method)})(ef||(He.WillCreateFilesRequest=ef={}));var tf;(function(t){t.method="workspace/didCreateFiles",t.messageDirection=ct.MessageDirection.clientToServer,t.type=new ct.ProtocolNotificationType(t.method)})(tf||(He.DidCreateFilesNotification=tf={}));var nf;(function(t){t.method="workspace/willRenameFiles",t.messageDirection=ct.MessageDirection.clientToServer,t.type=new ct.ProtocolRequestType(t.method)})(nf||(He.WillRenameFilesRequest=nf={}));var rf;(function(t){t.method="workspace/didRenameFiles",t.messageDirection=ct.MessageDirection.clientToServer,t.type=new ct.ProtocolNotificationType(t.method)})(rf||(He.DidRenameFilesNotification=rf={}));var of;(function(t){t.method="workspace/didDeleteFiles",t.messageDirection=ct.MessageDirection.clientToServer,t.type=new ct.ProtocolNotificationType(t.method)})(of||(He.DidDeleteFilesNotification=of={}));var sf;(function(t){t.method="workspace/willDeleteFiles",t.messageDirection=ct.MessageDirection.clientToServer,t.type=new ct.ProtocolRequestType(t.method)})(sf||(He.WillDeleteFilesRequest=sf={}))});var ff=H(en=>{"use strict";p();Object.defineProperty(en,"__esModule",{value:!0});en.MonikerRequest=en.MonikerKind=en.UniquenessLevel=void 0;var uf=Ee(),lf;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(lf||(en.UniquenessLevel=lf={}));var cf;(function(t){t.$import="import",t.$export="export",t.local="local"})(cf||(en.MonikerKind=cf={}));var df;(function(t){t.method="textDocument/moniker",t.messageDirection=uf.MessageDirection.clientToServer,t.type=new uf.ProtocolRequestType(t.method)})(df||(en.MonikerRequest=df={}))});var hf=H(tn=>{"use strict";p();Object.defineProperty(tn,"__esModule",{value:!0});tn.TypeHierarchySubtypesRequest=tn.TypeHierarchySupertypesRequest=tn.TypeHierarchyPrepareRequest=void 0;var nr=Ee(),mf;(function(t){t.method="textDocument/prepareTypeHierarchy",t.messageDirection=nr.MessageDirection.clientToServer,t.type=new nr.ProtocolRequestType(t.method)})(mf||(tn.TypeHierarchyPrepareRequest=mf={}));var pf;(function(t){t.method="typeHierarchy/supertypes",t.messageDirection=nr.MessageDirection.clientToServer,t.type=new nr.ProtocolRequestType(t.method)})(pf||(tn.TypeHierarchySupertypesRequest=pf={}));var gf;(function(t){t.method="typeHierarchy/subtypes",t.messageDirection=nr.MessageDirection.clientToServer,t.type=new nr.ProtocolRequestType(t.method)})(gf||(tn.TypeHierarchySubtypesRequest=gf={}))});var bf=H(rr=>{"use strict";p();Object.defineProperty(rr,"__esModule",{value:!0});rr.InlineValueRefreshRequest=rr.InlineValueRequest=void 0;var xo=Ee(),_f;(function(t){t.method="textDocument/inlineValue",t.messageDirection=xo.MessageDirection.clientToServer,t.type=new xo.ProtocolRequestType(t.method)})(_f||(rr.InlineValueRequest=_f={}));var yf;(function(t){t.method="workspace/inlineValue/refresh",t.messageDirection=xo.MessageDirection.serverToClient,t.type=new xo.ProtocolRequestType0(t.method)})(yf||(rr.InlineValueRefreshRequest=yf={}))});var Ef=H(nn=>{"use strict";p();Object.defineProperty(nn,"__esModule",{value:!0});nn.InlayHintRefreshRequest=nn.InlayHintResolveRequest=nn.InlayHintRequest=void 0;var ir=Ee(),vf;(function(t){t.method="textDocument/inlayHint",t.messageDirection=ir.MessageDirection.clientToServer,t.type=new ir.ProtocolRequestType(t.method)})(vf||(nn.InlayHintRequest=vf={}));var wf;(function(t){t.method="inlayHint/resolve",t.messageDirection=ir.MessageDirection.clientToServer,t.type=new ir.ProtocolRequestType(t.method)})(wf||(nn.InlayHintResolveRequest=wf={}));var Sf;(function(t){t.method="workspace/inlayHint/refresh",t.messageDirection=ir.MessageDirection.serverToClient,t.type=new ir.ProtocolRequestType0(t.method)})(Sf||(nn.InlayHintRefreshRequest=Sf={}))});var Mf=H(dt=>{"use strict";p();Object.defineProperty(dt,"__esModule",{value:!0});dt.DiagnosticRefreshRequest=dt.WorkspaceDiagnosticRequest=dt.DocumentDiagnosticRequest=dt.DocumentDiagnosticReportKind=dt.DiagnosticServerCancellationData=void 0;var Pf=wn(),g_=mo(),or=Ee(),Tf;(function(t){function e(n){let r=n;return r&&g_.boolean(r.retriggerRequest)}i(e,"is"),t.is=e})(Tf||(dt.DiagnosticServerCancellationData=Tf={}));var xf;(function(t){t.Full="full",t.Unchanged="unchanged"})(xf||(dt.DocumentDiagnosticReportKind=xf={}));var kf;(function(t){t.method="textDocument/diagnostic",t.messageDirection=or.MessageDirection.clientToServer,t.type=new or.ProtocolRequestType(t.method),t.partialResult=new Pf.ProgressType})(kf||(dt.DocumentDiagnosticRequest=kf={}));var If;(function(t){t.method="workspace/diagnostic",t.messageDirection=or.MessageDirection.clientToServer,t.type=new or.ProtocolRequestType(t.method),t.partialResult=new Pf.ProgressType})(If||(dt.WorkspaceDiagnosticRequest=If={}));var Rf;(function(t){t.method="workspace/diagnostic/refresh",t.messageDirection=or.MessageDirection.serverToClient,t.type=new or.ProtocolRequestType0(t.method)})(Rf||(dt.DiagnosticRefreshRequest=Rf={}))});var Ff=H(Ie=>{"use strict";p();Object.defineProperty(Ie,"__esModule",{value:!0});Ie.DidCloseNotebookDocumentNotification=Ie.DidSaveNotebookDocumentNotification=Ie.DidChangeNotebookDocumentNotification=Ie.NotebookCellArrayChange=Ie.DidOpenNotebookDocumentNotification=Ie.NotebookDocumentSyncRegistrationType=Ie.NotebookDocument=Ie.NotebookCell=Ie.ExecutionSummary=Ie.NotebookCellKind=void 0;var qr=fo(),vt=mo(),It=Ee(),pu;(function(t){t.Markup=1,t.Code=2;function e(n){return n===1||n===2}i(e,"is"),t.is=e})(pu||(Ie.NotebookCellKind=pu={}));var gu;(function(t){function e(o,s){let a={executionOrder:o};return(s===!0||s===!1)&&(a.success=s),a}i(e,"create"),t.create=e;function n(o){let s=o;return vt.objectLiteral(s)&&qr.uinteger.is(s.executionOrder)&&(s.success===void 0||vt.boolean(s.success))}i(n,"is"),t.is=n;function r(o,s){return o===s?!0:o==null||s===null||s===void 0?!1:o.executionOrder===s.executionOrder&&o.success===s.success}i(r,"equals"),t.equals=r})(gu||(Ie.ExecutionSummary=gu={}));var ko;(function(t){function e(s,a){return{kind:s,document:a}}i(e,"create"),t.create=e;function n(s){let a=s;return vt.objectLiteral(a)&&pu.is(a.kind)&&qr.DocumentUri.is(a.document)&&(a.metadata===void 0||vt.objectLiteral(a.metadata))}i(n,"is"),t.is=n;function r(s,a){let u=new Set;return s.document!==a.document&&u.add("document"),s.kind!==a.kind&&u.add("kind"),s.executionSummary!==a.executionSummary&&u.add("executionSummary"),(s.metadata!==void 0||a.metadata!==void 0)&&!o(s.metadata,a.metadata)&&u.add("metadata"),(s.executionSummary!==void 0||a.executionSummary!==void 0)&&!gu.equals(s.executionSummary,a.executionSummary)&&u.add("executionSummary"),u}i(r,"diff"),t.diff=r;function o(s,a){if(s===a)return!0;if(s==null||a===null||a===void 0||typeof s!=typeof a||typeof s!="object")return!1;let u=Array.isArray(s),d=Array.isArray(a);if(u!==d)return!1;if(u&&d){if(s.length!==a.length)return!1;for(let f=0;f<s.length;f++)if(!o(s[f],a[f]))return!1}if(vt.objectLiteral(s)&&vt.objectLiteral(a)){let f=Object.keys(s),g=Object.keys(a);if(f.length!==g.length||(f.sort(),g.sort(),!o(f,g)))return!1;for(let v=0;v<f.length;v++){let w=f[v];if(!o(s[w],a[w]))return!1}}return!0}i(o,"equalsMetadata")})(ko||(Ie.NotebookCell=ko={}));var Cf;(function(t){function e(r,o,s,a){return{uri:r,notebookType:o,version:s,cells:a}}i(e,"create"),t.create=e;function n(r){let o=r;return vt.objectLiteral(o)&&vt.string(o.uri)&&qr.integer.is(o.version)&&vt.typedArray(o.cells,ko.is)}i(n,"is"),t.is=n})(Cf||(Ie.NotebookDocument=Cf={}));var sr;(function(t){t.method="notebookDocument/sync",t.messageDirection=It.MessageDirection.clientToServer,t.type=new It.RegistrationType(t.method)})(sr||(Ie.NotebookDocumentSyncRegistrationType=sr={}));var Lf;(function(t){t.method="notebookDocument/didOpen",t.messageDirection=It.MessageDirection.clientToServer,t.type=new It.ProtocolNotificationType(t.method),t.registrationMethod=sr.method})(Lf||(Ie.DidOpenNotebookDocumentNotification=Lf={}));var Nf;(function(t){function e(r){let o=r;return vt.objectLiteral(o)&&qr.uinteger.is(o.start)&&qr.uinteger.is(o.deleteCount)&&(o.cells===void 0||vt.typedArray(o.cells,ko.is))}i(e,"is"),t.is=e;function n(r,o,s){let a={start:r,deleteCount:o};return s!==void 0&&(a.cells=s),a}i(n,"create"),t.create=n})(Nf||(Ie.NotebookCellArrayChange=Nf={}));var Af;(function(t){t.method="notebookDocument/didChange",t.messageDirection=It.MessageDirection.clientToServer,t.type=new It.ProtocolNotificationType(t.method),t.registrationMethod=sr.method})(Af||(Ie.DidChangeNotebookDocumentNotification=Af={}));var Df;(function(t){t.method="notebookDocument/didSave",t.messageDirection=It.MessageDirection.clientToServer,t.type=new It.ProtocolNotificationType(t.method),t.registrationMethod=sr.method})(Df||(Ie.DidSaveNotebookDocumentNotification=Df={}));var Of;(function(t){t.method="notebookDocument/didClose",t.messageDirection=It.MessageDirection.clientToServer,t.type=new It.ProtocolNotificationType(t.method),t.registrationMethod=sr.method})(Of||(Ie.DidCloseNotebookDocumentNotification=Of={}))});var Wf=H(Io=>{"use strict";p();Object.defineProperty(Io,"__esModule",{value:!0});Io.InlineCompletionRequest=void 0;var jf=Ee(),qf;(function(t){t.method="textDocument/inlineCompletion",t.messageDirection=jf.MessageDirection.clientToServer,t.type=new jf.ProtocolRequestType(t.method)})(qf||(Io.InlineCompletionRequest=qf={}))});var Ym=H(h=>{"use strict";p();Object.defineProperty(h,"__esModule",{value:!0});h.WorkspaceSymbolRequest=h.CodeActionResolveRequest=h.CodeActionRequest=h.DocumentSymbolRequest=h.DocumentHighlightRequest=h.ReferencesRequest=h.DefinitionRequest=h.SignatureHelpRequest=h.SignatureHelpTriggerKind=h.HoverRequest=h.CompletionResolveRequest=h.CompletionRequest=h.CompletionTriggerKind=h.PublishDiagnosticsNotification=h.WatchKind=h.RelativePattern=h.FileChangeType=h.DidChangeWatchedFilesNotification=h.WillSaveTextDocumentWaitUntilRequest=h.WillSaveTextDocumentNotification=h.TextDocumentSaveReason=h.DidSaveTextDocumentNotification=h.DidCloseTextDocumentNotification=h.DidChangeTextDocumentNotification=h.TextDocumentContentChangeEvent=h.DidOpenTextDocumentNotification=h.TextDocumentSyncKind=h.TelemetryEventNotification=h.LogMessageNotification=h.ShowMessageRequest=h.ShowMessageNotification=h.MessageType=h.DidChangeConfigurationNotification=h.ExitNotification=h.ShutdownRequest=h.InitializedNotification=h.InitializeErrorCodes=h.InitializeRequest=h.WorkDoneProgressOptions=h.TextDocumentRegistrationOptions=h.StaticRegistrationOptions=h.PositionEncodingKind=h.FailureHandlingKind=h.ResourceOperationKind=h.UnregistrationRequest=h.RegistrationRequest=h.DocumentSelector=h.NotebookCellTextDocumentFilter=h.NotebookDocumentFilter=h.TextDocumentFilter=void 0;h.MonikerRequest=h.MonikerKind=h.UniquenessLevel=h.WillDeleteFilesRequest=h.DidDeleteFilesNotification=h.WillRenameFilesRequest=h.DidRenameFilesNotification=h.WillCreateFilesRequest=h.DidCreateFilesNotification=h.FileOperationPatternKind=h.LinkedEditingRangeRequest=h.ShowDocumentRequest=h.SemanticTokensRegistrationType=h.SemanticTokensRefreshRequest=h.SemanticTokensRangeRequest=h.SemanticTokensDeltaRequest=h.SemanticTokensRequest=h.TokenFormat=h.CallHierarchyPrepareRequest=h.CallHierarchyOutgoingCallsRequest=h.CallHierarchyIncomingCallsRequest=h.WorkDoneProgressCancelNotification=h.WorkDoneProgressCreateRequest=h.WorkDoneProgress=h.SelectionRangeRequest=h.DeclarationRequest=h.FoldingRangeRefreshRequest=h.FoldingRangeRequest=h.ColorPresentationRequest=h.DocumentColorRequest=h.ConfigurationRequest=h.DidChangeWorkspaceFoldersNotification=h.WorkspaceFoldersRequest=h.TypeDefinitionRequest=h.ImplementationRequest=h.ApplyWorkspaceEditRequest=h.ExecuteCommandRequest=h.PrepareRenameRequest=h.RenameRequest=h.PrepareSupportDefaultBehavior=h.DocumentOnTypeFormattingRequest=h.DocumentRangesFormattingRequest=h.DocumentRangeFormattingRequest=h.DocumentFormattingRequest=h.DocumentLinkResolveRequest=h.DocumentLinkRequest=h.CodeLensRefreshRequest=h.CodeLensResolveRequest=h.CodeLensRequest=h.WorkspaceSymbolResolveRequest=void 0;h.InlineCompletionRequest=h.DidCloseNotebookDocumentNotification=h.DidSaveNotebookDocumentNotification=h.DidChangeNotebookDocumentNotification=h.NotebookCellArrayChange=h.DidOpenNotebookDocumentNotification=h.NotebookDocumentSyncRegistrationType=h.NotebookDocument=h.NotebookCell=h.ExecutionSummary=h.NotebookCellKind=h.DiagnosticRefreshRequest=h.WorkspaceDiagnosticRequest=h.DocumentDiagnosticRequest=h.DocumentDiagnosticReportKind=h.DiagnosticServerCancellationData=h.InlayHintRefreshRequest=h.InlayHintResolveRequest=h.InlayHintRequest=h.InlineValueRefreshRequest=h.InlineValueRequest=h.TypeHierarchySupertypesRequest=h.TypeHierarchySubtypesRequest=h.TypeHierarchyPrepareRequest=void 0;var j=Ee(),Uf=fo(),De=mo(),h_=dd();Object.defineProperty(h,"ImplementationRequest",{enumerable:!0,get:i(function(){return h_.ImplementationRequest},"get")});var __=pd();Object.defineProperty(h,"TypeDefinitionRequest",{enumerable:!0,get:i(function(){return __.TypeDefinitionRequest},"get")});var Qm=_d();Object.defineProperty(h,"WorkspaceFoldersRequest",{enumerable:!0,get:i(function(){return Qm.WorkspaceFoldersRequest},"get")});Object.defineProperty(h,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:i(function(){return Qm.DidChangeWorkspaceFoldersNotification},"get")});var y_=vd();Object.defineProperty(h,"ConfigurationRequest",{enumerable:!0,get:i(function(){return y_.ConfigurationRequest},"get")});var Jm=Ed();Object.defineProperty(h,"DocumentColorRequest",{enumerable:!0,get:i(function(){return Jm.DocumentColorRequest},"get")});Object.defineProperty(h,"ColorPresentationRequest",{enumerable:!0,get:i(function(){return Jm.ColorPresentationRequest},"get")});var Km=kd();Object.defineProperty(h,"FoldingRangeRequest",{enumerable:!0,get:i(function(){return Km.FoldingRangeRequest},"get")});Object.defineProperty(h,"FoldingRangeRefreshRequest",{enumerable:!0,get:i(function(){return Km.FoldingRangeRefreshRequest},"get")});var b_=Pd();Object.defineProperty(h,"DeclarationRequest",{enumerable:!0,get:i(function(){return b_.DeclarationRequest},"get")});var v_=Ld();Object.defineProperty(h,"SelectionRangeRequest",{enumerable:!0,get:i(function(){return v_.SelectionRangeRequest},"get")});var vu=Od();Object.defineProperty(h,"WorkDoneProgress",{enumerable:!0,get:i(function(){return vu.WorkDoneProgress},"get")});Object.defineProperty(h,"WorkDoneProgressCreateRequest",{enumerable:!0,get:i(function(){return vu.WorkDoneProgressCreateRequest},"get")});Object.defineProperty(h,"WorkDoneProgressCancelNotification",{enumerable:!0,get:i(function(){return vu.WorkDoneProgressCancelNotification},"get")});var wu=Wd();Object.defineProperty(h,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:i(function(){return wu.CallHierarchyIncomingCallsRequest},"get")});Object.defineProperty(h,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:i(function(){return wu.CallHierarchyOutgoingCallsRequest},"get")});Object.defineProperty(h,"CallHierarchyPrepareRequest",{enumerable:!0,get:i(function(){return wu.CallHierarchyPrepareRequest},"get")});var ar=Vd();Object.defineProperty(h,"TokenFormat",{enumerable:!0,get:i(function(){return ar.TokenFormat},"get")});Object.defineProperty(h,"SemanticTokensRequest",{enumerable:!0,get:i(function(){return ar.SemanticTokensRequest},"get")});Object.defineProperty(h,"SemanticTokensDeltaRequest",{enumerable:!0,get:i(function(){return ar.SemanticTokensDeltaRequest},"get")});Object.defineProperty(h,"SemanticTokensRangeRequest",{enumerable:!0,get:i(function(){return ar.SemanticTokensRangeRequest},"get")});Object.defineProperty(h,"SemanticTokensRefreshRequest",{enumerable:!0,get:i(function(){return ar.SemanticTokensRefreshRequest},"get")});Object.defineProperty(h,"SemanticTokensRegistrationType",{enumerable:!0,get:i(function(){return ar.SemanticTokensRegistrationType},"get")});var w_=Qd();Object.defineProperty(h,"ShowDocumentRequest",{enumerable:!0,get:i(function(){return w_.ShowDocumentRequest},"get")});var S_=Xd();Object.defineProperty(h,"LinkedEditingRangeRequest",{enumerable:!0,get:i(function(){return S_.LinkedEditingRangeRequest},"get")});var Sn=af();Object.defineProperty(h,"FileOperationPatternKind",{enumerable:!0,get:i(function(){return Sn.FileOperationPatternKind},"get")});Object.defineProperty(h,"DidCreateFilesNotification",{enumerable:!0,get:i(function(){return Sn.DidCreateFilesNotification},"get")});Object.defineProperty(h,"WillCreateFilesRequest",{enumerable:!0,get:i(function(){return Sn.WillCreateFilesRequest},"get")});Object.defineProperty(h,"DidRenameFilesNotification",{enumerable:!0,get:i(function(){return Sn.DidRenameFilesNotification},"get")});Object.defineProperty(h,"WillRenameFilesRequest",{enumerable:!0,get:i(function(){return Sn.WillRenameFilesRequest},"get")});Object.defineProperty(h,"DidDeleteFilesNotification",{enumerable:!0,get:i(function(){return Sn.DidDeleteFilesNotification},"get")});Object.defineProperty(h,"WillDeleteFilesRequest",{enumerable:!0,get:i(function(){return Sn.WillDeleteFilesRequest},"get")});var Su=ff();Object.defineProperty(h,"UniquenessLevel",{enumerable:!0,get:i(function(){return Su.UniquenessLevel},"get")});Object.defineProperty(h,"MonikerKind",{enumerable:!0,get:i(function(){return Su.MonikerKind},"get")});Object.defineProperty(h,"MonikerRequest",{enumerable:!0,get:i(function(){return Su.MonikerRequest},"get")});var Eu=hf();Object.defineProperty(h,"TypeHierarchyPrepareRequest",{enumerable:!0,get:i(function(){return Eu.TypeHierarchyPrepareRequest},"get")});Object.defineProperty(h,"TypeHierarchySubtypesRequest",{enumerable:!0,get:i(function(){return Eu.TypeHierarchySubtypesRequest},"get")});Object.defineProperty(h,"TypeHierarchySupertypesRequest",{enumerable:!0,get:i(function(){return Eu.TypeHierarchySupertypesRequest},"get")});var Xm=bf();Object.defineProperty(h,"InlineValueRequest",{enumerable:!0,get:i(function(){return Xm.InlineValueRequest},"get")});Object.defineProperty(h,"InlineValueRefreshRequest",{enumerable:!0,get:i(function(){return Xm.InlineValueRefreshRequest},"get")});var Tu=Ef();Object.defineProperty(h,"InlayHintRequest",{enumerable:!0,get:i(function(){return Tu.InlayHintRequest},"get")});Object.defineProperty(h,"InlayHintResolveRequest",{enumerable:!0,get:i(function(){return Tu.InlayHintResolveRequest},"get")});Object.defineProperty(h,"InlayHintRefreshRequest",{enumerable:!0,get:i(function(){return Tu.InlayHintRefreshRequest},"get")});var Wr=Mf();Object.defineProperty(h,"DiagnosticServerCancellationData",{enumerable:!0,get:i(function(){return Wr.DiagnosticServerCancellationData},"get")});Object.defineProperty(h,"DocumentDiagnosticReportKind",{enumerable:!0,get:i(function(){return Wr.DocumentDiagnosticReportKind},"get")});Object.defineProperty(h,"DocumentDiagnosticRequest",{enumerable:!0,get:i(function(){return Wr.DocumentDiagnosticRequest},"get")});Object.defineProperty(h,"WorkspaceDiagnosticRequest",{enumerable:!0,get:i(function(){return Wr.WorkspaceDiagnosticRequest},"get")});Object.defineProperty(h,"DiagnosticRefreshRequest",{enumerable:!0,get:i(function(){return Wr.DiagnosticRefreshRequest},"get")});var Rt=Ff();Object.defineProperty(h,"NotebookCellKind",{enumerable:!0,get:i(function(){return Rt.NotebookCellKind},"get")});Object.defineProperty(h,"ExecutionSummary",{enumerable:!0,get:i(function(){return Rt.ExecutionSummary},"get")});Object.defineProperty(h,"NotebookCell",{enumerable:!0,get:i(function(){return Rt.NotebookCell},"get")});Object.defineProperty(h,"NotebookDocument",{enumerable:!0,get:i(function(){return Rt.NotebookDocument},"get")});Object.defineProperty(h,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:i(function(){return Rt.NotebookDocumentSyncRegistrationType},"get")});Object.defineProperty(h,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:i(function(){return Rt.DidOpenNotebookDocumentNotification},"get")});Object.defineProperty(h,"NotebookCellArrayChange",{enumerable:!0,get:i(function(){return Rt.NotebookCellArrayChange},"get")});Object.defineProperty(h,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:i(function(){return Rt.DidChangeNotebookDocumentNotification},"get")});Object.defineProperty(h,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:i(function(){return Rt.DidSaveNotebookDocumentNotification},"get")});Object.defineProperty(h,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:i(function(){return Rt.DidCloseNotebookDocumentNotification},"get")});var E_=Wf();Object.defineProperty(h,"InlineCompletionRequest",{enumerable:!0,get:i(function(){return E_.InlineCompletionRequest},"get")});var hu;(function(t){function e(n){let r=n;return De.string(r)||De.string(r.language)||De.string(r.scheme)||De.string(r.pattern)}i(e,"is"),t.is=e})(hu||(h.TextDocumentFilter=hu={}));var _u;(function(t){function e(n){let r=n;return De.objectLiteral(r)&&(De.string(r.notebookType)||De.string(r.scheme)||De.string(r.pattern))}i(e,"is"),t.is=e})(_u||(h.NotebookDocumentFilter=_u={}));var yu;(function(t){function e(n){let r=n;return De.objectLiteral(r)&&(De.string(r.notebook)||_u.is(r.notebook))&&(r.language===void 0||De.string(r.language))}i(e,"is"),t.is=e})(yu||(h.NotebookCellTextDocumentFilter=yu={}));var bu;(function(t){function e(n){if(!Array.isArray(n))return!1;for(let r of n)if(!De.string(r)&&!hu.is(r)&&!yu.is(r))return!1;return!0}i(e,"is"),t.is=e})(bu||(h.DocumentSelector=bu={}));var Bf;(function(t){t.method="client/registerCapability",t.messageDirection=j.MessageDirection.serverToClient,t.type=new j.ProtocolRequestType(t.method)})(Bf||(h.RegistrationRequest=Bf={}));var zf;(function(t){t.method="client/unregisterCapability",t.messageDirection=j.MessageDirection.serverToClient,t.type=new j.ProtocolRequestType(t.method)})(zf||(h.UnregistrationRequest=zf={}));var $f;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})($f||(h.ResourceOperationKind=$f={}));var Hf;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(Hf||(h.FailureHandlingKind=Hf={}));var Vf;(function(t){t.UTF8="utf-8",t.UTF16="utf-16",t.UTF32="utf-32"})(Vf||(h.PositionEncodingKind=Vf={}));var Gf;(function(t){function e(n){let r=n;return r&&De.string(r.id)&&r.id.length>0}i(e,"hasId"),t.hasId=e})(Gf||(h.StaticRegistrationOptions=Gf={}));var Zf;(function(t){function e(n){let r=n;return r&&(r.documentSelector===null||bu.is(r.documentSelector))}i(e,"is"),t.is=e})(Zf||(h.TextDocumentRegistrationOptions=Zf={}));var Qf;(function(t){function e(r){let o=r;return De.objectLiteral(o)&&(o.workDoneProgress===void 0||De.boolean(o.workDoneProgress))}i(e,"is"),t.is=e;function n(r){let o=r;return o&&De.boolean(o.workDoneProgress)}i(n,"hasWorkDoneProgress"),t.hasWorkDoneProgress=n})(Qf||(h.WorkDoneProgressOptions=Qf={}));var Jf;(function(t){t.method="initialize",t.messageDirection=j.MessageDirection.clientToServer,t.type=new j.ProtocolRequestType(t.method)})(Jf||(h.InitializeRequest=Jf={}));var Kf;(function(t){t.unknownProtocolVersion=1})(Kf||(h.InitializeErrorCodes=Kf={}));var Xf;(function(t){t.method="initialized",t.messageDirection=j.MessageDirection.clientToServer,t.type=new j.ProtocolNotificationType(t.method)})(Xf||(h.InitializedNotification=Xf={}));var Yf;(function(t){t.method="shutdown",t.messageDirection=j.MessageDirection.clientToServer,t.type=new j.ProtocolRequestType0(t.method)})(Yf||(h.ShutdownRequest=Yf={}));var em;(function(t){t.method="exit",t.messageDirection=j.MessageDirection.clientToServer,t.type=new j.ProtocolNotificationType0(t.method)})(em||(h.ExitNotification=em={}));var tm;(function(t){t.method="workspace/didChangeConfiguration",t.messageDirection=j.MessageDirection.clientToServer,t.type=new j.ProtocolNotificationType(t.method)})(tm||(h.DidChangeConfigurationNotification=tm={}));var nm;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4,t.Debug=5})(nm||(h.MessageType=nm={}));var rm;(function(t){t.method="window/showMessage",t.messageDirection=j.MessageDirection.serverToClient,t.type=new j.ProtocolNotificationType(t.method)})(rm||(h.ShowMessageNotification=rm={}));var im;(function(t){t.method="window/showMessageRequest",t.messageDirection=j.MessageDirection.serverToClient,t.type=new j.ProtocolRequestType(t.method)})(im||(h.ShowMessageRequest=im={}));var om;(function(t){t.method="window/logMessage",t.messageDirection=j.MessageDirection.serverToClient,t.type=new j.ProtocolNotificationType(t.method)})(om||(h.LogMessageNotification=om={}));var sm;(function(t){t.method="telemetry/event",t.messageDirection=j.MessageDirection.serverToClient,t.type=new j.ProtocolNotificationType(t.method)})(sm||(h.TelemetryEventNotification=sm={}));var am;(function(t){t.None=0,t.Full=1,t.Incremental=2})(am||(h.TextDocumentSyncKind=am={}));var um;(function(t){t.method="textDocument/didOpen",t.messageDirection=j.MessageDirection.clientToServer,t.type=new j.ProtocolNotificationType(t.method)})(um||(h.DidOpenTextDocumentNotification=um={}));var lm;(function(t){function e(r){let o=r;return o!=null&&typeof o.text=="string"&&o.range!==void 0&&(o.rangeLength===void 0||typeof o.rangeLength=="number")}i(e,"isIncremental"),t.isIncremental=e;function n(r){let o=r;return o!=null&&typeof o.text=="string"&&o.range===void 0&&o.rangeLength===void 0}i(n,"isFull"),t.isFull=n})(lm||(h.TextDocumentContentChangeEvent=lm={}));var cm;(function(t){t.method="textDocument/didChange",t.messageDirection=j.MessageDirection.clientToServer,t.type=new j.ProtocolNotificationType(t.method)})(cm||(h.DidChangeTextDocumentNotification=cm={}));var dm;(function(t){t.method="textDocument/didClose",t.messageDirection=j.MessageDirection.clientToServer,t.type=new j.ProtocolNotificationType(t.method)})(dm||(h.DidCloseTextDocumentNotification=dm={}));var fm;(function(t){t.method="textDocument/didSave",t.messageDirection=j.MessageDirection.clientToServer,t.type=new j.ProtocolNotificationType(t.method)})(fm||(h.DidSaveTextDocumentNotification=fm={}));var mm;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(mm||(h.TextDocumentSaveReason=mm={}));var pm;(function(t){t.method="textDocument/willSave",t.messageDirection=j.MessageDirection.clientToServer,t.type=new j.ProtocolNotificationType(t.method)})(pm||(h.WillSaveTextDocumentNotification=pm={}));var gm;(function(t){t.method="textDocument/willSaveWaitUntil",t.messageDirection=j.MessageDirection.clientToServer,t.type=new j.ProtocolRequestType(t.method)})(gm||(h.WillSaveTextDocumentWaitUntilRequest=gm={}));var hm;(function(t){t.method="workspace/didChangeWatchedFiles",t.messageDirection=j.MessageDirection.clientToServer,t.type=new j.ProtocolNotificationType(t.method)})(hm||(h.DidChangeWatchedFilesNotification=hm={}));var _m;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(_m||(h.FileChangeType=_m={}));var ym;(function(t){function e(n){let r=n;return De.objectLiteral(r)&&(Uf.URI.is(r.baseUri)||Uf.WorkspaceFolder.is(r.baseUri))&&De.string(r.pattern)}i(e,"is"),t.is=e})(ym||(h.RelativePattern=ym={}));var bm;(function(t){t.Create=1,t.Change=2,t.Delete=4})(bm||(h.WatchKind=bm={}));var vm;(function(t){t.method="textDocument/publishDiagnostics",t.messageDirection=j.MessageDirection.serverToClient,t.type=new j.ProtocolNotificationType(t.method)})(vm||(h.PublishDiagnosticsNotification=vm={}));var wm;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(wm||(h.CompletionTriggerKind=wm={}));var Sm;(function(t){t.method="textDocument/completion",t.messageDirection=j.MessageDirection.clientToServer,t.type=new j.ProtocolRequestType(t.method)})(Sm||(h.CompletionRequest=Sm={}));var Em;(function(t){t.method="completionItem/resolve",t.messageDirection=j.MessageDirection.clientToServer,t.type=new j.ProtocolRequestType(t.method)})(Em||(h.CompletionResolveRequest=Em={}));var Tm;(function(t){t.method="textDocument/hover",t.messageDirection=j.MessageDirection.clientToServer,t.type=new j.ProtocolRequestType(t.method)})(Tm||(h.HoverRequest=Tm={}));var xm;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(xm||(h.SignatureHelpTriggerKind=xm={}));var km;(function(t){t.method="textDocument/signatureHelp",t.messageDirection=j.MessageDirection.clientToServer,t.type=new j.ProtocolRequestType(t.method)})(km||(h.SignatureHelpRequest=km={}));var Im;(function(t){t.method="textDocument/definition",t.messageDirection=j.MessageDirection.clientToServer,t.type=new j.ProtocolRequestType(t.method)})(Im||(h.DefinitionRequest=Im={}));var Rm;(function(t){t.method="textDocument/references",t.messageDirection=j.MessageDirection.clientToServer,t.type=new j.ProtocolRequestType(t.method)})(Rm||(h.ReferencesRequest=Rm={}));var Pm;(function(t){t.method="textDocument/documentHighlight",t.messageDirection=j.MessageDirection.clientToServer,t.type=new j.ProtocolRequestType(t.method)})(Pm||(h.DocumentHighlightRequest=Pm={}));var Mm;(function(t){t.method="textDocument/documentSymbol",t.messageDirection=j.MessageDirection.clientToServer,t.type=new j.ProtocolRequestType(t.method)})(Mm||(h.DocumentSymbolRequest=Mm={}));var Cm;(function(t){t.method="textDocument/codeAction",t.messageDirection=j.MessageDirection.clientToServer,t.type=new j.ProtocolRequestType(t.method)})(Cm||(h.CodeActionRequest=Cm={}));var Lm;(function(t){t.method="codeAction/resolve",t.messageDirection=j.MessageDirection.clientToServer,t.type=new j.ProtocolRequestType(t.method)})(Lm||(h.CodeActionResolveRequest=Lm={}));var Nm;(function(t){t.method="workspace/symbol",t.messageDirection=j.MessageDirection.clientToServer,t.type=new j.ProtocolRequestType(t.method)})(Nm||(h.WorkspaceSymbolRequest=Nm={}));var Am;(function(t){t.method="workspaceSymbol/resolve",t.messageDirection=j.MessageDirection.clientToServer,t.type=new j.ProtocolRequestType(t.method)})(Am||(h.WorkspaceSymbolResolveRequest=Am={}));var Dm;(function(t){t.method="textDocument/codeLens",t.messageDirection=j.MessageDirection.clientToServer,t.type=new j.ProtocolRequestType(t.method)})(Dm||(h.CodeLensRequest=Dm={}));var Om;(function(t){t.method="codeLens/resolve",t.messageDirection=j.MessageDirection.clientToServer,t.type=new j.ProtocolRequestType(t.method)})(Om||(h.CodeLensResolveRequest=Om={}));var Fm;(function(t){t.method="workspace/codeLens/refresh",t.messageDirection=j.MessageDirection.serverToClient,t.type=new j.ProtocolRequestType0(t.method)})(Fm||(h.CodeLensRefreshRequest=Fm={}));var jm;(function(t){t.method="textDocument/documentLink",t.messageDirection=j.MessageDirection.clientToServer,t.type=new j.ProtocolRequestType(t.method)})(jm||(h.DocumentLinkRequest=jm={}));var qm;(function(t){t.method="documentLink/resolve",t.messageDirection=j.MessageDirection.clientToServer,t.type=new j.ProtocolRequestType(t.method)})(qm||(h.DocumentLinkResolveRequest=qm={}));var Wm;(function(t){t.method="textDocument/formatting",t.messageDirection=j.MessageDirection.clientToServer,t.type=new j.ProtocolRequestType(t.method)})(Wm||(h.DocumentFormattingRequest=Wm={}));var Um;(function(t){t.method="textDocument/rangeFormatting",t.messageDirection=j.MessageDirection.clientToServer,t.type=new j.ProtocolRequestType(t.method)})(Um||(h.DocumentRangeFormattingRequest=Um={}));var Bm;(function(t){t.method="textDocument/rangesFormatting",t.messageDirection=j.MessageDirection.clientToServer,t.type=new j.ProtocolRequestType(t.method)})(Bm||(h.DocumentRangesFormattingRequest=Bm={}));var zm;(function(t){t.method="textDocument/onTypeFormatting",t.messageDirection=j.MessageDirection.clientToServer,t.type=new j.ProtocolRequestType(t.method)})(zm||(h.DocumentOnTypeFormattingRequest=zm={}));var $m;(function(t){t.Identifier=1})($m||(h.PrepareSupportDefaultBehavior=$m={}));var Hm;(function(t){t.method="textDocument/rename",t.messageDirection=j.MessageDirection.clientToServer,t.type=new j.ProtocolRequestType(t.method)})(Hm||(h.RenameRequest=Hm={}));var Vm;(function(t){t.method="textDocument/prepareRename",t.messageDirection=j.MessageDirection.clientToServer,t.type=new j.ProtocolRequestType(t.method)})(Vm||(h.PrepareRenameRequest=Vm={}));var Gm;(function(t){t.method="workspace/executeCommand",t.messageDirection=j.MessageDirection.clientToServer,t.type=new j.ProtocolRequestType(t.method)})(Gm||(h.ExecuteCommandRequest=Gm={}));var Zm;(function(t){t.method="workspace/applyEdit",t.messageDirection=j.MessageDirection.serverToClient,t.type=new j.ProtocolRequestType("workspace/applyEdit")})(Zm||(h.ApplyWorkspaceEditRequest=Zm={}))});var tp=H(Ro=>{"use strict";p();Object.defineProperty(Ro,"__esModule",{value:!0});Ro.createProtocolConnection=void 0;var ep=wn();function T_(t,e,n,r){return ep.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,ep.createMessageConnection)(t,e,n,r)}i(T_,"createProtocolConnection");Ro.createProtocolConnection=T_});var rp=H(et=>{"use strict";p();var x_=et&&et.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:i(function(){return e[n]},"get")}),Object.defineProperty(t,r,o)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Po=et&&et.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&x_(e,t,n)};Object.defineProperty(et,"__esModule",{value:!0});et.LSPErrorCodes=et.createProtocolConnection=void 0;Po(wn(),et);Po(fo(),et);Po(Ee(),et);Po(Ym(),et);var k_=tp();Object.defineProperty(et,"createProtocolConnection",{enumerable:!0,get:i(function(){return k_.createProtocolConnection},"get")});var np;(function(t){t.lspReservedErrorRangeStart=-32899,t.RequestFailed=-32803,t.ServerCancelled=-32802,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(np||(et.LSPErrorCodes=np={}))});var op=H(Pt=>{"use strict";p();var I_=Pt&&Pt.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:i(function(){return e[n]},"get")}),Object.defineProperty(t,r,o)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),ip=Pt&&Pt.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&I_(e,t,n)};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.createProtocolConnection=void 0;var R_=uu();ip(uu(),Pt);ip(rp(),Pt);function P_(t,e,n,r){return(0,R_.createMessageConnection)(t,e,n,r)}i(P_,"createProtocolConnection");Pt.createProtocolConnection=P_});var L_={};pp(L_,{IndexWorker:()=>Co,isIndexWorker:()=>M_,runIndexWorker:()=>C_});module.exports=gp(L_);p();p();p();var on={abap:{extensions:[".abap"]},aspdotnet:{extensions:[".asax",".ascx",".ashx",".asmx",".aspx",".axd"]},bat:{extensions:[".bat",".cmd"]},bibtex:{extensions:[".bib",".bibtex"]},blade:{extensions:[".blade",".blade.php"]},BluespecSystemVerilog:{extensions:[".bsv"]},c:{extensions:[".c",".cats",".h",".h.in",".idc"]},csharp:{extensions:[".cake",".cs",".cs.pp",".csx",".linq"]},cpp:{extensions:[".c++",".cc",".cp",".cpp",".cppm",".cxx",".h",".h++",".hh",".hpp",".hxx",".idl",".inc",".inl",".ino",".ipp",".ixx",".rc",".re",".tcc",".tpp",".txx",".i"]},cobol:{extensions:[".cbl",".ccp",".cob",".cobol",".cpy"]},css:{extensions:[".css",".wxss"]},clojure:{extensions:[".bb",".boot",".cl2",".clj",".cljc",".cljs",".cljs.hl",".cljscm",".cljx",".edn",".hic"],filenames:["riemann.config"]},ql:{extensions:[".ql",".qll"]},coffeescript:{extensions:["._coffee",".cake",".cjsx",".coffee",".iced"],filenames:["Cakefile"]},cuda:{extensions:[".cu",".cuh"]},dart:{extensions:[".dart"]},dockerfile:{extensions:[".containerfile",".dockerfile"],filenames:["Containerfile","Dockerfile"]},dotenv:{extensions:[".env"],filenames:[".env",".env.ci",".env.dev",".env.development",".env.development.local",".env.example",".env.local",".env.prod",".env.production",".env.sample",".env.staging",".env.test",".env.testing"]},html:{extensions:[".ect",".ejs",".ejs.t",".jst",".hta",".htm",".html",".html.hl",".html5",".inc",".jsp",".njk",".tpl",".twig",".wxml",".xht",".xhtml",".phtml",".liquid"]},elixir:{extensions:[".ex",".exs"],filenames:["mix.lock"]},erlang:{extensions:[".app",".app.src",".erl",".es",".escript",".hrl",".xrl",".yrl"],filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"]},fsharp:{extensions:[".fs",".fsi",".fsx"]},go:{extensions:[".go"]},groovy:{extensions:[".gradle",".groovy",".grt",".gtpl",".gvy",".jenkinsfile"],filenames:["Jenkinsfile","Jenkinsfile"]},graphql:{extensions:[".gql",".graphql",".graphqls"]},terraform:{extensions:[".hcl",".nomad",".tf",".tfvars",".workflow"]},hlsl:{extensions:[".cginc",".fx",".fxh",".hlsl",".hlsli"]},erb:{extensions:[".erb",".erb.deface",".rhtml"]},razor:{extensions:[".cshtml",".razor"]},haml:{extensions:[".haml",".haml.deface"]},handlebars:{extensions:[".handlebars",".hbs"]},haskell:{extensions:[".hs",".hs-boot",".hsc"]},ini:{extensions:[".cfg",".cnf",".dof",".ini",".lektorproject",".prefs",".pro",".properties",".url"],filenames:[".buckconfig",".coveragerc",".flake8",".pylintrc","HOSTS","buildozer.spec","hosts","pylintrc","vlcrc"]},json:{extensions:[".4DForm",".4DProject",".JSON-tmLanguage",".avsc",".geojson",".gltf",".har",".ice",".json",".json.example",".jsonl",".mcmeta",".sarif",".tact",".tfstate",".tfstate.backup",".topojson",".webapp",".webmanifest",".yy",".yyp"],filenames:[".all-contributorsrc",".arcconfig",".auto-changelog",".c8rc",".htmlhintrc",".imgbotconfig",".nycrc",".tern-config",".tern-project",".watchmanconfig","MODULE.bazel.lock","Package.resolved","Pipfile.lock","bun.lock","composer.lock","deno.lock","flake.lock","mcmod.info"]},jsonc:{extensions:[".code-snippets",".code-workspace",".jsonc",".sublime-build",".sublime-color-scheme",".sublime-commands",".sublime-completions",".sublime-keymap",".sublime-macro",".sublime-menu",".sublime-mousemap",".sublime-project",".sublime-settings",".sublime-theme",".sublime-workspace",".sublime_metrics",".sublime_session"],filenames:[".babelrc",".devcontainer.json",".eslintrc.json",".jscsrc",".jshintrc",".jslintrc",".swcrc","api-extractor.json","argv.json","devcontainer.json","extensions.json","jsconfig.json","keybindings.json","language-configuration.json","launch.json","profiles.json","settings.json","tasks.json","tsconfig.json","tslint.json"]},java:{extensions:[".jav",".java",".jsh"]},javascript:{extensions:["._js",".bones",".cjs",".es",".es6",".frag",".gs",".jake",".javascript",".js",".jsb",".jscad",".jsfl",".jslib",".jsm",".jspre",".jss",".mjs",".njs",".pac",".sjs",".ssjs",".xsjs",".xsjslib"],filenames:["Jakefile"]},julia:{extensions:[".jl"]},kotlin:{extensions:[".kt",".ktm",".kts"]},less:{extensions:[".less"]},lua:{extensions:[".fcgi",".lua",".luau",".nse",".p8",".pd_lua",".rbxs",".rockspec",".wlua"],filenames:[".luacheckrc"]},makefile:{extensions:[".d",".mak",".make",".makefile",".mk",".mkfile"],filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"]},markdown:{extensions:[".livemd",".markdown",".md",".mdown",".mdwn",".mdx",".mkd",".mkdn",".mkdown",".ronn",".scd",".workbook"],filenames:["contents.lr"]},"objective-c":{extensions:[".h",".m"]},"objective-cpp":{extensions:[".mm"]},php:{extensions:[".aw",".ctp",".fcgi",".inc",".install",".module",".php",".php3",".php4",".php5",".phps",".phpt",".theme"],filenames:[".php",".php_cs",".php_cs.dist","Phakefile"]},perl:{extensions:[".al",".cgi",".fcgi",".perl",".ph",".pl",".plx",".pm",".psgi",".t"],filenames:[".latexmkrc","Makefile.PL","Rexfile","ack","cpanfile","latexmkrc"]},powershell:{extensions:[".ps1",".psd1",".psm1"]},pug:{extensions:[".jade",".pug"]},python:{extensions:[".cgi",".codon",".fcgi",".gyp",".gypi",".lmi",".py",".py3",".pyde",".pyi",".pyp",".pyt",".pyw",".rpy",".sage",".spec",".tac",".wsgi",".xpy"],filenames:[".gclient","DEPS","SConscript","SConstruct","wscript"]},r:{extensions:[".r",".rd",".rsx"],filenames:[".Rprofile","expr-dist"]},ruby:{extensions:[".builder",".eye",".fcgi",".gemspec",".god",".jbuilder",".mspec",".pluginspec",".podspec",".prawn",".rabl",".rake",".rb",".rbi",".rbuild",".rbw",".rbx",".ru",".ruby",".spec",".thor",".watchr"],filenames:[".irbrc",".pryrc",".simplecov","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Steepfile","Thorfile","Vagrantfile","buildfile"]},rust:{extensions:[".rs",".rs.in"]},scss:{extensions:[".scss"]},sql:{extensions:[".cql",".ddl",".inc",".mysql",".prc",".sql",".tab",".udf",".viw"]},sass:{extensions:[".sass"]},scala:{extensions:[".kojo",".sbt",".sc",".scala"]},shellscript:{extensions:[".bash",".bats",".cgi",".command",".fcgi",".fish",".ksh",".sh",".sh.in",".tmux",".tool",".trigger",".zsh",".zsh-theme"],filenames:[".bash_aliases",".bash_functions",".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".envrc",".flaskenv",".kshrc",".login",".profile",".tmux.conf",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_aliases","bash_logout","bash_profile","bashrc","cshrc","gradlew","kshrc","login","man","profile","tmux.conf","zlogin","zlogout","zprofile","zshenv","zshrc"]},slang:{extensions:[".fxc",".hlsl",".s",".slang",".slangh",".usf",".ush",".vfx"]},slim:{extensions:[".slim"]},solidity:{extensions:[".sol"]},stylus:{extensions:[".styl"]},svelte:{extensions:[".svelte"]},swift:{extensions:[".swift"]},systemverilog:{extensions:[".sv",".svh",".vh"]},typescriptreact:{extensions:[".tsx"]},latex:{extensions:[".aux",".bbx",".cbx",".cls",".dtx",".ins",".lbx",".ltx",".mkii",".mkiv",".mkvi",".sty",".tex",".toc"]},typescript:{extensions:[".cts",".mts",".ts"]},verilog:{extensions:[".v",".veo"]},vim:{extensions:[".vba",".vim",".vimrc",".vmb"],filenames:[".exrc",".gvimrc",".nvimrc",".vimrc","_vimrc","gvimrc","nvimrc","vimrc"]},vb:{extensions:[".vb",".vbhtml",".Dsr",".bas",".cls",".ctl",".frm",".vbs"]},vue:{extensions:[".nvue",".vue"]},xml:{extensions:[".adml",".admx",".ant",".axaml",".axml",".builds",".ccproj",".ccxml",".clixml",".cproject",".cscfg",".csdef",".csl",".csproj",".ct",".depproj",".dita",".ditamap",".ditaval",".dll.config",".dotsettings",".filters",".fsproj",".fxml",".glade",".gml",".gmx",".gpx",".grxml",".gst",".hzp",".iml",".ivy",".jelly",".jsproj",".kml",".launch",".mdpolicy",".mjml",".mod",".mojo",".mxml",".natvis",".ncl",".ndproj",".nproj",".nuspec",".odd",".osm",".pkgproj",".plist",".pluginspec",".proj",".props",".ps1xml",".psc1",".pt",".pubxml",".qhelp",".rdf",".res",".resx",".rss",".sch",".scxml",".sfproj",".shproj",".srdf",".storyboard",".sublime-snippet",".svg",".sw",".targets",".tml",".typ",".ui",".urdf",".ux",".vbproj",".vcxproj",".vsixmanifest",".vssettings",".vstemplate",".vxml",".wixproj",".workflow",".wsdl",".wsf",".wxi",".wxl",".wxs",".x3d",".xacro",".xaml",".xib",".xlf",".xliff",".xmi",".xml",".xml.dist",".xmp",".xproj",".xsd",".xspec",".xul",".zcml"],filenames:[".classpath",".cproject",".project","App.config","NuGet.config","Settings.StyleCop","Web.Debug.config","Web.Release.config","Web.config","packages.config"]},xsl:{extensions:[".xsl",".xslt"]},yaml:{extensions:[".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml",".yml.mysql"],filenames:[".clang-format",".clang-tidy",".clangd",".gemrc","CITATION.cff","glide.lock","pixi.lock","yarn.lock"]},javascriptreact:{extensions:[".jsx"]},legend:{extensions:[".pure"]}};p();p();var Cu=[".ejs",".erb",".haml",".hbs",".j2",".jinja",".jinja2",".liquid",".mustache",".njk",".php",".pug",".slim",".webc"],Lu={".php":[".blade"]},Nu=Object.keys(on).flatMap(t=>on[t].extensions);p();var Ou=require("os"),No=require("path");p();var Au;(()=>{"use strict";var t={975:O=>{function T(k){if(typeof k!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(k))}i(T,"e");function U(k,L){for(var A,$="",G=0,B=-1,X=0,te=0;te<=k.length;++te){if(te<k.length)A=k.charCodeAt(te);else{if(A===47)break;A=47}if(A===47){if(!(B===te-1||X===1))if(B!==te-1&&X===2){if($.length<2||G!==2||$.charCodeAt($.length-1)!==46||$.charCodeAt($.length-2)!==46){if($.length>2){var Re=$.lastIndexOf("/");if(Re!==$.length-1){Re===-1?($="",G=0):G=($=$.slice(0,Re)).length-1-$.lastIndexOf("/"),B=te,X=0;continue}}else if($.length===2||$.length===1){$="",G=0,B=te,X=0;continue}}L&&($.length>0?$+="/..":$="..",G=2)}else $.length>0?$+="/"+k.slice(B+1,te):$=k.slice(B+1,te),G=te-B-1;B=te,X=0}else A===46&&X!==-1?++X:X=-1}return $}i(U,"r");var z={resolve:i(function(){for(var k,L="",A=!1,$=arguments.length-1;$>=-1&&!A;$--){var G;$>=0?G=arguments[$]:(k===void 0&&(k=process.cwd()),G=k),T(G),G.length!==0&&(L=G+"/"+L,A=G.charCodeAt(0)===47)}return L=U(L,!A),A?L.length>0?"/"+L:"/":L.length>0?L:"."},"resolve"),normalize:i(function(k){if(T(k),k.length===0)return".";var L=k.charCodeAt(0)===47,A=k.charCodeAt(k.length-1)===47;return(k=U(k,!L)).length!==0||L||(k="."),k.length>0&&A&&(k+="/"),L?"/"+k:k},"normalize"),isAbsolute:i(function(k){return T(k),k.length>0&&k.charCodeAt(0)===47},"isAbsolute"),join:i(function(){if(arguments.length===0)return".";for(var k,L=0;L<arguments.length;++L){var A=arguments[L];T(A),A.length>0&&(k===void 0?k=A:k+="/"+A)}return k===void 0?".":z.normalize(k)},"join"),relative:i(function(k,L){if(T(k),T(L),k===L||(k=z.resolve(k))===(L=z.resolve(L)))return"";for(var A=1;A<k.length&&k.charCodeAt(A)===47;++A);for(var $=k.length,G=$-A,B=1;B<L.length&&L.charCodeAt(B)===47;++B);for(var X=L.length-B,te=G<X?G:X,Re=-1,ce=0;ce<=te;++ce){if(ce===te){if(X>te){if(L.charCodeAt(B+ce)===47)return L.slice(B+ce+1);if(ce===0)return L.slice(B+ce)}else G>te&&(k.charCodeAt(A+ce)===47?Re=ce:ce===0&&(Re=0));break}var Qe=k.charCodeAt(A+ce);if(Qe!==L.charCodeAt(B+ce))break;Qe===47&&(Re=ce)}var wt="";for(ce=A+Re+1;ce<=$;++ce)ce!==$&&k.charCodeAt(ce)!==47||(wt.length===0?wt+="..":wt+="/..");return wt.length>0?wt+L.slice(B+Re):(B+=Re,L.charCodeAt(B)===47&&++B,L.slice(B))},"relative"),_makeLong:i(function(k){return k},"_makeLong"),dirname:i(function(k){if(T(k),k.length===0)return".";for(var L=k.charCodeAt(0),A=L===47,$=-1,G=!0,B=k.length-1;B>=1;--B)if((L=k.charCodeAt(B))===47){if(!G){$=B;break}}else G=!1;return $===-1?A?"/":".":A&&$===1?"//":k.slice(0,$)},"dirname"),basename:i(function(k,L){if(L!==void 0&&typeof L!="string")throw new TypeError('"ext" argument must be a string');T(k);var A,$=0,G=-1,B=!0;if(L!==void 0&&L.length>0&&L.length<=k.length){if(L.length===k.length&&L===k)return"";var X=L.length-1,te=-1;for(A=k.length-1;A>=0;--A){var Re=k.charCodeAt(A);if(Re===47){if(!B){$=A+1;break}}else te===-1&&(B=!1,te=A+1),X>=0&&(Re===L.charCodeAt(X)?--X==-1&&(G=A):(X=-1,G=te))}return $===G?G=te:G===-1&&(G=k.length),k.slice($,G)}for(A=k.length-1;A>=0;--A)if(k.charCodeAt(A)===47){if(!B){$=A+1;break}}else G===-1&&(B=!1,G=A+1);return G===-1?"":k.slice($,G)},"basename"),extname:i(function(k){T(k);for(var L=-1,A=0,$=-1,G=!0,B=0,X=k.length-1;X>=0;--X){var te=k.charCodeAt(X);if(te!==47)$===-1&&(G=!1,$=X+1),te===46?L===-1?L=X:B!==1&&(B=1):L!==-1&&(B=-1);else if(!G){A=X+1;break}}return L===-1||$===-1||B===0||B===1&&L===$-1&&L===A+1?"":k.slice(L,$)},"extname"),format:i(function(k){if(k===null||typeof k!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof k);return function(L,A){var $=A.dir||A.root,G=A.base||(A.name||"")+(A.ext||"");return $?$===A.root?$+G:$+"/"+G:G}(0,k)},"format"),parse:i(function(k){T(k);var L={root:"",dir:"",base:"",ext:"",name:""};if(k.length===0)return L;var A,$=k.charCodeAt(0),G=$===47;G?(L.root="/",A=1):A=0;for(var B=-1,X=0,te=-1,Re=!0,ce=k.length-1,Qe=0;ce>=A;--ce)if(($=k.charCodeAt(ce))!==47)te===-1&&(Re=!1,te=ce+1),$===46?B===-1?B=ce:Qe!==1&&(Qe=1):B!==-1&&(Qe=-1);else if(!Re){X=ce+1;break}return B===-1||te===-1||Qe===0||Qe===1&&B===te-1&&B===X+1?te!==-1&&(L.base=L.name=X===0&&G?k.slice(1,te):k.slice(X,te)):(X===0&&G?(L.name=k.slice(1,B),L.base=k.slice(1,te)):(L.name=k.slice(X,B),L.base=k.slice(X,te)),L.ext=k.slice(B,te)),X>0?L.dir=k.slice(0,X-1):G&&(L.dir="/"),L},"parse"),sep:"/",delimiter:":",win32:null,posix:null};z.posix=z,O.exports=z}},e={};function n(O){var T=e[O];if(T!==void 0)return T.exports;var U=e[O]={exports:{}};return t[O](U,U.exports,n),U.exports}i(n,"r"),n.d=(O,T)=>{for(var U in T)n.o(T,U)&&!n.o(O,U)&&Object.defineProperty(O,U,{enumerable:!0,get:T[U]})},n.o=(O,T)=>Object.prototype.hasOwnProperty.call(O,T),n.r=O=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(O,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(O,"__esModule",{value:!0})};var r={};let o;n.r(r),n.d(r,{URI:i(()=>w,"URI"),Utils:i(()=>Fe,"Utils")}),typeof process=="object"?o=process.platform==="win32":typeof navigator=="object"&&(o=navigator.userAgent.indexOf("Windows")>=0);let s=/^\w[\w\d+.-]*$/,a=/^\//,u=/^\/\//;function d(O,T){if(!O.scheme&&T)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${O.authority}", path: "${O.path}", query: "${O.query}", fragment: "${O.fragment}"}`);if(O.scheme&&!s.test(O.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(O.path){if(O.authority){if(!a.test(O.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(u.test(O.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}i(d,"a");let f="",g="/",v=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class w{static{i(this,"l")}static isUri(T){return T instanceof w||!!T&&typeof T.authority=="string"&&typeof T.fragment=="string"&&typeof T.path=="string"&&typeof T.query=="string"&&typeof T.scheme=="string"&&typeof T.fsPath=="string"&&typeof T.with=="function"&&typeof T.toString=="function"}scheme;authority;path;query;fragment;constructor(T,U,z,k,L,A=!1){typeof T=="object"?(this.scheme=T.scheme||f,this.authority=T.authority||f,this.path=T.path||f,this.query=T.query||f,this.fragment=T.fragment||f):(this.scheme=function($,G){return $||G?$:"file"}(T,A),this.authority=U||f,this.path=function($,G){switch($){case"https":case"http":case"file":G?G[0]!==g&&(G=g+G):G=g}return G}(this.scheme,z||f),this.query=k||f,this.fragment=L||f,d(this,A))}get fsPath(){return M(this,!1)}with(T){if(!T)return this;let{scheme:U,authority:z,path:k,query:L,fragment:A}=T;return U===void 0?U=this.scheme:U===null&&(U=f),z===void 0?z=this.authority:z===null&&(z=f),k===void 0?k=this.path:k===null&&(k=f),L===void 0?L=this.query:L===null&&(L=f),A===void 0?A=this.fragment:A===null&&(A=f),U===this.scheme&&z===this.authority&&k===this.path&&L===this.query&&A===this.fragment?this:new D(U,z,k,L,A)}static parse(T,U=!1){let z=v.exec(T);return z?new D(z[2]||f,me(z[4]||f),me(z[5]||f),me(z[7]||f),me(z[9]||f),U):new D(f,f,f,f,f)}static file(T){let U=f;if(o&&(T=T.replace(/\\/g,g)),T[0]===g&&T[1]===g){let z=T.indexOf(g,2);z===-1?(U=T.substring(2),T=g):(U=T.substring(2,z),T=T.substring(z)||g)}return new D("file",U,T,f,f)}static from(T){let U=new D(T.scheme,T.authority,T.path,T.query,T.fragment);return d(U,!0),U}toString(T=!1){return V(this,T)}toJSON(){return this}static revive(T){if(T){if(T instanceof w)return T;{let U=new D(T);return U._formatted=T.external,U._fsPath=T._sep===x?T.fsPath:null,U}}return T}}let x=o?1:void 0;class D extends w{static{i(this,"d")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=M(this,!1)),this._fsPath}toString(T=!1){return T?V(this,!0):(this._formatted||(this._formatted=V(this,!1)),this._formatted)}toJSON(){let T={$mid:1};return this._fsPath&&(T.fsPath=this._fsPath,T._sep=x),this._formatted&&(T.external=this._formatted),this.path&&(T.path=this.path),this.scheme&&(T.scheme=this.scheme),this.authority&&(T.authority=this.authority),this.query&&(T.query=this.query),this.fragment&&(T.fragment=this.fragment),T}}let R={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function q(O,T,U){let z,k=-1;for(let L=0;L<O.length;L++){let A=O.charCodeAt(L);if(A>=97&&A<=122||A>=65&&A<=90||A>=48&&A<=57||A===45||A===46||A===95||A===126||T&&A===47||U&&A===91||U&&A===93||U&&A===58)k!==-1&&(z+=encodeURIComponent(O.substring(k,L)),k=-1),z!==void 0&&(z+=O.charAt(L));else{z===void 0&&(z=O.substr(0,L));let $=R[A];$!==void 0?(k!==-1&&(z+=encodeURIComponent(O.substring(k,L)),k=-1),z+=$):k===-1&&(k=L)}}return k!==-1&&(z+=encodeURIComponent(O.substring(k))),z!==void 0?z:O}i(q,"m");function F(O){let T;for(let U=0;U<O.length;U++){let z=O.charCodeAt(U);z===35||z===63?(T===void 0&&(T=O.substr(0,U)),T+=R[z]):T!==void 0&&(T+=O[U])}return T!==void 0?T:O}i(F,"y");function M(O,T){let U;return U=O.authority&&O.path.length>1&&O.scheme==="file"?`//${O.authority}${O.path}`:O.path.charCodeAt(0)===47&&(O.path.charCodeAt(1)>=65&&O.path.charCodeAt(1)<=90||O.path.charCodeAt(1)>=97&&O.path.charCodeAt(1)<=122)&&O.path.charCodeAt(2)===58?T?O.path.substr(1):O.path[1].toLowerCase()+O.path.substr(2):O.path,o&&(U=U.replace(/\//g,"\\")),U}i(M,"v");function V(O,T){let U=T?F:q,z="",{scheme:k,authority:L,path:A,query:$,fragment:G}=O;if(k&&(z+=k,z+=":"),(L||k==="file")&&(z+=g,z+=g),L){let B=L.indexOf("@");if(B!==-1){let X=L.substr(0,B);L=L.substr(B+1),B=X.lastIndexOf(":"),B===-1?z+=U(X,!1,!1):(z+=U(X.substr(0,B),!1,!1),z+=":",z+=U(X.substr(B+1),!1,!0)),z+="@"}L=L.toLowerCase(),B=L.lastIndexOf(":"),B===-1?z+=U(L,!1,!0):(z+=U(L.substr(0,B),!1,!0),z+=L.substr(B))}if(A){if(A.length>=3&&A.charCodeAt(0)===47&&A.charCodeAt(2)===58){let B=A.charCodeAt(1);B>=65&&B<=90&&(A=`/${String.fromCharCode(B+32)}:${A.substr(3)}`)}else if(A.length>=2&&A.charCodeAt(1)===58){let B=A.charCodeAt(0);B>=65&&B<=90&&(A=`${String.fromCharCode(B+32)}:${A.substr(2)}`)}z+=U(A,!0,!1)}return $&&(z+="?",z+=U($,!1,!1)),G&&(z+="#",z+=T?G:q(G,!1,!1)),z}i(V,"b");function Y(O){try{return decodeURIComponent(O)}catch{return O.length>3?O.substr(0,3)+Y(O.substr(3)):O}}i(Y,"C");let ee=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function me(O){return O.match(ee)?O.replace(ee,T=>Y(T)):O}i(me,"w");var se=n(975);let ge=se.posix||se,Oe="/";var Fe;(function(O){O.joinPath=function(T,...U){return T.with({path:ge.join(T.path,...U)})},O.resolvePath=function(T,...U){let z=T.path,k=!1;z[0]!==Oe&&(z=Oe+z,k=!0);let L=ge.resolve(z,...U);return k&&L[0]===Oe&&!T.authority&&(L=L.substring(1)),T.with({path:L})},O.dirname=function(T){if(T.path.length===0||T.path===Oe)return T;let U=ge.dirname(T.path);return U.length===1&&U.charCodeAt(0)===46&&(U=""),T.with({path:U})},O.basename=function(T){return ge.basename(T.path)},O.extname=function(T){return ge.extname(T.path)}})(Fe||(Fe={})),Au=r})();var{URI:Lo,Utils:hp}=Au;function Fu(t){try{return decodeURIComponent(t)}catch{return t.length>3?t.substring(0,3)+Fu(t.substring(3)):t}}i(Fu,"decodeURIComponentGraceful");var Du=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function _p(t){return t.match(Du)?t.replace(Du,e=>Fu(e)):t}i(_p,"percentDecode");function yp(t){if(typeof t!="string"&&(t=t.uri),/^[A-Za-z]:\\/.test(t))throw new Error(`Could not parse <${t}>: Windows-style path`);try{let e=t.match(/^(?:([^:/?#]+?:)?\/\/)(\/\/.*)$/);return e?Lo.parse(e[1]+e[2],!0):Lo.parse(t,!0)}catch(e){throw new Error(`Could not parse <${t}>`,{cause:e})}}i(yp,"parseUri");var bp=new Set(["file","notebook","vscode-notebook","vscode-notebook-cell"]);function Bt(t){let e=yp(t);if(!bp.has(e.scheme))throw new Error(`Unsupported scheme: ${e.scheme}`);if((0,Ou.platform)()==="win32"){let n=e.path;return e.authority?n=`//${e.authority}${e.path}`:/^\/[A-Za-z]:/.test(n)&&(n=n.substring(1)),(0,No.normalize)(n)}else{if(e.authority)throw new Error("Unsupported remote file path");return e.path}}i(Bt,"fsPath");function Yr(t){try{return Bt(t)}catch{return}}i(Yr,"getFsPath");function ju(t){return _p((typeof t=="string"?t:t.uri).replace(/[#?].*$/,"").replace(/\/$/,"").replace(/^.*[/:]/,""))}i(ju,"basename");var Ao=Ut(require("node:path"));var Pn=class{constructor(e,n,r){this.languageId=e;this.isGuess=n;this.fileExtension=r}static{i(this,"Language")}},fr=class{static{i(this,"LanguageDetection")}},Do=new Map,Rn=new Map;for(let[t,{extensions:e,filenames:n}]of Object.entries(on)){for(let r of e)Do.set(r,[...Do.get(r)??[],t]);for(let r of n??[])Rn.set(r,[...Rn.get(r)??[],t])}var Oo=class extends fr{static{i(this,"FilenameAndExensionLanguageDetection")}detectLanguage(e){let n=ju(e.uri),r=Ao.extname(n).toLowerCase(),o=this.extensionWithoutTemplateLanguage(n,r),s=this.detectLanguageId(n,o),a=this.computeFullyQualifiedExtension(r,o);return s?new Pn(s.languageId,s.isGuess,a):new Pn(e.languageId,!0,a)}extensionWithoutTemplateLanguage(e,n){if(Cu.includes(n)){let r=e.substring(0,e.lastIndexOf(".")),o=Ao.extname(r).toLowerCase();if(o.length>0&&Nu.includes(o)&&this.isExtensionValidForTemplateLanguage(n,o))return o}return n}isExtensionValidForTemplateLanguage(e,n){let r=Lu[e];return!r||r.includes(n)}detectLanguageId(e,n){if(Rn.has(e))return{languageId:Rn.get(e)[0],isGuess:!1};let r=Do.get(n)??[];if(r.length>0)return{languageId:r[0],isGuess:r.length>1};for(;e.includes(".");)if(e=e.replace(/\.[^.]*$/,""),Rn.has(e))return{languageId:Rn.get(e)[0],isGuess:!1}}computeFullyQualifiedExtension(e,n){return e!==n?n+e:e}},Fo=class extends fr{constructor(n){super();this.delegate=n}static{i(this,"GroupingLanguageDetection")}detectLanguage(n){let r=this.delegate.detectLanguage(n),o=r.languageId;return o==="c"||o==="cpp"?new Pn("cpp",r.isGuess,r.fileExtension):r}},jo=class extends fr{constructor(n){super();this.delegate=n}static{i(this,"ClientProvidedLanguageDetection")}detectLanguage(n){return n.uri.startsWith("untitled:")||n.uri.startsWith("vscode-notebook-cell:")?new Pn(n.languageId,!0,""):this.delegate.detectLanguage(n)}},J_=new Fo(new jo(new Oo));p();p();p();p();function Nt(t){if(t.isCancellationRequested)throw new qo}i(Nt,"throwIfCancellationRequested");var qo=class extends Error{static{i(this,"CancellationError")}constructor(){super(vp),this.name=this.message}},vp="Canceled",ei=class{constructor(){this.items=[]}static{i(this,"Stack")}push(e){this.items.push(e)}pop(){return this.items.pop()}peek(){return this.items[this.items.length-1]}tryPeek(){return this.items.length>0}toArray(){return this.items}};p();p();p();p();p();p();p();p();function Wo(t,e,n){return{type:"virtual",indentation:t,subs:e,label:n}}i(Wo,"virtualNode");function qu(t,e,n,r,o){if(n==="")throw new Error("Cannot create a line node with an empty source line");return{type:"line",indentation:t,lineNumber:e,sourceLine:n,subs:r,label:o}}i(qu,"lineNode");function Uo(t){return{type:"blank",lineNumber:t,subs:[]}}i(Uo,"blankNode");function ti(t){return{type:"top",indentation:-1,subs:t??[]}}i(ti,"topNode");function je(t){return t.type==="blank"}i(je,"isBlank");function sn(t){return t.type==="line"}i(sn,"isLine");function an(t){return t.type==="virtual"}i(an,"isVirtual");p();function Wu(t,e){return Ue(t,n=>{n.label=n.label?e(n.label)?void 0:n.label:void 0},"bottomUp"),t}i(Wu,"clearLabelsIf");function un(t,e){switch(t.type){case"line":case"virtual":{let n=t.subs.map(r=>un(r,e));return{...t,subs:n,label:t.label?e(t.label):void 0}}case"blank":return{...t,label:t.label?e(t.label):void 0};case"top":return{...t,subs:t.subs.map(n=>un(n,e)),label:t.label?e(t.label):void 0}}}i(un,"mapLabels");function Ue(t,e,n){function r(o){n==="topDown"&&e(o),o.subs.forEach(s=>{r(s)}),n==="bottomUp"&&e(o)}i(r,"_visit"),r(t)}i(Ue,"visitTree");function Bo(t,e,n,r){let o=e;function s(a){o=n(a,o)}return i(s,"visitor"),Ue(t,s,r),o}i(Bo,"foldTree");function ni(t,e,n){let r=i(s=>{if(n!==void 0&&n(s))return s;{let a=s.subs.map(r).filter(u=>u!==void 0);return s.subs=a,e(s)}},"rebuild"),o=r(t);return o!==void 0?o:ti()}i(ni,"rebuildTree");p();function Sp(t){let e=t.split(`
`),n=e.map(f=>f.match(/^\s*/)[0].length),r=e.map(f=>f.trimLeft());function o(f){let[g,v]=s(f+1,n[f]);return[qu(n[f],f,r[f],g),v]}i(o,"parseNode");function s(f,g){let v,w=[],x=f,D;for(;x<r.length&&(r[x]===""||n[x]>g);)if(r[x]==="")D===void 0&&(D=x),x+=1;else{if(D!==void 0){for(let R=D;R<x;R++)w.push(Uo(R));D=void 0}[v,x]=o(x),w.push(v)}return D!==void 0&&(x=D),[w,x]}i(s,"parseSubs");let[a,u]=s(0,-1),d=u;for(;d<r.length&&r[d]==="";)a.push(Uo(d)),d+=1;if(d<r.length)throw new Error(`Parsing did not go to end of file. Ended at ${d} out of ${r.length}`);return ti(a)}i(Sp,"parseRaw");function mr(t,e){function n(r){if(sn(r)){let o=e.find(s=>s.matches(r.sourceLine));o&&(r.label=o.label)}}i(n,"visitor"),Ue(t,n,"bottomUp")}i(mr,"labelLines");function ri(t){function e(n){if(an(n)&&n.label===void 0){let r=n.subs.filter(o=>!je(o));r.length===1&&(n.label=r[0].label)}}i(e,"visitor"),Ue(t,e,"bottomUp")}i(ri,"labelVirtualInherited");function pr(t){return Object.keys(t).map(e=>{let n;return t[e].test?n=i(r=>t[e].test(r),"matches"):n=t[e],{matches:n,label:e}})}i(pr,"buildLabelRules");function zo(t){let n=ni(t,i(function(r){if(r.subs.length===0||r.subs.findIndex(a=>a.label==="closer"||a.label==="opener")===-1)return r;let o=[],s;for(let a=0;a<r.subs.length;a++){let u=r.subs[a],d=r.subs[a-1];if(u.label==="opener"&&d!==void 0&&sn(d))d.subs.push(u),u.subs.forEach(f=>d.subs.push(f)),u.subs=[];else if(u.label==="closer"&&s!==void 0&&(sn(u)||an(u))&&u.indentation>=s.indentation){let f=o.length-1;for(;f>0&&je(o[f]);)f-=1;if(s.subs.push(...o.splice(f+1)),u.subs.length>0){let g=s.subs.findIndex(D=>D.label!=="newVirtual"),v=s.subs.slice(0,g),w=s.subs.slice(g),x=w.length>0?[Wo(u.indentation,w,"newVirtual")]:[];s.subs=[...v,...x,u]}else s.subs.push(u)}else o.push(u),je(u)||(s=u)}return r.subs=o,r},"rebuilder"));return Wu(t,r=>r==="newVirtual"),n}i(zo,"combineClosersAndOpeners");function Uu(t,e=je,n){return ni(t,i(function(o){if(o.subs.length<=1)return o;let s=[],a=[],u,d=!1;function f(g=!1){if(u!==void 0&&(s.length>0||!g)){let v=Wo(u,a,n);s.push(v)}else a.forEach(v=>s.push(v))}i(f,"flushBlockIntoNewSubs");for(let g=0;g<o.subs.length;g++){let v=o.subs[g],w=e(v);!w&&d&&(f(),a=[]),d=w,a.push(v),je(v)||(u=u??v.indentation)}return f(!0),o.subs=s,o},"rebuilder"))}i(Uu,"groupBlocks");function ln(t){return ni(t,i(function(n){return an(n)&&n.label===void 0&&n.subs.length<=1?n.subs.length===0?void 0:n.subs[0]:(n.subs.length===1&&an(n.subs[0])&&n.subs[0].label===void 0&&(n.subs=n.subs[0].subs),n)},"rebuilder"))}i(ln,"flattenVirtual");var Ep={opener:/^[[({]/,closer:/^[\])}]/},Tp=pr(Ep),Bu={};function $o(t,e){Bu[t]=e}i($o,"registerLanguageSpecificParser");function gr(t,e){let n=Sp(t),r=Bu[e??""];return r?r(n):(mr(n,Tp),zo(n))}i(gr,"parseTree");var xp={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[[({]/,closer:/^[\])}]/},kp=pr(xp);function zu(t){let e=t;return mr(e,kp),e=zo(e),e=ln(e),ri(e),Ue(e,n=>{if(n.label==="class"||n.label==="interface")for(let r of n.subs)!je(r)&&(r.label===void 0||r.label==="annotation")&&(r.label="member")},"bottomUp"),e}i(zu,"processJava");p();var Ip={heading:/^# /,subheading:/^## /,subsubheading:/### /},Rp=pr(Ip);function $u(t){let e=t;if(mr(e,Rp),je(e))return e;function n(s){if(s.label==="heading")return 1;if(s.label==="subheading")return 2;if(s.label==="subsubheading")return 3}i(n,"headingLevel");let r=[e],o=[...e.subs];e.subs=[];for(let s of o){let a=n(s);if(a===void 0||je(s))r[r.length-1].subs.push(s);else{for(;r.length<a;)r.push(r[r.length-1]);for(r[a-1].subs.push(s),r[a]=s;r.length>a+1;)r.pop()}}return e=Uu(e),e=ln(e),ri(e),e}i($u,"processMarkdown");p();function Hu(t){return" ".repeat(t.indentation)+t.sourceLine+`
`}i(Hu,"deparseLine");$o("markdown",$u);$o("java",zu);p();p();p();var zt=class extends Error{constructor(n,r){super(n,{cause:r});this.code="CopilotPromptLoadFailure"}static{i(this,"CopilotPromptLoadFailure")}};var Mn=Ut(ol()),al=require("fs"),ul=require("path");var sl=new Map;function Ge(t="cl100k_base"){let e=sl.get(t);return e!==void 0||(t==="mock"?e=new ns:t==="approximate"?e=new rs:e=new ts(t),sl.set(t,e)),e}i(Ge,"getTokenizer");function Vp(t){if(!t.endsWith(".tiktoken.noindex"))throw new Error("File does not end with .tiktoken.noindex");let e=(0,al.readFileSync)(t,"utf-8"),n=new Map;for(let r of e.split(`
`)){if(!r)continue;let o=Buffer.from(r,"base64");n.set(o,n.size)}return n}i(Vp,"parseTikTokenNoIndex");var ts=class{static{i(this,"TTokenizer")}constructor(e){try{this._tokenizer=(0,Mn.createTokenizer)(Vp((0,ul.join)(__dirname,`./resources/${e}.tiktoken.noindex`)),(0,Mn.getSpecialTokensByEncoder)(e),(0,Mn.getRegexByEncoder)(e),32768)}catch(n){throw n instanceof Error?new zt("Could not load tokenizer",n):n}}tokenize(e){return this._tokenizer.encode(e)}detokenize(e){return this._tokenizer.decode(e)}tokenLength(e){return this.tokenize(e).length}tokenizeStrings(e){return this.tokenize(e).map(r=>this.detokenize([r]))}takeLastTokens(e,n){if(n<=0)return{text:"",tokens:[]};let r=4,o=1,s=Math.min(e.length,n*r),a=e.slice(-s),u=this.tokenize(a);for(;u.length<n+2&&s<e.length;)s=Math.min(e.length,s+n*o),a=e.slice(-s),u=this.tokenize(a);return u.length<n?{text:e,tokens:u}:(u=u.slice(-n),{text:this.detokenize(u),tokens:u})}takeFirstTokens(e,n){if(n<=0)return{text:"",tokens:[]};let r=4,o=1,s=Math.min(e.length,n*r),a=e.slice(0,s),u=this.tokenize(a);for(;u.length<n+2&&s<e.length;)s=Math.min(e.length,s+n*o),a=e.slice(0,s),u=this.tokenize(a);return u.length<n?{text:e,tokens:u}:(u=u.slice(0,n),{text:this.detokenize(u),tokens:u})}takeLastLinesTokens(e,n){let{text:r}=this.takeLastTokens(e,n);if(r.length===e.length||e[e.length-r.length-1]===`
`)return r;let o=r.indexOf(`
`);return r.substring(o+1)}},ns=class{constructor(){this.hash=i(e=>{let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);n=(n<<5)-n+o,n&=n&65535}return n},"hash")}static{i(this,"MockTokenizer")}tokenize(e){return this.tokenizeStrings(e).map(this.hash)}detokenize(e){return e.map(n=>n.toString()).join(" ")}tokenizeStrings(e){return e.split(/\b/)}tokenLength(e){return this.tokenizeStrings(e).length}takeLastTokens(e,n){let r=this.tokenizeStrings(e).slice(-n);return{text:r.join(""),tokens:r.map(this.hash)}}takeFirstTokens(e,n){let r=this.tokenizeStrings(e).slice(0,n);return{text:r.join(""),tokens:r.map(this.hash)}}takeLastLinesTokens(e,n){let{text:r}=this.takeLastTokens(e,n);if(r.length===e.length||e[e.length-r.length-1]===`
`)return r;let o=r.indexOf(`
`);return r.substring(o+1)}},rs=class{static{i(this,"ApproximateTokenizer")}tokenize(e){throw new Error("Not implemented")}detokenize(e){throw new Error("Not implemented")}tokenizeStrings(e){throw new Error("Not implemented")}tokenLength(e){return Math.ceil(e.length/4)}takeLastTokens(e,n){throw new Error("Not implemented")}takeFirstTokens(e,n){throw new Error("Not implemented")}takeLastLinesTokens(e,n){throw new Error("Not implemented")}};var Gp={worthUp:.9,worthSibling:.88,worthDown:.8};function is(t,e,n=Ge(),r=Gp){let o=un(t,s=>s?1:void 0);return Ue(o,s=>{if(je(s))return;let a=s.subs.reduce((u,d)=>Math.max(u,d.label??0),0);s.label=Math.max(s.label??0,a*r.worthUp)},"bottomUp"),Ue(o,s=>{if(je(s))return;let a=s.subs.map(f=>f.label??0),u=[...a];for(let f=0;f<a.length;f++)a[f]!==0&&(u=u.map((g,v)=>Math.max(g,Math.pow(r.worthSibling,Math.abs(f-v))*a[f])));let d=s.label;d!==void 0&&(u=u.map(f=>Math.max(f,r.worthDown*d))),s.subs.forEach((f,g)=>f.label=u[g])},"topDown"),Zp(o,e,n)}i(is,"fromTreeWithFocussedLines");function Zp(t,e,n=Ge()){let r=Bo(t,[],(o,s)=>((o.type==="line"||o.type==="blank")&&s.push(o.type==="line"?[Hu(o).trimEnd(),o.label??0]:["",o.label??0]),s),"topDown");return new cn(r,e,n)}i(Zp,"fromTreeWithValuedLines");function ll(t,e=!0,n=!0,r,o=Ge()){let s=typeof t=="string"?gr(t):gr(t.source,t.languageId);ln(s);let a=un(s,u=>e&&u!=="closer");return Ue(a,u=>{u.label===void 0&&(u.label=e&&u.label!==!1)},"topDown"),e&&Ue(a,u=>{if(u.label){let d=!1;for(let f of[...u.subs].reverse())f.label&&!d?d=!0:f.label=!1}else for(let d of u.subs)d.label=!1;u.subs.length>0&&(u.label=!1)},"topDown"),n&&Ue(a,u=>{u.label||=(sn(u)||je(u))&&u.lineNumber==0},"topDown"),is(a,r,o)}i(ll,"elidableTextForSourceCode");p();var _r=class t{constructor(e,n,r,o="strict",s){this.text=e;this._value=n;this._cost=r;this.metadata=s;if(e.includes(`
`)&&o!=="none")throw new Error("LineWithValueAndCost: text contains newline");if(n<0&&o!=="none")throw new Error("LineWithValueAndCost: value is negative");if(r<0&&o!=="none")throw new Error("LineWithValueAndCost: cost is negative");if(o=="strict"&&n>1)throw new Error("Value should normally be between 0 and 1 -- set validation to `loose` to ignore this error")}static{i(this,"LineWithValueAndCost")}get value(){return this._value}get cost(){return this._cost}adjustValue(e){return this._value*=e,this}recost(e=n=>Ge().tokenLength(n+`
`)){return this._cost=e(this.text),this}copy(){return new t(this.text,this.value,this.cost,"none",this.metadata)}};var cn=class t{constructor(e,n,r=Ge()){this.metadata=n;this.tokenizer=r;this.lines=[];let o=[];for(let s of e){let a=Array.isArray(s)?s[1]:1,u=Array.isArray(s)?s[0]:s;typeof u=="string"?u.split(`
`).forEach(d=>o.push(new _r(d,a,r.tokenLength(d+`
`),"strict",this.metadata))):u instanceof t?u.lines.forEach(d=>o.push(d.copy().adjustValue(a))):"source"in u&&"languageId"in u&&ll(u).lines.forEach(d=>o.push(d.copy().adjustValue(a)))}this.lines=o}static{i(this,"ElidableText")}adjust(e){this.lines.forEach(n=>n.adjustValue(e))}recost(e=n=>Ge().tokenLength(n+`
`)){this.lines.forEach(n=>n.recost(e))}elide(e,n="[...]",r=!0,o="removeLeastDesirable",s=this.tokenizer){let a=this.lines.map(u=>u.copy());return Qp(a,e,n,r,o,s)}};function Qp(t,e,n,r,o,s){if(s.tokenLength(n+`
`)>e)throw new Error("maxTokens must be larger than the ellipsis length");o==="removeLeastBangForBuck"&&t.forEach(v=>v.adjustValue(1/v.cost));let a=t.reduce((v,w)=>Math.max(v,w.value),0)+1,u=t.reduce((v,w)=>Math.max(v,w.text.length),0)+1,d=n.trim(),f=t.reduce((v,w)=>v+w.cost,0),g=t.length+1;for(;f>e&&g-->=-1;){let v=t.reduce((M,V)=>V.value<M.value?V:M),w=t.indexOf(v),x=t.slice(0,w+1).reverse().find(M=>M.text.trim()!=="")??{text:""},D=r?Math.min(x.text.match(/^\s*/)?.[0].length??0,t[w-1]?.text.trim()===d?t[w-1]?.text.match(/^\s*/)?.[0].length??0:u,t[w+1]?.text.trim()===d?t[w+1]?.text.match(/^\s*/)?.[0].length??0:u):0,R=" ".repeat(D)+n,q=new _r(R,a,s.tokenLength(R+`
`),"loose",v.metadata);t.splice(w,1,q),t[w+1]?.text.trim()===d&&t.splice(w+1,1),t[w-1]?.text.trim()===d&&t.splice(w-1,1);let F=t.reduce((M,V)=>M+V.cost,0);F>=f&&t.every(M=>M.value===a)&&(r=!1),f=F}if(g<0)throw new Error("Infinite loop in ElidableText.makePrompt: Defensive counter < 0 in ElidableText.makePrompt with end text");return{getText:i(()=>t.map(v=>v.text).join(`
`),"getText"),getLines:i(()=>t,"getLines")}}i(Qp,"elide");p();p();function gt(){}i(gt,"Diff");gt.prototype={diff:i(function(e,n){var r,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=o.callback;typeof o=="function"&&(s=o,o={});var a=this;function u(Y){return Y=a.postProcess(Y,o),s?(setTimeout(function(){s(Y)},0),!0):Y}i(u,"done"),e=this.castInput(e,o),n=this.castInput(n,o),e=this.removeEmpty(this.tokenize(e,o)),n=this.removeEmpty(this.tokenize(n,o));var d=n.length,f=e.length,g=1,v=d+f;o.maxEditLength!=null&&(v=Math.min(v,o.maxEditLength));var w=(r=o.timeout)!==null&&r!==void 0?r:1/0,x=Date.now()+w,D=[{oldPos:-1,lastComponent:void 0}],R=this.extractCommon(D[0],n,e,0,o);if(D[0].oldPos+1>=f&&R+1>=d)return u(cl(a,D[0].lastComponent,n,e,a.useLongestToken));var q=-1/0,F=1/0;function M(){for(var Y=Math.max(q,-g);Y<=Math.min(F,g);Y+=2){var ee=void 0,me=D[Y-1],se=D[Y+1];me&&(D[Y-1]=void 0);var ge=!1;if(se){var Oe=se.oldPos-Y;ge=se&&0<=Oe&&Oe<d}var Fe=me&&me.oldPos+1<f;if(!ge&&!Fe){D[Y]=void 0;continue}if(!Fe||ge&&me.oldPos<se.oldPos?ee=a.addToPath(se,!0,!1,0,o):ee=a.addToPath(me,!1,!0,1,o),R=a.extractCommon(ee,n,e,Y,o),ee.oldPos+1>=f&&R+1>=d)return u(cl(a,ee.lastComponent,n,e,a.useLongestToken));D[Y]=ee,ee.oldPos+1>=f&&(F=Math.min(F,Y-1)),R+1>=d&&(q=Math.max(q,Y+1))}g++}if(i(M,"execEditLength"),s)i(function Y(){setTimeout(function(){if(g>v||Date.now()>x)return s();M()||Y()},0)},"exec")();else for(;g<=v&&Date.now()<=x;){var V=M();if(V)return V}},"diff"),addToPath:i(function(e,n,r,o,s){var a=e.lastComponent;return a&&!s.oneChangePerToken&&a.added===n&&a.removed===r?{oldPos:e.oldPos+o,lastComponent:{count:a.count+1,added:n,removed:r,previousComponent:a.previousComponent}}:{oldPos:e.oldPos+o,lastComponent:{count:1,added:n,removed:r,previousComponent:a}}},"addToPath"),extractCommon:i(function(e,n,r,o,s){for(var a=n.length,u=r.length,d=e.oldPos,f=d-o,g=0;f+1<a&&d+1<u&&this.equals(r[d+1],n[f+1],s);)f++,d++,g++,s.oneChangePerToken&&(e.lastComponent={count:1,previousComponent:e.lastComponent,added:!1,removed:!1});return g&&!s.oneChangePerToken&&(e.lastComponent={count:g,previousComponent:e.lastComponent,added:!1,removed:!1}),e.oldPos=d,f},"extractCommon"),equals:i(function(e,n,r){return r.comparator?r.comparator(e,n):e===n||r.ignoreCase&&e.toLowerCase()===n.toLowerCase()},"equals"),removeEmpty:i(function(e){for(var n=[],r=0;r<e.length;r++)e[r]&&n.push(e[r]);return n},"removeEmpty"),castInput:i(function(e){return e},"castInput"),tokenize:i(function(e){return Array.from(e)},"tokenize"),join:i(function(e){return e.join("")},"join"),postProcess:i(function(e){return e},"postProcess")};function cl(t,e,n,r,o){for(var s=[],a;e;)s.push(e),a=e.previousComponent,delete e.previousComponent,e=a;s.reverse();for(var u=0,d=s.length,f=0,g=0;u<d;u++){var v=s[u];if(v.removed)v.value=t.join(r.slice(g,g+v.count)),g+=v.count;else{if(!v.added&&o){var w=n.slice(f,f+v.count);w=w.map(function(x,D){var R=r[g+D];return R.length>x.length?R:x}),v.value=t.join(w)}else v.value=t.join(n.slice(f,f+v.count));f+=v.count,v.added||(g+=v.count)}}return s}i(cl,"buildValues");var uv=new gt;function dl(t,e){var n;for(n=0;n<t.length&&n<e.length;n++)if(t[n]!=e[n])return t.slice(0,n);return t.slice(0,n)}i(dl,"longestCommonPrefix");function fl(t,e){var n;if(!t||!e||t[t.length-1]!=e[e.length-1])return"";for(n=0;n<t.length&&n<e.length;n++)if(t[t.length-(n+1)]!=e[e.length-(n+1)])return t.slice(-n);return t.slice(-n)}i(fl,"longestCommonSuffix");function os(t,e,n){if(t.slice(0,e.length)!=e)throw Error("string ".concat(JSON.stringify(t)," doesn't start with prefix ").concat(JSON.stringify(e),"; this is a bug"));return n+t.slice(e.length)}i(os,"replacePrefix");function ss(t,e,n){if(!e)return t+n;if(t.slice(-e.length)!=e)throw Error("string ".concat(JSON.stringify(t)," doesn't end with suffix ").concat(JSON.stringify(e),"; this is a bug"));return t.slice(0,-e.length)+n}i(ss,"replaceSuffix");function yr(t,e){return os(t,e,"")}i(yr,"removePrefix");function ci(t,e){return ss(t,e,"")}i(ci,"removeSuffix");function ml(t,e){return e.slice(0,Jp(t,e))}i(ml,"maximumOverlap");function Jp(t,e){var n=0;t.length>e.length&&(n=t.length-e.length);var r=e.length;t.length<e.length&&(r=t.length);var o=Array(r),s=0;o[0]=0;for(var a=1;a<r;a++){for(e[a]==e[s]?o[a]=o[s]:o[a]=s;s>0&&e[a]!=e[s];)s=o[s];e[a]==e[s]&&s++}s=0;for(var u=n;u<t.length;u++){for(;s>0&&t[u]!=e[s];)s=o[s];t[u]==e[s]&&s++}return s}i(Jp,"overlapCount");var di="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",Kp=new RegExp("[".concat(di,"]+|\\s+|[^").concat(di,"]"),"ug"),fi=new gt;fi.equals=function(t,e,n){return n.ignoreCase&&(t=t.toLowerCase(),e=e.toLowerCase()),t.trim()===e.trim()};fi.tokenize=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n;if(e.intlSegmenter){if(e.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');n=Array.from(e.intlSegmenter.segment(t),function(s){return s.segment})}else n=t.match(Kp)||[];var r=[],o=null;return n.forEach(function(s){/\s/.test(s)?o==null?r.push(s):r.push(r.pop()+s):/\s/.test(o)?r[r.length-1]==o?r.push(r.pop()+s):r.push(o+s):r.push(s),o=s}),r};fi.join=function(t){return t.map(function(e,n){return n==0?e:e.replace(/^\s+/,"")}).join("")};fi.postProcess=function(t,e){if(!t||e.oneChangePerToken)return t;var n=null,r=null,o=null;return t.forEach(function(s){s.added?r=s:s.removed?o=s:((r||o)&&pl(n,o,r,s),n=s,r=null,o=null)}),(r||o)&&pl(n,o,r,null),t};function pl(t,e,n,r){if(e&&n){var o=e.value.match(/^\s*/)[0],s=e.value.match(/\s*$/)[0],a=n.value.match(/^\s*/)[0],u=n.value.match(/\s*$/)[0];if(t){var d=dl(o,a);t.value=ss(t.value,a,d),e.value=yr(e.value,d),n.value=yr(n.value,d)}if(r){var f=fl(s,u);r.value=os(r.value,u,f),e.value=ci(e.value,f),n.value=ci(n.value,f)}}else if(n)t&&(n.value=n.value.replace(/^\s*/,"")),r&&(r.value=r.value.replace(/^\s*/,""));else if(t&&r){var g=r.value.match(/^\s*/)[0],v=e.value.match(/^\s*/)[0],w=e.value.match(/\s*$/)[0],x=dl(g,v);e.value=yr(e.value,x);var D=fl(yr(g,x),w);e.value=ci(e.value,D),r.value=os(r.value,g,D),t.value=ss(t.value,g,g.slice(0,g.length-D.length))}else if(r){var R=r.value.match(/^\s*/)[0],q=e.value.match(/\s*$/)[0],F=ml(q,R);e.value=ci(e.value,F)}else if(t){var M=t.value.match(/\s*$/)[0],V=e.value.match(/^\s*/)[0],Y=ml(M,V);e.value=yr(e.value,Y)}}i(pl,"dedupeWhitespaceInChangeObjects");var Xp=new gt;Xp.tokenize=function(t){var e=new RegExp("(\\r?\\n)|[".concat(di,"]+|[^\\S\\n\\r]+|[^").concat(di,"]"),"ug");return t.match(e)||[]};var cs=new gt;cs.tokenize=function(t,e){e.stripTrailingCr&&(t=t.replace(/\r\n/g,`
`));var n=[],r=t.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var o=0;o<r.length;o++){var s=r[o];o%2&&!e.newlineIsToken?n[n.length-1]+=s:n.push(s)}return n};cs.equals=function(t,e,n){return n.ignoreWhitespace?((!n.newlineIsToken||!t.includes(`
`))&&(t=t.trim()),(!n.newlineIsToken||!e.includes(`
`))&&(e=e.trim())):n.ignoreNewlineAtEof&&!n.newlineIsToken&&(t.endsWith(`
`)&&(t=t.slice(0,-1)),e.endsWith(`
`)&&(e=e.slice(0,-1))),gt.prototype.equals.call(this,t,e,n)};var Yp=new gt;Yp.tokenize=function(t){return t.split(/(\S.+?[.!?])(?=\s+|$)/)};var eg=new gt;eg.tokenize=function(t){return t.split(/([{}:;,]|\s+)/)};function as(t){"@babel/helpers - typeof";return as=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},as(t)}i(as,"_typeof");var br=new gt;br.useLongestToken=!0;br.tokenize=cs.tokenize;br.castInput=function(t,e){var n=e.undefinedReplacement,r=e.stringifyReplacer,o=r===void 0?function(s,a){return typeof a>"u"?n:a}:r;return typeof t=="string"?t:JSON.stringify(us(t,null,null,o),o,"  ")};br.equals=function(t,e,n){return gt.prototype.equals.call(br,t.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"),n)};function us(t,e,n,r,o){e=e||[],n=n||[],r&&(t=r(o,t));var s;for(s=0;s<e.length;s+=1)if(e[s]===t)return n[s];var a;if(Object.prototype.toString.call(t)==="[object Array]"){for(e.push(t),a=new Array(t.length),n.push(a),s=0;s<t.length;s+=1)a[s]=us(t[s],e,n,r,o);return e.pop(),n.pop(),a}if(t&&t.toJSON&&(t=t.toJSON()),as(t)==="object"&&t!==null){e.push(t),a={},n.push(a);var u=[],d;for(d in t)Object.prototype.hasOwnProperty.call(t,d)&&u.push(d);for(u.sort(),s=0;s<u.length;s+=1)d=u[s],a[d]=us(t[d],e,n,r,d);e.pop(),n.pop()}else a=t;return a}i(us,"canonicalize");var ls=new gt;ls.tokenize=function(t){return t.slice()};ls.join=ls.removeEmpty=function(t){return t};p();var hl={abap:{lineComment:{start:'"',end:""},markdownLanguageIds:["abap","sap-abap"]},aspdotnet:{lineComment:{start:"<%--",end:"--%>"}},bat:{lineComment:{start:"REM",end:""}},bibtex:{lineComment:{start:"%",end:""},markdownLanguageIds:["bibtex"]},blade:{lineComment:{start:"#",end:""}},BluespecSystemVerilog:{lineComment:{start:"//",end:""}},c:{lineComment:{start:"//",end:""},markdownLanguageIds:["c","h"]},clojure:{lineComment:{start:";",end:""},markdownLanguageIds:["clojure","clj"]},coffeescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["coffeescript","coffee","cson","iced"]},cpp:{lineComment:{start:"//",end:""},markdownLanguageIds:["cpp","hpp","cc","hh","c++","h++","cxx","hxx"]},csharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["csharp","cs"]},css:{lineComment:{start:"/*",end:"*/"}},cuda:{lineComment:{start:"//",end:""}},dart:{lineComment:{start:"//",end:""}},dockerfile:{lineComment:{start:"#",end:""},markdownLanguageIds:["dockerfile","docker"]},dotenv:{lineComment:{start:"#",end:""}},elixir:{lineComment:{start:"#",end:""}},erb:{lineComment:{start:"<%#",end:"%>"}},erlang:{lineComment:{start:"%",end:""},markdownLanguageIds:["erlang","erl"]},fsharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["fsharp","fs","fsx","fsi","fsscript"]},go:{lineComment:{start:"//",end:""},markdownLanguageIds:["go","golang"]},graphql:{lineComment:{start:"#",end:""}},groovy:{lineComment:{start:"//",end:""}},haml:{lineComment:{start:"-#",end:""}},handlebars:{lineComment:{start:"{{!",end:"}}"},markdownLanguageIds:["handlebars","hbs","html.hbs","html.handlebars"]},haskell:{lineComment:{start:"--",end:""},markdownLanguageIds:["haskell","hs"]},hlsl:{lineComment:{start:"//",end:""}},html:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["html","xhtml"]},ini:{lineComment:{start:";",end:""}},java:{lineComment:{start:"//",end:""},markdownLanguageIds:["java","jsp"]},javascript:{lineComment:{start:"//",end:""},markdownLanguageIds:["javascript","js"]},javascriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},jsonc:{lineComment:{start:"//",end:""}},jsx:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},julia:{lineComment:{start:"#",end:""},markdownLanguageIds:["julia","jl"]},kotlin:{lineComment:{start:"//",end:""},markdownLanguageIds:["kotlin","kt"]},latex:{lineComment:{start:"%",end:""},markdownLanguageIds:["tex"]},legend:{lineComment:{start:"//",end:""}},less:{lineComment:{start:"//",end:""}},lua:{lineComment:{start:"--",end:""},markdownLanguageIds:["lua","pluto"]},makefile:{lineComment:{start:"#",end:""},markdownLanguageIds:["makefile","mk","mak","make"]},markdown:{lineComment:{start:"[]: #",end:""},markdownLanguageIds:["markdown","md","mkdown","mkd"]},"objective-c":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec","mm","objc","obj-c"]},"objective-cpp":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec++","objc+"]},perl:{lineComment:{start:"#",end:""},markdownLanguageIds:["perl","pl","pm"]},php:{lineComment:{start:"//",end:""}},powershell:{lineComment:{start:"#",end:""},markdownLanguageIds:["powershell","ps","ps1"]},pug:{lineComment:{start:"//",end:""}},python:{lineComment:{start:"#",end:""},markdownLanguageIds:["python","py","gyp"]},ql:{lineComment:{start:"//",end:""}},r:{lineComment:{start:"#",end:""}},razor:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["cshtml","razor","razor-cshtml"]},ruby:{lineComment:{start:"#",end:""},markdownLanguageIds:["ruby","rb","gemspec","podspec","thor","irb"]},rust:{lineComment:{start:"//",end:""},markdownLanguageIds:["rust","rs"]},sass:{lineComment:{start:"//",end:""}},scala:{lineComment:{start:"//",end:""}},scss:{lineComment:{start:"//",end:""}},shellscript:{lineComment:{start:"#",end:""},markdownLanguageIds:["bash","sh","zsh"]},slang:{lineComment:{start:"//",end:""}},slim:{lineComment:{start:"/",end:""}},solidity:{lineComment:{start:"//",end:""},markdownLanguageIds:["solidity","sol"]},sql:{lineComment:{start:"--",end:""}},stylus:{lineComment:{start:"//",end:""}},svelte:{lineComment:{start:"<!--",end:"-->"}},swift:{lineComment:{start:"//",end:""}},systemverilog:{lineComment:{start:"//",end:""}},terraform:{lineComment:{start:"#",end:""}},tex:{lineComment:{start:"%",end:""}},typescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["typescript","ts"]},typescriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["tsx"]},vb:{lineComment:{start:"'",end:""},markdownLanguageIds:["vb","vbscript"]},verilog:{lineComment:{start:"//",end:""}},"vue-html":{lineComment:{start:"<!--",end:"-->"}},vue:{lineComment:{start:"//",end:""}},xml:{lineComment:{start:"<!--",end:"-->"}},xsl:{lineComment:{start:"<!--",end:"-->"}},yaml:{lineComment:{start:"#",end:""},markdownLanguageIds:["yaml","yml"]}},gl={};for(let[t,e]of Object.entries(hl))if(e.markdownLanguageIds)for(let n of e.markdownLanguageIds)gl[n]=t;else gl[t]=t;p();p();p();p();p();p();p();p();var rg={tokenizerName:"cl100k_base"};function ig(t){return{...rg,...t}}i(ig,"cursorContextOptions");function Cn(t,e={}){let n=ig(e),r=Ge(n.tokenizerName);if(n.maxLineCount!==void 0&&n.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(n.maxTokenLength!==void 0&&n.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(n.maxLineCount===0||n.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:n.tokenizerName};let o=t.source.slice(0,t.offset);return n.maxLineCount!==void 0&&(o=o.split(`
`).slice(-n.maxLineCount).join(`
`)),n.maxTokenLength!==void 0&&(o=r.takeLastLinesTokens(o,n.maxTokenLength)),{context:o,lineCount:o.split(`
`).length,tokenLength:r.tokenLength(o),tokenizerName:n.tokenizerName}}i(Cn,"getCursorContext");p();var ds=class{constructor(e){this.keys=[];this.cache={};this.size=e}static{i(this,"FifoCache")}put(e,n){if(this.cache[e]=n,this.keys.length>this.size){this.keys.push(e);let r=this.keys.shift()??"";delete this.cache[r]}}get(e){return this.cache[e]}};var ms=class{static{i(this,"Tokenizer")}constructor(e){this.stopsForLanguage=ug.get(e.languageId)??ag}tokenize(e){return new Set(og(e).filter(n=>!this.stopsForLanguage.has(n)))}},_l=new ds(20),Ln=class{static{i(this,"WindowedMatcher")}constructor(e){this.referenceDoc=e,this.tokenizer=new ms(e)}get referenceTokens(){return this.createReferenceTokens()}async createReferenceTokens(){return this.referenceTokensCache??=this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(e,n="descending"){return n=="ascending"?e.sort((r,o)=>r.score>o.score?1:-1):n=="descending"?e.sort((r,o)=>r.score>o.score?-1:1):e}async retrieveAllSnippets(e,n="descending"){let r=[];if(e.source.length===0||(await this.referenceTokens).size===0)return r;let o=e.source.split(`
`),s=this.id()+":"+e.source,a=_l.get(s)??[],u=a.length==0,d=u?o.map(f=>this.tokenizer.tokenize(f),this.tokenizer):[];for(let[f,[g,v]]of this.getWindowsDelineations(o).entries()){if(u){let D=new Set;d.slice(g,v).forEach(R=>R.forEach(q=>D.add(q),D)),a.push(D)}let w=a[f],x=this.similarityScore(w,await this.referenceTokens);if(r.length&&g>0&&r[r.length-1].endLine>g){r[r.length-1].score<x&&(r[r.length-1].score=x,r[r.length-1].startLine=g,r[r.length-1].endLine=v);continue}r.push({score:x,startLine:g,endLine:v})}return u&&_l.put(s,a),this.sortScoredSnippets(r,n)}findMatches(e,n){return this.findBestMatch(e,n)}async findBestMatch(e,n){if(e.source.length===0||(await this.referenceTokens).size===0)return[];let r=e.source.split(`
`),o=await this.retrieveAllSnippets(e,"descending");if(o.length===0)return[];let s=[];for(let a=0;a<o.length&&a<n;a++)if(o[a].score!==0){let u=r.slice(o[a].startLine,o[a].endLine).join(`
`);s.push({snippet:u,semantics:"snippet",provider:"similar-files",...o[a]})}return s}};function og(t){return t.split(/[^a-zA-Z0-9]/).filter(e=>e.length>0)}i(og,"splitIntoWords");var sg=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),ag=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...sg]),ug=new Map([]);p();function mi(t,e){let n=[],r=e.length;if(r==0)return[];if(r<t)return[[0,r]];for(let o=0;o<r-t+1;o++)n.push([o,o+t]);return n}i(mi,"getBasicWindowDelineations");var pi=class t extends Ln{static{i(this,"FixedWindowSizeJaccardMatcher")}constructor(e,n){super(e),this.windowLength=n}static{this.FACTORY=i(e=>({to:i(n=>new t(n,e),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(e){return mi(this.windowLength,e)}_getCursorContextInfo(e){return Cn(e,{maxLineCount:this.windowLength})}similarityScore(e,n){return lg(e,n)}};function lg(t,e){let n=new Set;return t.forEach(r=>{e.has(r)&&n.add(r)}),n.size/(t.size+e.size-n.size)}i(lg,"computeScore");p();p();var vl=require("fs"),gi=Ut(require("path")),hi=Ut(yl());var bl={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby",csharp:"c_sharp",java:"java"};function wl(t){if(!(t in bl))throw new Error(`Unrecognized language: ${t}`);return bl[t]}i(wl,"languageIdToWasmLanguage");var ps=new Map;async function cg(t){let e,n=gi.default.resolve(gi.default.extname(__filename)!==".ts"?__dirname:gi.default.resolve(__dirname,"../../dist"),`tree-sitter-${t}.wasm`);try{e=await vl.promises.readFile(n)}catch(r){throw r instanceof Error&&"code"in r&&typeof r.code=="string"&&r.name==="Error"?new zt(`Could not load tree-sitter-${t}.wasm`,r):r}return hi.default.Language.load(e)}i(cg,"loadWasmLanguage");function dg(t){let e=wl(t);if(!ps.has(e)){let n=cg(e);ps.set(e,n)}return ps.get(e)}i(dg,"getLanguage");var gs=class extends Error{static{i(this,"WrappedError")}constructor(e,n){super(e,{cause:n})}};async function dn(t,e){await hi.default.init();let n;try{n=new hi.default}catch(s){throw s&&typeof s=="object"&&"message"in s&&typeof s.message=="string"&&s.message.includes("table index is out of bounds")?new gs(`Could not init Parse for language <${t}>`,s):s}let r=await dg(t);n.setLanguage(r);let o=n.parse(e);return n.delete(),o}i(dn,"parseTreeSitter");function fg(t,e){let n=[];for(let r of t){if(!r[1]){let o=e.tree.getLanguage();r[1]=o.query(r[0])}n.push(...r[1].matches(e))}return n}i(fg,"innerQuery");var mg=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];function Sl(t){return fg([mg],t).length==1}i(Sl,"queryPythonIsDocstring");var _i=class t extends Ln{static{i(this,"BlockTokenSubsetMatcher")}constructor(e,n){super(e),this.windowLength=n}static{this.FACTORY=i(e=>({to:i(n=>new t(n,e),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(e){return mi(this.windowLength,e)}_getCursorContextInfo(e){return Cn(e,{maxLineCount:this.windowLength})}get referenceTokens(){return this.createReferenceTokensForLanguage()}async createReferenceTokensForLanguage(){return this.referenceTokensCache?this.referenceTokensCache:(this.referenceTokensCache=t.syntaxAwareSupportsLanguage(this.referenceDoc.languageId)?await this.syntaxAwareReferenceTokens():await super.referenceTokens,this.referenceTokensCache)}async syntaxAwareReferenceTokens(){let e=(await this.getEnclosingMemberStart(this.referenceDoc.source,this.referenceDoc.offset))?.startIndex,n=this.referenceDoc.offset,r=e?this.referenceDoc.source.slice(e,n):Cn(this.referenceDoc,{maxLineCount:this.windowLength}).context;return this.tokenizer.tokenize(r)}static syntaxAwareSupportsLanguage(e){switch(e){case"csharp":return!0;default:return!1}}similarityScore(e,n){return pg(e,n)}async getEnclosingMemberStart(e,n){let r;try{r=await dn(this.referenceDoc.languageId,e);let o=r.rootNode.namedDescendantForIndex(n);for(;o&&!(t.isMember(o)||t.isBlock(o));)o=o.parent??void 0;return o}finally{r?.delete()}}static isMember(e){switch(e?.type){case"method_declaration":case"property_declaration":case"field_declaration":case"constructor_declaration":return!0;default:return!1}}static isBlock(e){switch(e?.type){case"class_declaration":case"struct_declaration":case"record_declaration":case"enum_declaration":case"interface_declaration":return!0;default:return!1}}};function pg(t,e){let n=new Set;return e.forEach(r=>{t.has(r)&&n.add(r)}),n.size}i(pg,"computeScore");function gg(t,e){return(e.useSubsetMatching?_i.FACTORY(e.snippetLength):pi.FACTORY(e.snippetLength)).to(t)}i(gg,"getMatcher");async function El(t,e,n){let r=gg(t,n);return n.maxTopSnippets===0?[]:(await e.filter(s=>s.source.length<n.maxCharPerFile&&s.source.length>0).slice(0,n.maxNumberOfFiles).reduce(async(s,a)=>(await s).concat((await r.findMatches(a,n.maxSnippetsPerFile)).map(u=>({relativePath:a.relativePath,...u}))),Promise.resolve([]))).filter(s=>s.score&&s.snippet&&s.score>n.threshold).sort((s,a)=>s.score-a.score).slice(-n.maxTopSnippets)}i(El,"getSimilarSnippets");p();p();p();var _g=500,zw=8192-_g;p();p();p();p();p();p();p();p();var xi=Ut(require("path")),kt=require("worker_threads");function ih(t){return new Promise(e=>{setTimeout(()=>e(`delay: ${t}`),t)})}i(ih,"sleep");var oc=["getSimilarSnippets","sleep"],Ws=class{constructor(){this.nextHandlerId=0;this.handlers=new Map;this.fns=new Map;this.getSimilarSnippets=El;this.sleep=ih;!kt.isMainThread&&kt.workerData?.port&&(ic(),process.cwd=()=>kt.workerData.cwd,this.configureWorkerResponse(kt.workerData.port))}static{i(this,"WorkerProxy")}initWorker(){let{port1:e,port2:n}=new kt.MessageChannel;this.port=e,this.worker=new kt.Worker(xi.default.resolve(xi.default.extname(__filename)!==".ts"?__dirname:xi.default.resolve(__dirname,"../../dist"),"workerProxy.js"),{workerData:{port:n,cwd:process.cwd()},transferList:[n]}),this.port.on("message",r=>this.handleMessage(r)),this.port.on("error",r=>this.handleError(r))}startThreading(){if(this.worker)throw new Error("Worker thread already initialized.");this.proxyFunctions(),this.initWorker()}stopThreading(){this.worker&&(this.worker.terminate(),this.worker.removeAllListeners(),this.worker=void 0,this.unproxyFunctions(),this.handlers.clear())}proxyFunctions(){for(let e of oc)this.fns.set(e,this[e]),this.proxy(e)}unproxyFunctions(){for(let e of oc){let n=this.fns.get(e);if(n)this[e]=n;else throw new Error(`Unproxy function not found: ${e}`)}}configureWorkerResponse(e){this.port=e,this.port.on("message",n=>void this.onMessage(n))}async onMessage({id:e,fn:n,args:r}){let o=this[n];if(!o)throw new Error(`Function not found: ${n}`);try{let s=await o.apply(this,r);this.port.postMessage({id:e,res:s})}catch(s){if(!(s instanceof Error))throw s;typeof s.code=="string"?this.port.postMessage({id:e,err:s,code:s.code}):this.port.postMessage({id:e,err:s})}}handleMessage({id:e,err:n,code:r,res:o}){let s=this.handlers.get(e);s&&(this.handlers.delete(e),n?(n.code=r,s.reject(n)):s.resolve(o))}handleError(e){let n;if(e instanceof Error){n=e,n.code==="MODULE_NOT_FOUND"&&n.message?.endsWith("workerProxy.js'")&&(n=new zt("Failed to load workerProxy.js"));let r=new Error().stack;n.stack&&r?.match(/^Error\n/)&&(n.stack+=r.replace(/^Error/,""))}else e&&typeof e=="object"&&"name"in e&&e.name==="ExitStatus"&&"status"in e&&typeof e.status=="number"?(n=new Error(`workerProxy.js exited with status ${e.status}`),n.code=`CopilotPromptWorkerExit${e.status}`):n=new Error(`Non-error thrown: ${JSON.stringify(e)}`);for(let r of this.handlers.values())r.reject(n);throw n}proxy(e){this[e]=function(...n){let r=this.nextHandlerId++;return new Promise((o,s)=>{this.handlers.set(r,{resolve:o,reject:s}),this.port?.postMessage({id:r,fn:e,args:n})})}}},oh=new Ws;p();var ki=class{constructor(e,n,r){this.languageId=e;this.nodeMatch=n;this.nodeTypesWithBlockOrStmtChild=r}static{i(this,"BaseBlockParser")}async getNodeMatchAtPosition(e,n,r){let o=await dn(this.languageId,e);try{let a=o.rootNode.descendantForIndex(n);for(;a;){let u=this.nodeMatch[a.type];if(u){if(!this.nodeTypesWithBlockOrStmtChild.has(a.type))break;let d=this.nodeTypesWithBlockOrStmtChild.get(a.type);if((d==""?a.namedChildren[0]:a.childForFieldName(d))?.type==u)break}a=a.parent}return a?r(a):void 0}finally{o.delete()}}getNextBlockAtPosition(e,n,r){return this.getNodeMatchAtPosition(e,n,o=>{let s=o.children.reverse().find(a=>a.type==this.nodeMatch[o.type]);if(s){if(this.languageId=="python"&&s.parent){let a=s.parent.type==":"?s.parent.parent:s.parent,u=a?.nextSibling;for(;u&&u.type=="comment";){let d=u.startPosition.row==s.endPosition.row&&u.startPosition.column>=s.endPosition.column,f=u.startPosition.row>a.endPosition.row&&u.startPosition.column>a.startPosition.column;if(d||f)s=u,u=u.nextSibling;else break}}if(!(s.endIndex>=s.tree.rootNode.endIndex-1&&(s.hasError()||s.parent.hasError())))return r(s)}})}async isBlockBodyFinished(e,n,r){let o=(e+n).trimEnd(),s=await this.getNextBlockAtPosition(o,r,a=>a.endIndex);if(s!==void 0&&s<o.length){let a=s-e.length;return a>0?a:void 0}}getNodeStart(e,n){let r=e.trimEnd();return this.getNodeMatchAtPosition(r,n,o=>o.startIndex)}},Ii=class extends ki{constructor(n,r,o,s,a){super(n,s,a);this.blockEmptyMatch=r;this.lineMatch=o}static{i(this,"RegexBasedBlockParser")}isBlockStart(n){return this.lineMatch.test(n.trimStart())}async isBlockBodyEmpty(n,r){let o=await this.getNextBlockAtPosition(n,r,s=>{s.startIndex<r&&(r=s.startIndex);let a=n.substring(r,s.endIndex).trim();return a==""||a.replace(/\s/g,"")==this.blockEmptyMatch});return o===void 0||o}async isEmptyBlockStart(n,r){return r=ac(n,r),this.isBlockStart(ah(n,r))&&this.isBlockBodyEmpty(n,r)}};function ah(t,e){let n=t.lastIndexOf(`
`,e-1),r=t.indexOf(`
`,e);return r<0&&(r=t.length),t.slice(n+1,r)}i(ah,"getLineAtOffset");function ac(t,e){let n=e;for(;n>0&&/\s/.test(t.charAt(n-1));)n--;return n}i(ac,"rewindToNearestNonWs");function sc(t,e){let n=t.startIndex,r=t.startIndex-t.startPosition.column,o=e.substring(r,n);if(/^\s*$/.test(o))return o}i(sc,"indent");function uh(t,e,n){if(e.startPosition.row<=t.startPosition.row)return!1;let r=sc(t,n),o=sc(e,n);return r!==void 0&&o!==void 0&&r.startsWith(o)}i(uh,"outdented");var Gt=class extends ki{constructor(n,r,o,s,a,u,d){super(n,r,o);this.startKeywords=s;this.blockNodeType=a;this.emptyStatementType=u;this.curlyBraceLanguage=d}static{i(this,"TreeSitterBasedBlockParser")}isBlockEmpty(n,r){let o=n.text.trim();return this.curlyBraceLanguage&&(o.startsWith("{")&&(o=o.slice(1)),o.endsWith("}")&&(o=o.slice(0,-1)),o=o.trim()),!!(o.length==0||this.languageId=="python"&&(n.parent?.type=="class_definition"||n.parent?.type=="function_definition")&&n.children.length==1&&Sl(n.parent))}async isEmptyBlockStart(n,r){if(r>n.length)throw new RangeError("Invalid offset");for(let s=r;s<n.length&&n.charAt(s)!=`
`;s++)if(/\S/.test(n.charAt(s)))return!1;r=ac(n,r);let o=await dn(this.languageId,n);try{let s=o.rootNode.descendantForIndex(r-1);if(s==null||this.curlyBraceLanguage&&s.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&s.parent&&s.parent.type=="object"&&s.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let g=s;for(;g.parent;){if(g.type=="function_signature"||g.type=="method_signature"){let v=s.nextSibling;return v&&g.hasError()&&uh(g,v,n)?!0:!g.children.find(x=>x.type==";")&&g.endIndex<=r}g=g.parent}}let a=null,u=null,d=null,f=s;for(;f!=null;){if(f.type==this.blockNodeType){u=f;break}if(this.nodeMatch[f.type]){d=f;break}if(f.type=="ERROR"){a=f;break}f=f.parent}if(u!=null){if(!u.parent||!this.nodeMatch[u.parent.type])return!1;if(this.languageId=="python"){let g=u.previousSibling;if(g!=null&&g.hasError()&&(g.text.startsWith('"""')||g.text.startsWith("'''")))return!0}return this.isBlockEmpty(u,r)}if(a!=null){if(a.previousSibling?.type=="module"||a.previousSibling?.type=="internal_module"||a.previousSibling?.type=="def")return!0;let g=[...a.children].reverse(),v=g.find(x=>this.startKeywords.includes(x.type)),w=g.find(x=>x.type==this.blockNodeType);if(v){switch(this.languageId){case"python":{v.type=="try"&&s.type=="identifier"&&s.text.length>4&&(w=g.find(R=>R.hasError())?.children.find(R=>R.type=="block"));let x,D=0;for(let R of a.children){if(R.type==":"&&D==0){x=R;break}R.type=="("&&(D+=1),R.type==")"&&(D-=1)}if(x&&v.endIndex<=x.startIndex&&x.nextSibling){if(v.type=="def"){let R=x.nextSibling;if(R.type=='"'||R.type=="'"||R.type=="ERROR"&&(R.text=='"""'||R.text=="'''"))return!0}return!1}break}case"javascript":{let x=g.find(q=>q.type=="formal_parameters");if(v.type=="class"&&x)return!0;let D=g.find(q=>q.type=="{");if(D&&D.startIndex>v.endIndex&&D.nextSibling!=null||g.find(q=>q.type=="do")&&v.type=="while"||v.type=="=>"&&v.nextSibling&&v.nextSibling.type!="{")return!1;break}case"typescript":{let x=g.find(R=>R.type=="{");if(x&&x.startIndex>v.endIndex&&x.nextSibling!=null||g.find(R=>R.type=="do")&&v.type=="while"||v.type=="=>"&&v.nextSibling&&v.nextSibling.type!="{")return!1;break}}return w&&w.startIndex>v.endIndex?this.isBlockEmpty(w,r):!0}}if(d!=null){let g=this.nodeMatch[d.type],v=d.children.slice().reverse().find(w=>w.type==g);if(v)return this.isBlockEmpty(v,r);if(this.nodeTypesWithBlockOrStmtChild.has(d.type)){let w=this.nodeTypesWithBlockOrStmtChild.get(d.type),x=w==""?d.children[0]:d.childForFieldName(w);if(x&&x.type!=this.blockNodeType&&x.type!=this.emptyStatementType)return!1}return!0}return!1}finally{o.delete()}}},DT={python:new Gt("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new Gt("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new Gt("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new Gt("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new Ii("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new Ii("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map),c_sharp:new Gt("csharp",{},new Map([]),[],"block",null,!0),java:new Gt("java",{},new Map([]),[],"block",null,!0)};function hn(t){switch(t){case 0:case 2:case 7:case 8:case 11:case 12:case 13:case 14:return!0;default:return!1}}i(hn,"isTypeDefinition");var at=class t{static{i(this,"TextRange")}static{this.empty=new t(0,0)}constructor(e,n){this.start=e,this.length=n}static fromBounds(e,n){return new t(e,n-e)}get end(){return this.start+this.length}contains(e){return this.start<=e&&this.end>=e}containsRange(e){return this.start<=e.start&&this.end>=e.end}equals(e){return this.start===e.start&&this.length===e.length}getText(e){return e.slice(this.start,this.end)}getTextWithIndentation(e,n){let r=[],o=this.start;for(o=lc(e,e.length,o),uc(r,n);o<this.end;)e[o]!=="\r"&&e[o]!==`
`?r.push(e[o++]):e[o]==="\r"&&o<e.length&&e[o+1]!==`
`||e[o]===`
`?(r.push(`
`),o=lc(e,e.length,++o),uc(r,n)):o++;return r.join("")}};function uc(t,e){for(let n=0;n<e;n++)t.push(" ")}i(uc,"appendIndent");function lc(t,e,n){for(;n<e&&(t[n]===" "||t[n]==="	");)n++;return n}i(lc,"consumeIndent");var qn=class{constructor(e,n,r,o,s,a,u,d,f){this.fileName=e;this.fullyQualifiedName=n;this.unqualifiedName=r;this.commentRange=o;this.nameRange=s;this.bodyRange=a;this.extentRange=u;this.kind=d;this.refKind=f;if(e.indexOf("\\")!==-1)throw new Error("fileName must be normalized to use forward slashes as path separators")}static{i(this,"SymbolRange")}equals(e){return this.fileName===e.fileName&&this.fullyQualifiedName===e.fullyQualifiedName&&this.unqualifiedName===e.unqualifiedName&&this.commentRange.equals(e.commentRange)&&this.nameRange.equals(e.nameRange)&&this.bodyRange.equals(e.bodyRange)&&this.extentRange.equals(e.extentRange)&&this.kind===e.kind&&this.refKind===e.refKind}},_t=class t{constructor(){this.queriesCache=new Map}static{i(this,"SymbolExtractorBase")}async executeQuery(e,n,r){let o;try{o=await dn(this.languageId,n);let s=o.getLanguage(),u=this.getOrCreateQuery(s,r).matches(o.rootNode),d=new ei,f=[];for(let g of u){let v=this.createSymbolRange(d,e,n,g.captures);v&&f.push(v)}return f}finally{o?.delete()}}getOrCreateQuery(e,n){let r=this.queriesCache.get(n);return r||(r=e.query(n),this.queriesCache.set(n,r)),r}createSymbolRange(e,n,r,o){let s=0,a=0,u=0,d=0,f=0,g=0,v=0,w=0,x=null,D=null;for(let F=0;F<o.length;F++){let M=o[F].name;M==="name"?(f=o[F].node.startIndex,g=o[F].node.endIndex):M==="reference"?(f=o[F].node.startIndex,g=o[F].node.endIndex,u=o[F].node.startIndex,d=o[F].node.endIndex,x=M):M==="body"?(v=o[F].node.startIndex,w=o[F].node.endIndex):M==="comment"?(s=s===0?o[F].node.startIndex:Math.min(s,o[F].node.startIndex),a=Math.max(a,o[F].node.endIndex)):M==="receiver"?D=at.fromBounds(o[F].node.startIndex,o[F].node.endIndex).getText(r):(u=o[F].node.startIndex,d=o[F].node.endIndex,x=M)}x==="definition.module.filescoped"&&(w=r.length,d=w);let R=at.fromBounds(u,d),q=u>0||d>0||f>0||g>0?new qn(n,"","",at.fromBounds(s,a),at.fromBounds(f,g),at.fromBounds(v,w),R,t.kindFromString(x),0):null;if(q){t.updateScopesForSymbol(e,q);let F=q.nameRange.getText(r),M=this.createNameFromScopes(r,e.toArray());return M=D?`${D}.${M}`:M,new qn(n,M,F.substring(F.lastIndexOf(".")+1),q.commentRange,q.nameRange,q.bodyRange,q.extentRange,q.kind,0)}return null}static updateScopesForSymbol(e,n){for(;e.tryPeek()&&!e.peek()?.extentRange.containsRange(n.extentRange);)e.pop();e.push(n)}static kindFromString(e){switch(e){case"definition.class":return 0;case"definition.constant":return 1;case"definition.enum_variant":return 3;case"definition.enum":return 2;case"definition.field":return 4;case"definition.function":return 5;case"definition.implementation":return 6;case"definition.interface":return 7;case"definition.macro":return 8;case"definition.method":return 9;case"definition.module":case"definition.module.filescoped":return 10;case"definition.struct":return 11;case"definition.trait":return 12;case"definition.type":return 13;case"definition.union":return 14;case"reference":return 16;default:throw new Error("NotSupportedException")}}};var Ri=class extends _t{static{i(this,"GoSymbolExtractor")}get languageId(){return"go"}extractSymbols(e,n){return this.executeQuery(e,n,lh)}createNameFromScopes(e,n){return n.map(r=>r.nameRange.getText(e)).join(".")}},Pi=class extends _t{static{i(this,"GoReferenceExtractor")}get languageId(){return"go"}createNameFromScopes(e,n){return n.length>0?n[n.length-1].nameRange.getText(e):""}extractReferences(e,n){return this.executeQuery(e,n,ch)}async extractLocalReferences(e,n,r){let o=await this.executeQuery(e,n,dh),s=o.filter(d=>d.kind!==9),a=o.filter(d=>d.kind===9&&d.extentRange.containsRange(r)),u=[];for(let d of a)u.push(...s.filter(f=>d.extentRange.containsRange(f.extentRange)));return u}},lh=`
(
    ((comment)* @comment)
    .
    (type_declaration (type_spec name: (_) @name type: (struct_type (field_declaration_list) @body))) @definition.struct
)

(
    ((comment)* @comment)
    .
    (type_declaration (type_spec name: (_) @name type: (interface_type (_)) @body)) @definition.interface
)

(
    ((comment)* @comment)
    .
    (method_declaration receiver: (parameter_list (parameter_declaration type: [(type_identifier) @receiver (pointer_type (type_identifier) @receiver)] )) name: (_) @name body: (_) @body) @definition.method
)

(
    ((comment)* @comment)
    .
    (method_elem name: (_) @name) @definition.method
)

(
    ((comment)* @comment)
    .
    (function_declaration name: (_) @name) @definition.method
)

(
    ((comment)* @comment)
    .
    (field_declaration name: (_) @name) @definition.field
)
`,ch=`
(call_expression function: (_) @name) @reference

(type_identifier) @reference
`,dh=`
(call_expression function: (_) @name) @reference

(type_identifier) @reference
`;p();var Mi=class extends _t{static{i(this,"JavaSymbolExtractor")}get languageId(){return"java"}extractSymbols(e,n){return this.executeQuery(e,n,fh)}createNameFromScopes(e,n){return n.map(r=>r.nameRange.getText(e)).join(".")}},Ci=class extends _t{static{i(this,"JavaReferenceExtractor")}get languageId(){return"java"}createNameFromScopes(e,n){return n.length>0?n[n.length-1].nameRange.getText(e):""}extractReferences(e,n){return this.executeQuery(e,n,mh)}async extractLocalReferences(e,n,r){let o=await this.executeQuery(e,n,ph),s=o.filter(d=>d.kind!==9),a=o.filter(d=>d.kind===9&&d.extentRange.containsRange(r)),u=[];for(let d of a)u.push(...s.filter(f=>d.extentRange.containsRange(f.extentRange)));return u}},fh=`
(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (class_declaration name: (identifier) @name body: (class_body) @body) @definition.class
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (constructor_declaration name: (identifier) @name body: (constructor_body) @body) @definition.method
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (method_declaration name: (identifier) @name body: (block)? @body) @definition.method
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (interface_declaration name: (identifier) @name body: (interface_body) @body) @definition.interface
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (field_declaration declarator: (variable_declarator name: (identifier) @name)) @definition.field
)

(
    [
        ((line_comment)* @comment)
        ((block_comment)* @comment)
    ]
    .
    (enum_declaration name: (_) @name body: (_) @body) @definition.enum
)

(
    [
        ((line_comment)* @comment)
        ((block_comment)* @comment)
    ]
    .
    (enum_constant name: (identifier) @name) @definition.enum_variant
)
`,mh=`
(method_invocation 
  name: (identifier) @name
) @reference

(type_identifier) @reference
`,ph=`
(method_invocation 
  name: (identifier) @name
) @reference

(type_identifier) @reference
`;p();var gh=new Set(["int","str","float","bool","list","dict","tuple","set"]),Li=class extends _t{static{i(this,"PythonSymbolExtractor")}get languageId(){return"python"}extractSymbols(e,n){return this.executeQuery(e,n,hh)}createNameFromScopes(e,n){return n.map(r=>r.nameRange.getText(e)).join(".")}},Ni=class extends _t{static{i(this,"PythonReferenceExtractor")}get languageId(){return"python"}createNameFromScopes(e,n){return n.length>0?n[n.length-1].nameRange.getText(e):""}async extractReferences(e,n){return(await this.executeQuery(e,n,_h)).filter(o=>!gh.has(o.unqualifiedName))}async extractLocalReferences(e,n,r){let o=await this.executeQuery(e,n,yh),s=o.filter(d=>d.kind!==9),a=o.filter(d=>d.kind===9&&d.extentRange.containsRange(r)),u=[];for(let d of a)u.push(...s.filter(f=>d.extentRange.containsRange(f.extentRange)));return u}},hh=`
(
    ((comment)* @comment)
    .
    (class_definition name: (_) @name body: (_) @body) @definition.class
)

(
    ((comment)* @comment)
    .
    (function_definition name: (_) @name body: (_) @body) @definition.method
)
`,_h=`
(call function: (_) @name) @reference

(type [  
    (identifier)* @name  
    (_ (identifier) @name)* 
]) @reference

(class_definition superclasses: (argument_list (identifier) @name)) @reference
`,yh=`
(call function: (_) @name) @reference

(type [  
    (identifier)* @name  
    (_ (identifier) @name)* 
])  @reference

(class_definition superclasses: (argument_list (identifier) @name)) @reference
`;var Us=[{symbolExtractor:new Mi,referenceExtractor:new Ci,languageId:"java"},{symbolExtractor:new Ri,referenceExtractor:new Pi,languageId:"go"},{symbolExtractor:new Li,referenceExtractor:new Ni,languageId:"python"}];var dc=Us.map(t=>t.referenceExtractor),fc=Us.map(t=>t.symbolExtractor),Hx=Us.map(t=>on[t.languageId].extensions).flat();p();p();var mc=require("fs");async function pc(t,e,n,r,o){let s=new Map,a=0;for(let v of t){let w=v.node.fileName.toLowerCase(),x=s.get(w);x?x.symbols.push(v):s.set(w,{symbols:[v],topRank:a}),a++}if(s.delete(n.toLowerCase()),s.size===0)return[];let u=e,d=e/Math.min(4,s.size),f=[],g=Array.from(s.keys());g.sort((v,w)=>{let x=s.get(v).topRank,D=s.get(w).topRank;return x-D});for(let v of g){let w=s.get(v).symbols;if(w.length===0)continue;let x=w[0].node.fileName,D=w.reduce((R,q)=>R+q.node.extentRange.length,0);for(let R of w){if(u<=5)return f;Nt(o);let q=R.node.extentRange.length/D,F=Math.min(u,q*d),M=(await bh([R])).elide(F).getText();u-=r.tokenLength(M),f.push({uri:x,value:M})}}return f}i(pc,"symbolRangesToCodeSnippets");async function bh(t){if(t.length===0)return new cn([]);let e=t[0].node.fileName,n=[],r="";try{let o=Yr(e);o&&(r=(await mc.promises.readFile(o)).toString())}catch{}for(let o of t)gc(o,r).forEach(s=>n.push(s));return new cn(n)}i(bh,"sameFileSymbolRangeToElidableText");function gc(t,e){let r=[],o=t.node,s=e.substring(Bs(e,o.commentRange.start),o.commentRange.end);r.push([zs(s),1-3e-4]);let a=Bs(e,o.bodyRange.start),u=Bs(e,o.extentRange.start),d=o.bodyRange.length===0?e.substring(u,o.extentRange.end):e.substring(o.commentRange.length===0?u:o.commentRange.end,a);if(hn(o.kind)&&(d="BEGIN "+d.trimStart()),r.push([zs(d),1-1e-4]),t.children.length>0)for(let f of t.children)r.push(...gc(f,e));else{let f=1-(hn(t.node.kind)?3e-4:4e-4),g=e.substring(a,o.bodyRange.end);r.push([zs(g),f])}return hn(o.kind)&&r.push(["END "+d.substring(6),1-1e-4]),r.filter(f=>f[0].length>0)}i(gc,"prepareForElidableText");function Bs(t,e){for(;e-1>=0&&(t[e-1]==="	"||t[e-1]===" ");)e--;return e}i(Bs,"shiftLeftToNearestLineEndingOrAlphanumeric");function zs(t){let e=0;for(;e<t.length&&(t[e]==="\r"||t[e]===`
`);)e++;let n=t.length-1;for(;n>=0&&(t[n]==="\r"||t[n]===`
`||t[n]===" "||t[n]==="	");)n--;return t.substring(e,n+1)}i(zs,"trimLineEndingsAndTrailingWhitespace");var $s=class{constructor(e,n){this.referenceExtractors=new Map;this.index=e;for(let r of n)this.referenceExtractors.set(r.languageId,r)}static{i(this,"ContextRetrievalStrategy")}},kr=class extends $s{static{i(this,"UnqualifiedNameRetrievalStrategy")}constructor(e,n,r,o){super(e,n),this.caseSensitive=r,this.typesOnly=o}async getContextAtPositionAsync(e,n,r,o,s){let a=this.referenceExtractors.get(o);if(!a)return[];Nt(s);let u=await a.extractReferences(e,n);Nt(s);let d=Array.from(u);d.sort((w,x)=>this.compareSymbolRangesByProximityToCaret(w,x,r));let f=[],g=new Set,v=await this.findDefinitionsViaUnqualifiedNames(d,s);this.typesOnly&&(v=v.filter(w=>hn(w.kind)));for(let w of v)g.has(JSON.stringify(w))||(g.add(JSON.stringify(w)),f.push(await this.makeSymbolRangeNodeFromDefinition(w,s)));return f}async findDefinitionsViaUnqualifiedNames(e,n){let r=Array.from(new Set(e.map(g=>g.unqualifiedName))),o=!this.caseSensitive,s=await this.index.findPotentialDefinitionsAsync(r,o,n),a=i(g=>o?g.toLowerCase():g,"lowercaseIfCaseInsensitive"),u=i(g=>a(g.unqualifiedName),"getSymbolKey"),d=new Map;for(let g of s){let v=u(g),w=d.get(v)??[];d.set(v,[...w,g])}let f=[];for(let g of r){let v=d.get(a(g));!v||v.length>20||f.push(...v)}return f}async makeSymbolRangeNodeFromDefinition(e,n){if(Nt(n),hn(e.kind)){let r=await this.index.findSymbolsByFullyQualifiedNamePrefix(e.fileName,e.fullyQualifiedName+".",n),o=await Promise.all(r.map(s=>this.makeSymbolRangeNodeFromDefinition(s,n)));return{node:e,children:o}}else return{node:e,children:[]}}compareSymbolRangesByProximityToCaret(e,n,r){let o=e.extentRange.end<=r,s=n.extentRange.end<=r;if(o&&!s)return-1;if(!o&&s)return 1;let a=Math.abs(e.extentRange.start-r),u=Math.abs(n.extentRange.start-r);return a-u}},Ai=class{constructor(e,n){this.strategies=new Map;this.strategies.set("go",new kr(e,n,!0,!0)),this.strategies.set("java",new kr(e,n,!0,!0)),this.strategies.set("python",new kr(e,n,!0,!1))}static{i(this,"SyntaxAwareContextRetrieval")}async getStringifiedContextAtPositionAsync(e,n,r,o,s,a){let u=await this.getContextAtPositionAsync(e,n,r,o,a);Nt(a);let d=Ge();return pc(u,s,e,d,a)}async getContextAtPositionAsync(e,n,r,o,s){return this.strategies.has(o)?this.strategies.get(o).getContextAtPositionAsync(e,n,r,o,s):[]}};p();p();p();p();var _n={Id:"id"},rt={FilePath:"filePath",LastWriteTimeUtc:"lastWriteTimeUtc"},oe={DocumentId:"documentId",FullyQualifiedName:"fullyQualifiedName",UnqualifiedName:"unqualifiedName",CommentStart:"commentStart",CommentLength:"commentLength",NameStart:"nameStart",NameLength:"nameLength",BodyStart:"bodyStart",BodyLength:"bodyLength",ExtentStart:"extentStart",ExtentLength:"extentLength",SymbolKind:"symbolKind",RefKind:"refKind"};p();p();var Di=class{constructor(e,n,r){this.tableName=e;this.createOptimizations=n;this.extraCreateDeclarations=r;this.primaryKey=new Hs(_n.Id)}static{i(this,"SQLTableQueryGenerator")}createTableQueries(){return this.createTableString??=this.generateCreateTableString(),[this.createTableString,...this.createOptimizations]}generateCreateTableString(){let e=this.fields.map(n=>n.initColumnString());return this.extraCreateDeclarations&&e.push(this.extraCreateDeclarations),e.push(),[`CREATE TABLE IF NOT EXISTS ${this.tableName} (`,`    ${this.primaryKey.initColumnString()},`,`    ${e.join(`,
`)}`,")"].join(`
`)}insertQuery(e,n){this.cachedInsertQueryStrings??=this.generateInsertQueryStrings();let r=[this.cachedInsertQueryStrings.prefix,Array(n).fill(this.cachedInsertQueryStrings.valuesTemplate).join(`,
`)];return e&&r.push("ON CONFLICT DO NOTHING"),r.join(`
`)}generateInsertQueryStrings(){return{prefix:`INSERT INTO ${this.tableName} (${this.fields.map(e=>e.name).join(", ")})
VALUES`,valuesTemplate:`(${Array(this.fields.length).fill("?").join(", ")})`}}},Ir=class t extends Di{constructor(){super(t.tableName,[`CREATE UNIQUE INDEX IF NOT EXISTS 'IX_Document_FilePath' ON '${t.tableName}' ('${rt.FilePath}');`]);this.fields=[new Mr(rt.FilePath,{notNull:!0,collate:!0,noCase:!0,unique:!0}),new Je(rt.LastWriteTimeUtc,{notNull:!0})]}static{i(this,"DocumentQueryGenerator")}static{this.tableName="Document"}},Rr=class t extends Di{constructor(){super(t.tableName,[`CREATE INDEX IF NOT EXISTS 'IX_Symbol_DocumentId' ON '${t.tableName}' ('${oe.DocumentId}', '${oe.ExtentStart}', '${oe.ExtentLength}');`,`CREATE INDEX IF NOT EXISTS 'IX_Symbol_UnqualifiedName' ON '${t.tableName}' ('${oe.UnqualifiedName}');`],`FOREIGN KEY(${oe.DocumentId}) REFERENCES Document(${_n.Id}) ON DELETE CASCADE`);this.fields=[new Je(oe.DocumentId),new Mr(oe.FullyQualifiedName,{notNull:!0}),new Mr(oe.UnqualifiedName,{notNull:!0}),new Je(oe.CommentStart,{notNull:!0}),new Je(oe.CommentLength,{notNull:!0}),new Je(oe.NameStart,{notNull:!0}),new Je(oe.NameLength,{notNull:!0}),new Je(oe.BodyStart,{notNull:!0}),new Je(oe.BodyLength,{notNull:!0}),new Je(oe.ExtentStart,{notNull:!0}),new Je(oe.ExtentLength,{notNull:!0}),new Je(oe.SymbolKind,{notNull:!0}),new Je(oe.RefKind,{notNull:!0})]}static{i(this,"SymbolQueryGenerator")}static{this.tableName="Symbol"}},Pr=class{constructor(e,n){this.name=e;this.notNull=n?.notNull??!1}static{i(this,"SQLField")}},Mr=class extends Pr{static{i(this,"StringColumn")}constructor(e,n){super(e,{notNull:n?.notNull}),this.collate=n?.collate??!1,this.noCase=n?.noCase??!1,this.unique=n?.unique??!1}initColumnString(){let e=this.collate?"COLLATE":void 0,n=this.noCase?"NOCASE":void 0,r=this.notNull?"NOT NULL":void 0,o=this.unique?"UNIQUE":void 0,s=[e,n,r,o].filter(a=>a).join(" ");return`'${this.name}' VARCHAR(500) ${s}`}},Je=class extends Pr{static{i(this,"NumberColumn")}initColumnString(){return`'${this.name}' INTEGER${this.notNull?" NOT NULL":""}`}},Hs=class extends Pr{static{i(this,"NumberPrimaryKeyColumn")}initColumnString(){return`'${this.name}' INTEGER PRIMARY KEY AUTOINCREMENT${this.notNull?" NOT NULL":""}`}};var Oi=class{static{i(this,"SQLTable")}constructor(e){this.queryGenerator=this.createQueryGenerator(),this.init=this.doInit(e)}async doInit(e){let n=await e;if(n)return await this.create(n),n}async create(e){let n=i(o=>new Promise((s,a)=>{e.run(o,u=>{u?a(u):s()})}),"runQuery"),r=this.queryGenerator.createTableQueries();for(let o of r)await n(o)}async insert(e,n){let r=await this.init;r&&await new Promise((o,s)=>{let a=this.queryGenerator.insertQuery(n,e.length);r.run(a,e.map(u=>Object.values(u)).flat(),function(u){u?s(u):o(this)})})}async getAllRows(){let e=await this.init;return e?ut(e,`SELECT * FROM ${this.queryGenerator.tableName}`,[]):[]}async deleteRow(e){let n=await this.init;if(n)return ut(n,`DELETE FROM ${this.queryGenerator.tableName} WHERE ${_n.Id} = ?`,[e])}},Ot=class t extends Oi{static{i(this,"DocumentTable")}static{this.tableName=Ir.tableName}createQueryGenerator(){return new Ir}async updateTimestamp(e,n){let r=await this.init;r&&await ut(r,`UPDATE ${t.tableName} SET ${rt.LastWriteTimeUtc} = ? WHERE ${rt.FilePath} = ?`,[n,e])}async deleteAllWithPath(e){let n=await this.init;n&&await ut(n,`DELETE FROM ${t.tableName} WHERE ${rt.FilePath} = ?`,[e])}async getDocumentByFilePath(e){let n=await this.init;return n?ut(n,`SELECT * FROM ${this.queryGenerator.tableName} WHERE ${rt.FilePath} = ?`,[e]):[]}},Le=class t extends Oi{static{i(this,"SymbolTable")}static{this.tableName=Rr.tableName}createQueryGenerator(){return new Rr}async clearAllSymbolsFromDocument(e){let n=await this.init;if(n)return ut(n,`DELETE FROM ${t.tableName} WHERE ${oe.DocumentId} = ?`,[e])}};async function ut(t,e,n){return new Promise((r,o)=>t.all(e,n,(s,a)=>{s&&o(s),r(a)}))}i(ut,"runPromisifiedDBQuery");var qi=class{constructor(e){this.databaseFileName=e;this.innerJoinStatement=`INNER JOIN ${Ot.tableName} ON ${Le.tableName}.${oe.DocumentId} = ${Ot.tableName}.${_n.Id}`;this.db=this.initDb(e),this.documentTable=new Ot(this.db),this.symbolTable=new Le(this.db)}static{i(this,"DocumentSymbolDatabase")}async initDb(e){let n;try{n=await Promise.resolve().then(()=>Ut(Rc()))}catch(o){console.error("Error loading sqlite3 module:",o);return}let r;try{r=await new Promise((o,s)=>{let a=new n.default.Database(e,u=>{u?s(u):o(a)})})}catch(o){console.error("Error initializing database:",o);return}return await ut(r,"pragma journal_mode=wal",[]),await ut(r,"pragma synchronous=normal",[]),await ut(r,"pragma optimize=0x10002",[]),await ut(r,"pragma foreign_keys = ON",[]),r}async close(){let e=await this.db;if(e)return await this.documentTable.init,await this.symbolTable.init,new Promise((n,r)=>{e.close(o=>o?r(o):n())})}async querySymbolsFuzzilyUsingUnqualifiedName(e,n){return await this.query([`SELECT * FROM ${Le.tableName}`,this.innerJoinStatement,`WHERE ${oe.UnqualifiedName} BETWEEN ? AND (? || '~')`,`ORDER BY ${oe.UnqualifiedName}`,"LIMIT ?"].join(`
`),[e,e,n])}async querySymbolsUsingUnqualifiedNames(e,n){let r=e.map(()=>"?").join(", "),o=n?"COLLATE NOCASE ":"";return await this.query([`SELECT * FROM ${Le.tableName}`,this.innerJoinStatement,`WHERE ${oe.UnqualifiedName} ${o}IN (${r})`].join(`
`),e)}async querySymbolsUsingFullyQualifiedName(e){return this.query([`SELECT * FROM ${Le.tableName}`,this.innerJoinStatement,`WHERE ${oe.FullyQualifiedName} = ?`].join(`
`),[e])}async querySymbolsContainingPosition(e,n){return this.query([`SELECT * FROM ${Le.tableName}`,this.innerJoinStatement,`WHERE ${Ot.tableName}.${rt.FilePath} = ? AND ${Le.tableName}.${oe.ExtentStart} <= ? AND (${Le.tableName}.${oe.ExtentStart} + ${Le.tableName}.${oe.ExtentLength}) >= ?`].join(`
`),[e,n,n])}async querySymbolsContainedByRange(e,n,r){return this.query([`SELECT * FROM ${Le.tableName}`,this.innerJoinStatement,`WHERE ${Ot.tableName}.${rt.FilePath} = ? AND ${Le.tableName}.${oe.ExtentStart} >= ? AND (${Le.tableName}.${oe.ExtentStart} + ${Le.tableName}.${oe.ExtentLength}) <= ?`,`ORDER BY ${Le.tableName}.${oe.ExtentStart}`].join(`
`),[e,n,r])}async querySymbolsByQualifiedNamePrefix(e,n){return this.query([`SELECT * FROM ${Le.tableName}`,this.innerJoinStatement,`WHERE ${Ot.tableName}.${rt.FilePath} = ? AND ${Le.tableName}.${oe.FullyQualifiedName} LIKE ?`,`ORDER BY ${Le.tableName}.${oe.ExtentStart}`].join(`
`),[e,`${n}%`])}async insertSymbols(e){return await this.symbolTable.insert(e,!1)}async insertDocument(e,n,r=!1){return await this.documentTable.insert([{filePath:e,lastWriteTimeUtc:n}],r)}async clearAllSymbolsFromDocument(e){return this.symbolTable.clearAllSymbolsFromDocument(e)}async updateDocumentTimestamp(e,n){return this.documentTable.updateTimestamp(e,n)}async deleteAllDocumentsWithPath(e){return this.documentTable.deleteAllWithPath(e)}async getAllDocuments(){return this.documentTable.getAllRows()}getDocument(e){return this.documentTable.getDocumentByFilePath(e)}async query(e,n){let r=await this.db;return r?(await this.documentTable.init,await this.symbolTable.init,ut(r,e,n)):[]}};var Wi=class{static{i(this,"SQLStorageReaderWriter")}constructor(e){this.database=new qi(e)}async close(){await this.database.close()}async insertOrReplaceDocumentSymbolsAsync(e,n,r){let o=await this.getOrCreateDocumentAsync(e,n);await this.database.clearAllSymbolsFromDocument(o.id),r.length>0&&await this.database.insertSymbols(r.map(s=>({documentId:o.id,fullyQualifiedName:s.fullyQualifiedName,unqualifiedName:s.unqualifiedName,commentStart:s.commentRange.start,commentLength:s.commentRange.length,nameStart:s.nameRange.start,nameLength:s.nameRange.length,bodyStart:s.bodyRange.start,bodyLength:s.bodyRange.length,extentStart:s.extentRange.start,extentLength:s.extentRange.length,symbolKind:s.kind,refKind:s.refKind}))),await this.database.updateDocumentTimestamp(e,n)}async addDocumentsAsync(e){for(let n of e)n=n.toLowerCase(),await this.database.insertDocument(n,Date.now(),!0)}async deleteDocumentAsync(e){return await this.database.deleteAllDocumentsWithPath(e.toLowerCase())}async updateDocumentTimestampAsync(e,n){return await this.database.updateDocumentTimestamp(e.toLowerCase(),n)}async fuzzyMatchSymbolsAsync(e,n){return Bn(await this.database.querySymbolsFuzzilyUsingUnqualifiedName(e,n))}async findPotentialDefinitionsAsync(e,n,r){let o=[],a=0;for(;a<e.length;){let u=e.slice(a,a+500);a+=500;let d=await this.database.querySymbolsUsingUnqualifiedNames(u,n);o.push(...d),Nt(r)}return Bn(o)}async getDefinitionsAsync(e){return Bn(await this.database.querySymbolsUsingFullyQualifiedName(e))}async findSymbolsContainingPositionAsync(e,n){let r=await this.database.querySymbolsContainingPosition(e.toLowerCase(),n);return Bn(r)}async findSymbolsContainedByRangeAsync(e,n,r){return Bn(await this.database.querySymbolsContainedByRange(e.toLowerCase(),n,r))}async findSymbolsByFullyQualifiedNamePrefix(e,n){return Bn(await this.database.querySymbolsByQualifiedNamePrefix(e.toLowerCase(),n))}async getDocumentsAsync(){return this.database.getAllDocuments()}async getDocumentAsync(e){let n=await this.database.getDocument(e);if(n?.at(0))return n[0]}async getOrCreateDocumentAsync(e,n){let r=await this.database.getDocument(e);if(r?.at(0))return r[0];await this.database.insertDocument(e,n,!0);let o=await this.database.getDocument(e);if(!o)throw Error("Unable to insert document");return o[0]}};function Bn(t){return t.map(e=>new qn(e.filePath,e.fullyQualifiedName,e.unqualifiedName,new at(e.commentStart,e.commentLength),new at(e.nameStart,e.nameLength),new at(e.bodyStart,e.bodyLength),new at(e.extentStart,e.extentLength),e.symbolKind,e.refKind))}i(Bn,"symbolsToSymbolRanges");var Bi=Ut(require("fs/promises"));var Ui=class{static{i(this,"Index")}constructor(e,n){this.storage=new Wi(e),this.symbolExtractors=n}dispose(){return this.storage.close()}get reader(){return this.storage}async indexFile(e,n){let r=Yr(e);if(!r)throw Error(`Cannot resolve a readable file path from ${e}`);let o;try{o=await Bi.stat(r)}catch{await this.storage.deleteDocumentAsync(e);return}let s=o.mtimeMs,a=await this.storage.getDocumentAsync(e);if(a&&a.lastWriteTimeUtc>=s)return;let u=this.symbolExtractors.find(g=>g.languageId==n);if(!u)return;let d=(await Bi.readFile(r)).toString(),f=await u.extractSymbols(e,d);await this.storage.insertOrReplaceDocumentSymbolsAsync(e,s,f)}async getDocumentFilePaths(){return(await this.storage.getDocumentsAsync()).map(n=>n.filePath)}};p();function Ks(t){let e=t;return typeof e?.cwd=="string"&&Array.isArray(e?.indexWorkspaceRoots)&&e.indexWorkspaceRoots.every(n=>kh(n))}i(Ks,"isIndexWorkerData");var Js=class{static{i(this,"IndexNotification")}constructor(e){this.operation=e}};var Ft={CreateIndex:"createIndex",AddOrInvalidated:"addOrInvalidated",GetContext:"getContext",Exit:"exit",Response:"response",RemoveIndex:"removeIndex",Cancel:"cancel",GetAllDocumentsInWorkspace:"getAllDocumentsInWorkspace"};var yt=class extends Js{constructor(n,r,o){super(Ft.Response);this.id=n;this.error=r;this.data=o;r&&"code"in r&&typeof r.code=="string"&&(this.code=r.code)}static{i(this,"ResponseMessage")}};function kh(t){return"databaseFilePath"in t&&"rootPath"in t}i(kh,"isIndexableWorkspaceFolder");var sp=Ut(op()),En=require("worker_threads");var Mo=class{static{i(this,"IndexInfo")}constructor(e){this.index=new Ui(e,fc),this.contextRetreival=new Ai(this.index.reader,dc)}},Co=class t{constructor(e,n){this.indices=new Map;this.cancellationTokens=new Map;for(let r of n){let o=Bt(r.rootPath);this.indices.set(o,new Mo(r.databaseFilePath))}this.port=e,this.port.on("message",r=>void this.dispatchMessage(r,this.indices,this.cancellationTokens))}static{i(this,"IndexWorker")}async dispatchMessage(e,n,r){try{let o=new sp.CancellationTokenSource;r.set(e.id,o);let s;switch(e.operation){case Ft.AddOrInvalidated:s=await t.dispatchAddOrInvalidate(e,n,o.token);break;case Ft.GetContext:s=await t.dispatchGetContext(e,n,o.token);break;case Ft.Cancel:r.get(e.id)?.cancel(),s=new yt(e.id,void 0,void 0);break;case Ft.Exit:s=await this.dispatchExit(e,n,o.token);break;case Ft.CreateIndex:s=await t.dispatchCreateIndex(e,n,o.token);break;case Ft.RemoveIndex:s=await t.dispatchRemoveIndex(e,n,o.token);break;case Ft.GetAllDocumentsInWorkspace:s=await t.GetAllDocumentsInWorkspaceRequest(e,n,o.token);break;default:this.port?.postMessage(new Error(`Unknown operation: ${e.operation}`))}s&&this.port?.postMessage(s),r.get(e.id)?.dispose(),r.delete(e.id)}catch(o){if(!(o instanceof Error))throw o;this.port?.postMessage(new yt(e.id,o,void 0))}}static async GetAllDocumentsInWorkspaceRequest(e,n,r){let o=Bt(e.baseWorkspaceFolderUri),s,a;return n.has(o)?a=await n.get(o).index.getDocumentFilePaths():s=new Error(`Index not found for ${e.baseWorkspaceFolderUri}`),new yt(e.id,s,a)}static async dispatchAddOrInvalidate(e,n,r){let o=Bt(e.fileUri),s=t.getIndexInfo(o,n)?.index,a;return s?await s.indexFile(e.fileUri,e.languageId):a=new Error(`Index not found for ${e.fileUri}`),new yt(e.id,a,void 0)}static async dispatchGetContext(e,n,r){let o=Bt(e.fileUri),s=t.getIndexInfo(o,n)?.contextRetreival,a,u;return s?u=await s.getStringifiedContextAtPositionAsync(e.fileUri,e.code,e.offset,e.languageId,8e3,r):a=new Error(`ContextRetrieval not found for ${e.fileUri}`),new yt(e.id,a,u)}async dispatchExit(e,n,r){for(let o of n.values())await o.index.dispose();n.clear(),this.port?.postMessage(new yt(e.id,void 0,void 0)),this.port?.close()}static async dispatchCreateIndex(e,n,r){let o=Bt(e.baseWorkspaceFolderUri);return n.has(o)||n.set(o,new Mo(e.databaseFilePath)),new yt(e.id,void 0,void 0)}static async dispatchRemoveIndex(e,n,r){let o=Bt(e.baseWorkspaceFolderUri);if(n.has(o)){let s=n.get(o);s&&await s.index.dispose(),n.delete(o)}return new yt(e.id,void 0,void 0)}static getIndexInfo(e,n){for(let[r,o]of n)if(e.startsWith(r))return o}};function M_(){return Ks(En.workerData)}i(M_,"isIndexWorker");function C_(){let t=En.parentPort;if(!t)throw new Error("This must be run a worker thread.");if(!Ks(En.workerData))throw new Error("Worker data must provide a valid database path.");let e=En.workerData.cwd;process.cwd=()=>e,new Co(t,En.workerData.indexWorkspaceRoots)}i(C_,"runIndexWorker");0&&(module.exports={IndexWorker,isIndexWorker,runIndexWorker});
//# sourceMappingURL=indexWorker.js.map
